{"project_id": "Alacritty", "bug_id": "1", "source_type": "github", "llm_input_text": "[Title]: Scrolling vim in tmux while a separate pane is printing causes corruption\n[Symptom]:\nGiven this setup\n\n[Image: image]\n\nScrolling a vim split **while the middle left pane is printing** will cause vim to become corrupt as shown in this screenshot:\n\n[Image: image]\n\nI have a theory that this is because writing to the _pty_ is not synchronized at all. The input thread simply writes to the file descriptor when it has data to write. The only way to test if this is true would be implementing an actual event loop for I/O. The easiest way to do that is dropping mio into the pty thread and sending all writes from the input handling over the mio channel.\n\n[Context/Logs]:\n- I actually managed to reproduce it with a slightly simpler tmux arrangement. It did not seem to be an issue when there was not a vertical split on the bottom. This may suggest that it's not concurrent read + write that's an issue but instead something to do with printing data while not in a scrolling region.\n\n[Image: image]"}
{"project_id": "Alacritty", "bug_id": "2", "source_type": "github", "llm_input_text": "[Title]: Resizing doesn't work properly on macOS\n[Symptom]:\nThe out-of-band resize events on macOS don't trigger a refresh. Need to make it possible to kick the event loop from that resize handler.\n"}
{"project_id": "Alacritty", "bug_id": "3", "source_type": "github", "llm_input_text": "[Title]: Doesn't shutdown properly from EOF on macOS\n[Symptom]:\nJust open Alacritty and hit ` ` to repro\n"}
{"project_id": "Alacritty", "bug_id": "4", "source_type": "github", "llm_input_text": "[Title]: Sometimes reading from pty doesn't trigger a draw\n[Symptom]:\nSeems to have happened since the last major refactor.\n"}
{"project_id": "Alacritty", "bug_id": "5", "source_type": "github", "llm_input_text": "[Title]: Use XDG_CONFIG_PATH value\n[Symptom]:\nCurrently hardcoded to `$HOME/.config`, but that's not necessarily correct. [URL]\n"}
{"project_id": "Alacritty", "bug_id": "6", "source_type": "github", "llm_input_text": "[Title]: UK keyboard layout: '#' and '~' key not working on Linux with x11\n[Symptom]:\nI've just quickly followed the dependencies for keyboard input. It looks like alacritty depends on [Link: glutin] which for linux depends on [Link: winit] and I found the following lines are commented out in the most recent version [Link: src/api/x11/events.rs#L177] and [Link: src/api/x11/events.rs#L270].\r\n\r\nThis seems to be relevant to my issue but I am unsure why it has been commented out. If this is the reason then the layout of my keyboard is irrelevant and most likely other linux users would have the same problem.\r\n\r\nHaving encountered the issue while using alacritty I'm submitting an issue here but should I also post an issue on winit? Or is there another reason for this issue?\n\n[Context/Logs]:\n- This problem would need to be fixed upstream in `winit` as you've suggested. Alacritty is actually on an older for of `glutin` from before the split, and so there would still be some work here to get an upstream patch.\n- I'll see if I can fix it tomorrow. Any particular reason you are using an older version of `glutin`? Is it changing too often?\n- ... [Middle Discussions Snipped for Brevity] ...\n- Can we confirm this is fixed ? If so, the issue can be closed\n- if you  can see the mentioned PR isn't yet landed."}
{"project_id": "Alacritty", "bug_id": "7", "source_type": "github", "llm_input_text": "[Title]: PgUp and PgDown don't work\n[Symptom]:\n\n"}
{"project_id": "Alacritty", "bug_id": "8", "source_type": "github", "llm_input_text": "[Title]: `alt` key don't work\n[Symptom]:\nexample:\r\n\r\n```\npython\r\nimport curses\r\n\r\ndef Main(screen):\r\n   while True:\r\n... [Log Snipped] ...\n\r\ncurses.wrapper(Main)\n```\r\n\r\n<img width=\"556\" alt=\"screenshot_20170103_151940\" src=\"[URL]\n\n[Context/Logs]:\n- I had no idea this was a thing. I've looked into this a bit, and ALT seems to be quite a special case for terminal emulators. When there's a key pressed with alt, the terminal emulator should send the escape character (`27` or `\\033` or `\\x1b`) followed by the character that was pressed.\n- Should be fixed :smile:\n- Also, thanks a lot for the curses script; it was very helpful!"}
{"project_id": "Alacritty", "bug_id": "9", "source_type": "github", "llm_input_text": "[Title]: Scrolling should not write to the pty when one of the mouse modes isn't active\n[Symptom]:\n\n"}
{"project_id": "Alacritty", "bug_id": "10", "source_type": "github", "llm_input_text": "[Title]: Improve error handling for font loading\n[Symptom]:\nCurrently there's a failing assertion that the user sees as a backtrace. cc #21\n\n[Context/Logs]:\n- Refactored fontconfig usage to not panic. Still need to have some better error handling when fonts are not found."}
{"project_id": "Alacritty", "bug_id": "11", "source_type": "github", "llm_input_text": "[Title]: alacritty does not draw background color for (some) invisible characters\n[Symptom]:\nFor example in htop.\r\n[Image: alacritty_bg_example]\r\nEasily visible in this command:\r\n```zsh\r\nyes \"$(seq 16 231)\" | while read i; do printf \"\\x1b[48;5;${i}m\\n\"; sleep .02; done\r\n```\r\nbecause it is entirely invisible in alacritty, but visible in other terminal emulators\n\n[Context/Logs]:\n- Thanks for the report! This should be relatively easy to fix as soon as I can make some time.\n- @jwilm Duplicate issue #123 logged. Hopefully this will provide some extra testing scenarios.\r\n\r\nWould it be possible to point to the general direction where this sort of thing is handled in the alacritty codebase? Maybe as a beginner task that is easy to fix?\n- ... [Middle Discussions Snipped for Brevity] ...\n- Actually the gif I posted above explains this quite nicely. You can see the `linefeed` debug being printed out even though nothing new is really being rendered. Could this bit of code be to do with moving at all - rather than just rendering \"new\" things on screen?\r\n\r\nEDIT: I think it may be easier to see this and find the code responsible with a step through debugger. I'm heading off for a little bit now - but maybe by the time I get back somebody would've beat me to the bug fix :P\r\n\r\nEDIT EDIT: I'm going to throw a guess out there and say that the easiest place to fix this would be the renderer? Although it would be more desirable to fix it further up the chain where it is easier to unit test. Commenting out loud here :)\n- @CarwynNelson ~~I think I've managed to fix it here: [URL]\r\n\r\nWould you mind trying this commit before I make a PR? \ud83d\ude03 \r\nAt the moment I'm only fixing '\\t' and '\\n' any other white space chars I should fix?\r\n\r\nEDIT: sorry, some issue with normal linefeed"}
{"project_id": "Alacritty", "bug_id": "12", "source_type": "github", "llm_input_text": "[Title]: Scrolling breaks in vim with ttymouse=sgr on Linux\n[Symptom]:\nScrolling always goes down regardless of which way the mouse wheel moves.\n"}
{"project_id": "Alacritty", "bug_id": "13", "source_type": "github", "llm_input_text": "[Title]: [Ranger] Bright colors do not get transferred correctly to bg color\n[Symptom]:\n[Image: ranger]\r\n\r\nUrxvt top, alacritty bottom.\r\n\r\nWhen using ranger with alacritty I noticed that the colors do not match with the ones I get with urxvt. It seems like ranger uses the current color of the file type to draw the background. However in alacritty it doesn't seem to take into account that the bold text changed the color and instead uses the non bright color to draw the bg strip.\n\n[Context/Logs]:\n- There's a config option to draw bold text with bright colors. Please make sure you've got that enabled and that your bright colors are configured differently than normal colors.\n- If you mean `draw_bold_text_with_bright_colors: true` then I have that activated, yes.\r\n\r\nAs you can see in the screenshot, the bold text has a different color than the bg color with alacritty.\r\nHere is my color settings:\r\n```\n# Colors (Tomorrow Night Bright)\r\ncolors:\r\n  # Default colors\r\n  primary:\r\n    background: ' '\r\n... [Log Snipped] ...\n    cyan:    ' '\r\n    white:   ' '\n```\n- Oh, sorry. I misunderstood. Sounds like a bug.\n- @jwilm It seems like the problem is the \"invert\" color terminal code:\r\n```\r\necho -e \"\\e[32mNormal \\e[7mInverted\\e[27m \\e[1mBold \\e[7mInverted Bold\\e[27m\"\r\n```\r\n\r\nPaste that into your terminal and you will see that the inverted bold is not correctly handled. I did take a look at where the bright color computation happens and I think that it happens too late in the pipeline to be able to handle this.\r\n\r\nBecause as it is now, the fg and bg colors are split of long before the bright check happens. So it is impossible to know if the bg color should be bright or not."}
{"project_id": "Alacritty", "bug_id": "14", "source_type": "github", "llm_input_text": "[Title]: If a job is running in the background, the terminal won't exit\n[Symptom]:\nIf I do, for example, this:\r\n\r\n    xclock & disown\r\n\r\nand then exit, the terminal gets unresponsive and won't exit; and I have to use my WM's \"destroy\" utility to get rid of it.\n\n[Context/Logs]:\n- In this case, `io_thread.join()` in `main.rs` never actually joins. After `join()` is called, we receive one more event of kind `is_hup()` which (as far as I can see) we should respond to by shutting down the event loop. We currently just loop again, which in turn causes the event loop to wait forever and never allow it to join to the main thread. Hilarity ensues.\n- @lukaslueg I'm not seeing the same thing you are\r\n\r\n```rust\r\nif kind.is_hup() {\r\n    break 'event_loop;\r\n}\r\n```\r\n\r\nThis breaks the outermost loop, and the thread function returns.\n- Yes. My goggles, they do nothing.\r\n\r\nBut `join()` never returns..."}
{"project_id": "Alacritty", "bug_id": "15", "source_type": "github", "llm_input_text": "[Title]: thread 'main' panicked at 'index 50 out of range for slice of length 48', /checkout/src/libcore/slice.rs:578\n[Symptom]:\n```\nRUST_BACKTRACE=1 alacritty\r\nthread 'main' panicked at 'index 50 out of range for slice of length 48', /checkout/src/libcore/slice.rs:578\r\nstack backtrace:\r\n   0:  \r\n   1:  \r\n... [Log Snipped] ...\n  14: __libc_start_main\r\n  15:  \n```\r\n\r\nArch Linux, `alacritty-git`, happens with both rust stable and nightly from rustup.\n\n[Context/Logs]:\n- I am running into the same problem, it seems to crash in glyph loading :\r\n\r\n```\n7:       - core::slice::slice_index_len_fail::h32dba95666464c4a\r\n                        at /buildslave/rust-buildbot/slave/stable-dist-rustc-linux/build/src/libcore/slice.rs:578\r\n   8:       - font::ft::FreeTypeRasterizer::get_rendered_glyph::h4dec5f9eab2e4824\r\n                        at /buildslave/rust-buildbot/slave/stable-dist-rustc-linux/build/src/libcore/slice.rs:709\r\n                        at /buildslave/rust-buildbot/slave/stable-dist-rustc-linux/build/src/libcore/slice.rs:560\r\n... [Log Snipped] ...\n                        at /home/jc/.local/src/alacritty/font/src/ft/mod.rs:85\r\n  11:       - alacritty::display::Display::new::h59275a39cc7a9c46\n```\r\n\r\nI tried to do a `git bisect` on this, and I found that   is responsible. But this commit does not build : \r\n\r\n```\nCompiling font v0.1.0 (file:///home/jc/.local/src/alacritty/font)\r\nerror: this file contains an un-closed delimiter\r\n   --> font/src/ft/list_fonts.rs:587:2\r\n    |\r\n587 | \r\n... [Log Snipped] ...\n\r\nerror: Could not compile `font`.\n```\n- @gutigen, you still can use 28700ed for the moment but I don't know how to tell it to AUR.\n- ... [Middle Discussions Snipped for Brevity] ...\n- Was testing out Alacritty earlier today and ran into this. Built from master (using Rust 1.16.0), running on Arch Linux, and it only happens when I set the font size to something smaller than `10.0` (though the \"breaking point\" appears to be at `9.5` but I initially wanted to set it to `9.0`).\n- You've got what may be a duplicate bug here: #185 \r\n\r\nI'll cross-post some digging I did (seems to have to do with pitch and width calculations, and perhaps width being larger than pitch?):\r\n\r\nI've run into this issue as well (specifically the 'index 68 out of range for slice of length 64' version of the panic). Here is some gdb info at the point where the panic occurs in font/src/mod.rs:\r\n```\n(gdb) next\r\n212             let mut packed = Vec::with_capacity((bitmap.rows() * bitmap.width()) as usize);\r\n(gdb)\r\n213             for i in 0..bitmap.rows() {\r\n(gdb)\r\n... [Log Snipped] ...\nglyph_key =  \r\nhave_recursed = true\n```\r\nNote that pitch = 4, while the difference between start and end (i.e. bitmap.width()) is 8. On our last iteration, we end up here (some variables omitted):\r\n```\r\n(gdb) info locals\r\nstop = 68\r\nstart = 60\r\ni = 15\r\niter = core::ops::Range  {start: 16, end: 16}\r\npitch = 4\r\nbuf = &[u8] {data_ptr:   \"\\000\", length: 64}\r\nc = 127 '\\x7f'\r\n```\r\nNot sure how best to fix it. My stopgap is to replace line 216 in mod.rs with:\r\n```\r\nlet stop = cmp::min(buf.len() as usize, start + bitmap.width() as usize);\r\n```\r\n...but I'm sure there's a better way. Let me know if there is any other info from the trace you need."}
{"project_id": "Alacritty", "bug_id": "16", "source_type": "github", "llm_input_text": "[Title]: Vim theme background colours not rendered properly\n[Symptom]:\nI have the [Link: gruvbox] theme setup for vim but the background colour does not seem to be rendering properly.\r\n\r\nAlacritty on the left vs iterm2 on the right\r\n\r\n<img width=\"1276\" alt=\"screen shot 2017-01-07 at 00 16 59\" src=\"[URL]\n\n[Context/Logs]:\n- I also have colour issues with vim. I use the solarized dark theme in alacritty and vim. Works in st and gnome-terminal.\r\n\r\n\r\n[Image: vimissue]\n- Thanks @d3rrial I will close this issue and link to it in #85.\n- ... [Middle Discussions Snipped for Brevity] ...\n- Same here. #720 fixes it.\n- #720 fixes it for me too. Thank you! It also fixed the basic background color which was not taking into account outside of Vim. Amazing!\r\n\r\nOn the left is before #720. On the right is with #720.\r\n[Image: selection_010]\r\n\r\nOpening a file in Vim without scrolling\r\n[Image: selection_011]\r\n\r\nOpening a file in Vim, then scrolling down\r\n[Image: selection_012]"}
{"project_id": "Alacritty", "bug_id": "17", "source_type": "github", "llm_input_text": "[Title]: \"out of bounds\" crash - access beyond last row?\n[Symptom]:\nRunning the irssi irc client continuously in tmux on a remote machine causes alacritty to always crash after irregular amounts of time.\r\n\r\nThe window has 81 rows, so it seems something is trying to access rows that don't exist.\r\n\r\nAlacritty version is   from github.\r\n\r\nRun as:\r\n```RUST_LOG=full RUST_BACKTRACE=full ./target/debug/deps/alacritty- ```\r\n\r\nFull backtrace:\r\n```\nthread 'main' panicked at 'index out of bounds: the len is 82 but the index is 82', /Users/travis/build/rust-lang/rust/src/libcollections/vec.rs:1552\r\nstack backtrace:\r\n  0:          - std::sys::imp::backtrace::tracing::imp::unwind_backtrace::h884a721e113c3303\r\n  1:          - std::panicking::default_hook::{{closure}}::h7a7d734b2824d103\r\n  2:          - std::panicking::default_hook::h3eb11bd6cbfdc331\r\n... [Log Snipped] ...\n 29:       - _pthread_body\r\n 30:       - _pthread_start\n```\r\n\r\nThe durations after which crashes have occurred:\r\n```\n14936.222349\r\n72115.422882\r\n43475.226691\r\n25231.261642\r\n31821.904172\r\n... [Log Snipped] ...\n29907.619427\r\n15108.094483\n```\r\n\r\nRunning on OSX 10.11.6.\n\n[Context/Logs]:\n- Added\r\n```\ndiff --git a/src/term/mod.rs b/src/term/mod.rs\r\nindex 59cf6ba..7e6ef7c 100644\r\n--- a/src/term/mod.rs\r\n+++ b/src/term/mod.rs\r\n@@ -235,11 +235,20 @@ impl  RenderableCellsIter  {\r\n... [Log Snipped] ...\n \r\n     fn initialize(mut self, cursor_style: CursorStyle) -> Self {\n```\r\nto see what's going on, and this is the result:\r\n```\n27.766116      Running `target/debug/alacritty -v -v -v -d 222 82`\r\n40.905544 in populate_no_cursor: line: 62/82 col: 66/222\r\n44.834063 in populate_no_cursor: line: 63/82 col: 94/222\r\n348.115005 in populate_no_cursor: line: 5/82 col: 8/222\r\n355.532341 in populate_no_cursor: line: 63/82 col: 23/222\r\n... [Log Snipped] ...\n2905.169103   29:       - _pthread_body\r\n2905.169113   30:       - _pthread_start\n```\r\nso the cursor appears at column 0 one line beyond the screen.\r\nHope it helps in tracking the error down.\r\n\r\nThe error is triggered when my network connection has issues and my ssh session - running irssi in tmux - goes down.\r\n\r\nI'll figure out how to set `cursor.line` to `grid.num_lines() - 1` for now to see what happens.\n- An instance with the solution in   has been running for over a week now without any crashes. Before applying the fix, alacritty would crash several times per day.\r\n\r\nIt can be tested with:\r\n```sh\r\ntput csr 10 20; tput cup 25; for ((i=0; i  but not activated. Maybe it can be done with:\r\n```\ndiff\r\ndiff --git a/tests/ref.rs b/tests/ref.rs\r\nindex cea814e..7b820d3 100644\r\n--- a/tests/ref.rs\r\n+++ b/tests/ref.rs\r\n... [Log Snipped] ...\n     tmux_git_log\r\n     tmux_htop\n```"}
{"project_id": "Alacritty", "bug_id": "18", "source_type": "github", "llm_input_text": "[Title]: Problem loading fonts\n[Symptom]:\nHello, I am trying to use this font: [Link: ypn envypn]\r\n\r\nMy configuration looks like this:\r\n\r\n```\nyml\r\nfont:\r\n  normal:\r\n    family: ypn envypn \r\n  bold:\r\n... [Log Snipped] ...\n    y: 0.0\r\n  use_thin_strokes: false\n```\r\n\r\nBut i get the following error:\r\n\r\n```bash\r\nthread 'main' panicked at 'index out of bounds: the len is 0 but the index is 0', src/libcollections/vec.rs:1431\r\nnote: Run with `RUST_BACKTRACE=1` for a backtrace.\r\n```\r\n\r\nDid i miss something? I tried to adjust the size and the offset to see if there would be any difference but it's the same, is this a bug?\n\n[Context/Logs]:\n- Hmm, would you mind running this again with `RUST_BACKTRACE=1 alacritty`? Hard to say what the problem is with the short error.\n- I think that this might be fixed with #590. At least for me, I got the same error when I tried to use bitmap fonts before that was merged. But now it seems to be working nicely :)\n- ... [Middle Discussions Snipped for Brevity] ...\n- [Link: Tamzen] used with `Tamzen for Powerline` works with `size: 9.0` but nothing else\n- I've managed to fix this problem in pull request #776, more testers are welcomed."}
{"project_id": "Alacritty", "bug_id": "19", "source_type": "github", "llm_input_text": "[Title]: Prevent decreasing font size beyond the minimal value\n[Symptom]:\nLinux, X11.\r\nExtracted from [URL]\r\n\r\n-----\r\n\r\nI played with holding  Ctrl +/-  and found a silly issue, posting just in case you can immediately think of a simple fix, otherwise I guess it's not worth looking into:\r\n\r\n- Hold  Ctrl + . The value reaches its maximum value (274 in my case) and stays there, pressing  Ctrl +  further has no effect. Pressing  Ctrl -  once reduces font size to 272.\r\n- Now hold  Ctrl - . The value reaches its minimum value (2 in my case), but further presses of  Ctrl -  change the value to 2, again and again. If I press  Ctrl -  10 times after I already reached the minimal value of 2, then pressing  Ctrl +  once will have no effect - the font size will stay at 2. I have to press  Ctrl +  10 times to compensate for my earlier actions, before further presses of  Ctrl +  begin to actually increase the font.\n\n[Context/Logs]:\n- I can confirm this too.\n- I don't believe that #949 fixed the issue described in [URL]\r\n\r\nThe issue is with this call to Atlas#insert. If the font size is increased until it is too big to fit into a single atlas, Atlas#insert will always return an Err. This leads to load_glyph recursing infinitely, since inserting the glyph into an Atlas will never succeed.\n- @Aaron1011 It does actually fix the issue tho. The issue was never that the glyph was too big for a single atlas. Have you tested it out yourself? With #949 the crash doesn't happen anymore when increasing font size. The problem was that the atlas never changed, so there was never a new atlas that was created.\r\n\r\nIn theory you could run into problems with glyphs being too big for a single atlas, but I don't think that's even possible to happen because of gpu restrictions. I've played around with it a bit myself and the max font size goes up to a limit and then just stops. The worst thing I was able to reconstruct was that a few glyphs didn't show up anymore because my gpu driver was spouting errors about textures being too big. I don't think fitting a single glyph into an empty atlas has ever been the actual issue. Or can you still reproduce the issue after #949.\r\n\r\nI did initially play with changing the recursion strategy, but it turned out for me that after I fixed the obvious problem, all the other issues were resolved too."}
{"project_id": "Alacritty", "bug_id": "20", "source_type": "github", "llm_input_text": "[Title]: Invoking Paste/PasteSelection commands in editor (vim, nano) mangles pasted text with existing text\n[Symptom]:\nA screencast comparing gnome-terminal (left) to alacritty (right) will do better than words:\r\n\r\n[Image: alacritty-paste-in-editor-inserts]\r\n\r\nThe key_binding I invoked is visible on the screencast, it is:\r\n\r\n```\r\n- { key: V,        mods: Control|Shift,    action: Paste               }\r\n```\r\n... and I tried `PasteSelection`, with the same results. Am I doing something wrong or is it a bug?\r\n\r\nThis is alacritty master @   vs. gnome-terminal 3.18.3, no tmux, under Ubuntu 16.04.3 LTS.\n\n[Context/Logs]:\n- Interesting bug, I wondered why I haven't seen it before, apparently I can reproduce it in `nano`, but not in `vi`, `vim` or `nvim`. Curious why...\n- I did some testing and if you have `\\n` you get smashed lines, `\\r\\n` you get doubled lines, `\\r` you get correct lines.\r\n\r\nDemonstration\r\n[Link: [Image: thumbnail]]\r\n\r\nNot sure whether this info helps though.\n- ... [Middle Discussions Snipped for Brevity] ...\n- In case it matters (probably not, but it may spare duplication of efforts):\r\n\r\nI verified (on macOS) that `nano` does *not* set alacaritty in bracketed paste mode (`nvim` does).\r\n\r\nAltering `input.rs` to always force bracketed paste does alter the behaviour in `nano`, but unfortunately the new behaviour, too,  is incorrect.\r\n\r\nUse `echo -e '\\e[?2004h'` if you are curious to test it yourself: no need to alter `input.rs` and recompile (see [URL]\n- Apparently, non-bracketed pasting *is* the issue here.\r\n\r\nWhen the \"enter\" key is hit, a `CR` (`^M`) is generated (see [URL]\r\n\r\nIn non-bracketed mode, `LF`s (`^J`) in pasted data have to be replaced with `CR`s in order to simulate keypresses.\r\n\r\nIn non-bracketed mode, applications have no way of distinguishing if data comes from the keyboard or the clipboard, so it seems sensible that a terminal must simulate keypresses.\r\n\r\nTo me it is not 100% clear to what extent a terminal is supposed to do that (ie: whether octets corresponding to other control characters or maybe to bytes with the high bit set should be processed). Maybe data bytes should be interleaved with `^V`s? Or maybe bracketed mode is how pasting is supposed to work and applications that don't use it are at fault?\r\n\r\nAnyhow, replacing `\\r` with `\\n` seems an improvement and it is what [Link: jediterm] does."}
{"project_id": "Alacritty", "bug_id": "21", "source_type": "github", "llm_input_text": "[Title]: Alacritty's `-v` flag does not work\n[Symptom]:\nAlacritty's `-v` flag is used to help with debugging issues and print what is currently going on in the application. This should provide similar output to `RUST_LOG=... alacritty`.\r\n\r\nHowever with recent versions of alacritty, the output of `-v` is completely empty.\r\n\r\nThis should be fixed so that `-v` outputs debug information again. The different levels of this flag (`-v`, `-vv`, `-vvv`) are all broken and should be fixed to recover the original functionality. So `-v` should print minimal debug information and `-vvv` should print everything we have.\n"}
{"project_id": "Alacritty", "bug_id": "22", "source_type": "github", "llm_input_text": "[Title]: Scrolling region regression\n[Symptom]:\nScrolling regions are broken when there's a fixed bar at top _and_ bottom. This is best demonstrated by `htop`.\n\n[Context/Logs]:\n- This is most easily reproduced by opening two buffers in vim using the tabbed layout which should cause a fixed line to appear at top and bottom of screen. Next, hit control up/down in one of the open buffers (assuming it's got lots of lines), and half the screen should remain empty."}
{"project_id": "Alacritty", "bug_id": "23", "source_type": "github", "llm_input_text": "[Title]: Cursor disappears on first column in vim\n[Symptom]:\nMoving the cursor down in vim while on the first column causes the cursor to disappear until moved to the second column of a non-empty line. This is on macOS or Linux, vim or neovim, on the scrollback branch at  .\r\n\r\nReproduce: `vim <(echo 'one\\ntwo\\n\\nthree')` and scroll down.\n\n[Context/Logs]:\n- Thanks for filing the issue! I also noticed a problem of the cursor disappearing when using vim-fugitive and `:Gblame`.\n- This was fixed."}
{"project_id": "Alacritty", "bug_id": "24", "source_type": "github", "llm_input_text": "[Title]: Scrollback: `reset` Still Allows Scrollback\n[Symptom]:\nSystem: X11 on Arch Linux\r\n\r\nUsing the latest scrollback branch, `reset` still allows me to scroll up afterwards, assuming you initially activate the scrollback ability by entering enough text vertically.\r\n\r\nOn a related note, `clear` may also need to be looked at, but I'm unsure if there's a spec for it, as both `xterm` and `urxvt` handle it differently. On `urxvt`, I'm able to scroll back up assuming I've filled the vertical space enough to allow scrolling, while `xterm` seems to never allow me to scroll back, regardless of the amount of text entered.\n"}
{"project_id": "Alacritty", "bug_id": "25", "source_type": "github", "llm_input_text": "[Title]: Scrollback: `reset` Still Allows Scrollback\n[Symptom]:\nSystem: X11 on Arch Linux\r\n\r\nUsing the latest scrollback branch, `reset` still allows me to scroll up afterwards, assuming you initially activate the scrollback ability by entering enough text vertically.\r\n\r\nOn a related note, `clear` may also need to be looked at, but I'm unsure if there's a spec for it, as both `xterm` and `urxvt` handle it differently. On `urxvt`, I'm able to scroll back up assuming I've filled the vertical space enough to allow scrolling, while `xterm` seems to never allow me to scroll back, regardless of the amount of text entered.\n"}
{"project_id": "Alacritty", "bug_id": "26", "source_type": "github", "llm_input_text": "[Title]: scrollback: thread 'pty reader' panicked at 'attempt to subtract with overflow', src/index.rs:168:28\n[Symptom]:\nalacritty @ scrollback , 8e8ecdd, debug build \r\n\r\n\r\n```\n`\r\nRUST_BACKTRACE=full target/debug/alacritty  -vvvvvvvvvvvvvv\r\n...\r\n[unhandled] execute byte=06\r\n[unhandled] execute byte=1f\r\n... [Log Snipped] ...\n  19:       - _start\r\n  20:                0x0 -  \n````\r\n\r\nin the new debug alacritty window:\r\n````\r\ncat /dev/urandom\r\n[prints random chars]\r\nwait until crash\r\n````\n\n[Context/Logs]:\n- This probably only happens in alacritty verbose mode.\n- I can reproduce it both with and without verbose output. However it only happens in debug mode for me, not in release mode.\r\n\r\nI'll be looking into it, thanks for the report.\n- This bug's origin is [Link: here] and can be reproduced by running `printf '\\e[1000L'`. I'll look into writing up a quick fix."}
{"project_id": "Alacritty", "bug_id": "27", "source_type": "github", "llm_input_text": "[Title]: Invert escape sequence incorrect\n[Symptom]:\nThe command `echo -e \"Normal \\e[101;91mTest \\e[7mInverted\"` will print `Inverted` with the default foreground color as background and the default background color as foreground.\r\nThe correct behavior would be to print it the same as `Test`.\r\n\r\nThis bug is due to the following code:\r\n[URL]\n\n[Context/Logs]:\n- The current behavior _should_ match urxvt. Is this a case we didn't cover?\n- This [Link: script] should check every combination\r\n\r\nEdit: inlined\r\n\r\n```\nsh\r\nprintf \"Fg=Black,     Bg=Background          \\e[30;49mTEST\\e[m\\n\"\r\nprintf \"Fg=Black,     Bg=Black               \\e[30;40mTEST\\e[m\\n\"\r\nprintf \"Fg=Foreground,Bg=Background          \\e[39;49mTEST\\e[m\\n\"\r\nprintf \"Fg=Foreground,Bg=Black               \\e[39;40mTEST\\e[m\\n\"\r\n... [Log Snipped] ...\nprintf \"Fg=Foreground,Bg=White,      Inverse \\e[7;39;47mTEST\\e[m\\n\"\r\nprintf \"Fg=White,     Bg=Foreground, Inverse \\e[7;37;39mTEST\\e[m\\n\"\n```\n- ... [Middle Discussions Snipped for Brevity] ...\n- btw, did you test with transparency? Some of our logic is specifically around handling that properly.\n- I did not, but that's a great point, I'll throw that in too."}
{"project_id": "Alacritty", "bug_id": "28", "source_type": "github", "llm_input_text": "[Title]: [Regression] broken `htop` display\n[Symptom]:\ncurrently affected master: 715d4f8\r\n\r\nworking revision: 82c9235\r\n\r\n[Image: spectacle qq8577]\r\n\r\nSteps to reproduce:\r\n\r\n1. `htop`\r\n2. wait a few seconds\r\n\r\nbisect:\r\n\r\n  is the first bad commit\r\n```\r\ncommit  \r\nAuthor: Anders Rasmussen  \r\nDate:   Mon Feb 27 19:12:04 2017 +1100\r\n\r\n    Update cell to cursor template when adding a tab.\r\n\r\n:040000 040000     M\tsrc\r\n```\n\n[Context/Logs]:\n- @zetok, I can't reproduce this on the latest master.  Can you retest?  If it's still occurring, are you running this under Linux or Mac?  (Could be render system dependent.)\n- I did test against latest master.\r\n\r\n\r\nLinux.\n- ... [Middle Discussions Snipped for Brevity] ...\n- @maximbaz what's your terminfo file for tmux-256color look like? Seems like it might be declaring a feature that tmux doesn't support.\n- Hm, is this the file `/usr/share/terminfo/t/tmux-256color`? It consists of a bunch of escape sequences, I'm certain I haven't modified it \ud83d\ude42\r\n\r\nI've just tried tmux with the default config (where $TERM is `screen`) and the default config with just one override (`set -g default-terminal xterm-256color`, which makes $TERM `xterm-256color`), in both cases I see that same refreshing issue in htop."}
{"project_id": "Alacritty", "bug_id": "29", "source_type": "github", "llm_input_text": "[Title]: Terminal alternate mode is toggled, not set.\n[Symptom]:\nTry running `tput smcup` or `tput rmcup`. Both do the same thing. **Toggle** alternate mode.\r\n\r\n`smcup` is supposed to activate, and `rmcup` disable.\n"}
{"project_id": "Alacritty", "bug_id": "30", "source_type": "github", "llm_input_text": "[Title]: Touchpad scrolling is janky\n[Symptom]:\nI don't know exactly what's going on, but when I scroll with the touchpad it requires me to scroll a lot before it will even register, and then it scrolls a ton at once.\n\n[Context/Logs]:\n- According to hwinfo it's a \"ETPS/2 Elantech Touchpad\", if that helps at all\n- Could you run alacritty with `alacritty --print-events`, try scrolling, and pastebin the log? My initial guess is that we are getting funny data out of winit.\n- ... [Middle Discussions Snipped for Brevity] ...\n- 8a65870 fixes this. I'm unfamiliar both with Rust and with alacritty's structure, so this is indubitably the wrong way to do it (the state is getting passed all over the place, I used terrible names, and it's largely just a result of changing stuff until the compiler was happy without really knowing what I was doing). A review of how I should have done this would be very welcome :)\n- @lheckemann not a new issue, but I don't think a lot of people were likely to encounter it. It requires running x11 on a laptop with a trackpad that generates fractional line deltas in an application that supports scrolling with someone who uses the mouse in terminal. Probably why is hasn't been reported until recently.\r\n\r\nLove that you've put together a patch for it! I would be happy to provide feedback. Would you mind putting up a PR so we can use the GitHub review tool on it?"}
{"project_id": "Alacritty", "bug_id": "31", "source_type": "github", "llm_input_text": "[Title]: Excessive memory usage/leak during selection with less\n[Symptom]:\nLinux X11\r\n\r\nOn Alacritty 0.2, when working with large text files (in the order of millions of lines) I am using ```less``` as I don't want the terminal itself to deal with such large numbers of lines. Nonetheless, ```scrolling.history``` is set to 100000 lines.\r\n\r\nWhen I select lots of text in less using the mouse cursor, and exceed the upper or lower screen edge with the selection, Alacritty freezes and starts continuously consuming more and more memory. I managed to SIGSTOP it at 25.5GB, and it would've killed my system had I not managed to do that.\r\n\r\nIt seems something related to selections triggers a severe memory leak or unbound loop. I will try to provide better repro steps when I have the time.\n\n[Context/Logs]:\n- Ok, managed to repro.\r\n\r\n- Open ```less``` with a text file that contains a few screens worth of lines at least.\r\n- Scroll down a few screens\r\n- Select everything with the mouse, from bottom to top\r\n- Keep mouse selection button pressed\r\n- Scroll up using the mousewheel, **fast**, (mwheel events needs to be passed through to less)\r\n- When less reaches the top, release mouse selection button, while still scrolling up\r\n- Alacritty freezes and starts consuming memory\n- Wow, sounds bad. Thanks for the report. Prioritizing as high.\n- ... [Middle Discussions Snipped for Brevity] ...\n- I have same issue, happened during text selection, but I'm not sure whether I was in less at the time. Anyways, I never had time to stop it, so it brought down the whole system.\n- With the commit applied, I can't reproduce the bug anymore. Thanks!"}
{"project_id": "Alacritty", "bug_id": "32", "source_type": "github", "llm_input_text": "[Title]: Inverted Selection when Faux Scrolling\n[Symptom]:\nRather than attempt to describe the problem in detail, here are the steps to reproduce.\r\n\r\n1. Run `man man`\r\n2. Scroll down  at least one line\r\n3. Select the some text from both the status line and the line above it\r\n4. Scroll up\r\n\r\nYou should see the selection become inverted.\n"}
{"project_id": "Alacritty", "bug_id": "33", "source_type": "github", "llm_input_text": "[Title]: Alacritty won't start if window.dimensions.columns and lines is 0\n[Symptom]:\nI have following in my config:\r\n```\r\nwindow:\r\n  dimensions:\r\n    columns: 0\r\n    lines: 0\r\n```\r\n\r\nThis seems to be breaking alacritty now with:\r\n```\r\nthread 'pty reader' panicked at 'index out of bounds: the len is 0 but the index is  ', libcore/slice/mod.rs:2052:14\r\n```\r\n\r\nI think it's broken by change: [URL]\r\n\r\nAlthough [Link: comment in the default config] says the `0` is valid:\r\n```\r\n# If both are `0`, this setting is ignored.\r\n```\n\n[Context/Logs]:\n- I was not aware that specifying 0 was allowed here. I would have expected optional values to use `Option` instead. I'll fix this asap to make it work again, but in the future there might be a better stylistic approach to optional values.\n- Would you mind testing if [URL] works?"}
{"project_id": "Alacritty", "bug_id": "34", "source_type": "github", "llm_input_text": "[Title]: Selecting large amounts of text makes highlight disappear\n[Symptom]:\nLinux X11\r\n\r\nWhen selecting text and scrolling at the same time using the new scrolling->history feature, there is a visual bug concering the selected text.\r\n\r\nWhen more text is selected than fits on the viewport, and the viewport is scrolled so that **only** selected text is visible, the selection marker (inverted colors) disappears. If the viewport is scrolled so that only parts of its contents are selected, the selection marker shows up fine.\n\n[Context/Logs]:\n- Thanks for the report! I believe that nobody actually ever tested selection while scrolling, since it's a bit awkward to do with a mouse.\r\n\r\nCurrently it seems like the selection only updates during mouse movement, not when scrolling. But since scrolling changes the text under the cursor, it should also update the selection. I believe implementing this should work around the issue of selection disappearing and it should provide the added benefit that selection during scroll feels more responsive.\n- Okay, so it turns out my original comment on this issue was a bit misguided. The selection not updating when scrolling and the issue reported here are entirely separate.\r\n\r\n**Edit:** See #1598 for the other issue I've mentioned in here and #1597 for a solution to this issue.\n- Confirmed fixed. Thank you!"}
{"project_id": "Alacritty", "bug_id": "35", "source_type": "github", "llm_input_text": "[Title]: Cursor not hollow when window starts unfocused\n[Symptom]:\nPlatform: Linux X11 (i3 specifically)\r\n\r\nWhen launching a new instance of alacritty, the cursor is a solid block despite the window being out of focus (I have `no_focus [tiling]` set in my i3 config). Focusing the window, then un-focusing it behaves correctly. For reference, the related settings are the defaults of `cursor_style: Block` and `unfocused_hollow_cursor: true`.\n\n[Context/Logs]:\n- [URL] resolves this issue on i3. I'd love some testing on macOS/Wayland if possible, but it should be good to go the way it is."}
{"project_id": "Alacritty", "bug_id": "36", "source_type": "github", "llm_input_text": "[Title]: Underlining \"jumps\" spaces between underlined text\n[Symptom]:\n## System\r\n|                  |                               |\r\n|------------------|-------------------------------|\r\n| Operating System | Arch Linux     |\r\n| Rust Version     | Stable, 1.31.1    |\r\n| Display Server   | X11 |\r\n\r\n## Summary\r\nEver since proper underlining was implemented in #1078, standalone Alacritty renders underlines that \"jump\" the spaces between underlined sections of text (see image below). Using #1921 does not change this behavior.\r\n\r\n[Image: image]\r\n\r\n## Extra\r\nI only noticed this because I fired up an Alacritty instance outside of tmux. For whatever reason, tmux properly handles the underlines between underlined-but-not-connected sections of text. See below for \"expected\" output, produced from within a tmux session:\r\n\r\n[Image: image]\r\n\r\nPotentially relevant `alacritty -vvv`:\r\n```\n[2018-12-31 00:10] [TRACE] carriage_return\r\n[2018-12-31 00:10] [TRACE] linefeed\r\n[2018-12-31 00:10] [TRACE] Set Attribute: Underscore\r\n[2018-12-31 00:10] [TRACE] Set Attribute: Foreground(Named(Green))\r\n[2018-12-31 00:10] [TRACE] Set Attribute: Reset\r\n... [Log Snipped] ...\n[2018-12-31 00:10] [TRACE] carriage_return\r\n[2018-12-31 00:10] [TRACE] linefeed\n```\n\n[Context/Logs]:\n- Fixed in [URL] Thanks for the report!"}
{"project_id": "Alacritty", "bug_id": "37", "source_type": "github", "llm_input_text": "[Title]: [regression] padding is breaking few things\n[Symptom]:\nUsing f182afa\r\n\r\n\r\nOSX. This is a regression.\r\n\r\n### 1. the documentation says it's using non-DNPI-scaled values\r\n\r\nBut I don't think that's true. For example, `18` looks like `72` hardware pixels.\r\n\r\n### 2. the last line of the terminal is not rendered.\r\n\r\nSTR:\r\n- set padding y to `2`\r\n- run terminal\r\n- press enter until the prompt reaches the last line\r\n- press enter one more time, see how the prompt is hidden\r\n\r\n###  3. the mouse coordinate is calculated wrong\r\n- set padding y to `20`\r\n- run terminal\r\n- type `man man`\r\n- double click on any word, see how the wrong word is select (one line below)\n\n[Context/Logs]:\n- 8161798 doesn't have these issues.\n- @paulrouget Could you share the output of `alacritty -v`? Specifically the cell size, window size and number of columns and lines.\r\n\r\nAlso would you mind testing [URL] If the issue doesn't happen with that commit, it might be good to just revert the last change temporarily to fix the stable release.\r\n\r\nAlso it is true that the padding is scaled by DPI now. The documentation needs to be updated.\n- Note that I was able to reproduce this on my system, so it's not necessary anymore to produce further debug output.\r\n\r\nI'll try to fix this asap."}
{"project_id": "Alacritty", "bug_id": "38", "source_type": "github", "llm_input_text": "[Title]: Crash when I `cat` a file\n[Symptom]:\nOn windows, I tried cat attached txt file and it crashed.\r\n[Link: protonmail_gray.txt]\n\n[Context/Logs]:\n- The only thing I can see with this which might cause issues is that it's missing a newline at the end of the file. That shouldn't crash anything, but would you mind adding a newline to the end of the file, just to troubleshoot where the issue is coming from?\r\n\r\nAlso, just to make sure: When you say 'it crashed', you're talking about Alacritty? Or are you talking about `cat`?\n- I tried with missing newline and Alacritty still crashes, the window suddenly disappears\r\n[Link: protonmail_gray.txt]\n- ... [Middle Discussions Snipped for Brevity] ...\n- @Geobert It does not crash on my system, since I'm running Linux. But great catch @PrsPrsBK.\r\n\r\nNot sure why this would be a problem though.\n- @Geobert It's nice!\r\n\r\n@chrisduerr I had bad experiences due to BOM. \r\nI see, it need to see `cat`'s  output (if exists), if I would like to know in detail. thanks.\r\n\r\n*added later* I did not experience the problem, I had just noticed BOM and wrote."}
{"project_id": "Alacritty", "bug_id": "39", "source_type": "github", "llm_input_text": "[Title]: Can't clear warning/error with `clear` or `CTRL-L` in tmux\n[Symptom]:\nWhich operating system does the issue occur on?\r\nFedora release 29 (Twenty Nine)\r\n\r\nIf on linux, are you using X11 or Wayland?\r\nX11\r\n\r\nThe warning/error which is displayed by Alacritty at the bottom of the terminal doesn't go away, if I press `CTRL-L` or type `clear` inside the terminal. It obviously works, if I'm outside of tmux, just not inside.\n\n[Context/Logs]:\n- Thanks for reporting this issue. I haven't considered tmux when adding the keybinding, but it makes sense that there might be some conflicts here.\r\n\r\nI'm not sure if there would be a way to fix this so that `C-L` and `clear` work, but it should definitely work to add a new keybinding, so hopefully that will fix it for everyone.\n- I've looked into which escape sequences are sent in `tmux` when running the `clear` command, just to check if there's something Alacritty could hook into to remove the errors and warnings when running that. Based on my testing, there's no nice escape sequence sent which would allow for that, so I'd probably just recommend adding a new key action which then can be used.\r\n\r\nJust for documentation, these escapes are sent when running `clear` inside of `tmux` on my system:\r\n```\n[Unhandled CSI] action='l', args=[2004], intermediates=[63] -> Reset bracketed paste mode\r\n[Unhandled CSI] action='r', args=[1, 30], intermediates=[] -> Set scrolling region [1, 30]\r\n[Unhandled CSI] action='r', args=[2, 30], intermediates=[] -> Set scrolling region [2, 30]\r\n[Unhandled CSI] action='S', args=[29], intermediates=[] -> Scroll up 29 lines\r\n[Unhandled CSI] action='H', args=[1, 1], intermediates=[] -> Cursor position [1, 1]\r\n... [Log Snipped] ...\n[Unhandled CSI] action='H', args=[1, 48], intermediates=[] -> Cursor position [1, 48]\r\n[Unhandled CSI] action='h', args=[2004], intermediates=[63] -> Set bracketed paste mode\n```\n- ... [Middle Discussions Snipped for Brevity] ...\n- I'll close it with the PR for the action. I'll open that in a sec.\n- I've opened the PR (https://github.com/jwilm/alacritty/pull/1814), feel free to test if this resolves the problem for you."}
{"project_id": "Alacritty", "bug_id": "40", "source_type": "github", "llm_input_text": "[Title]: Selection misses first character\n[Symptom]:\nSelecting in alacritty often misses the first character. Other terminals (such as urxvt and xterm) always include the first character in the selection even if only part of it is selected.\r\n\r\nEdit: I should add that this was tested on scrollback@4631ca4\r\n\r\nAlacritty:\r\n[Image: alacritty_selection]\r\n\r\nUrxvt\r\n[Image: urxvt_selection]\n\n[Context/Logs]:\n- This was an intentional design decision and I'm not sure if there's any intention to change it.\r\n\r\nAs far as I'm concerned I think it's the proper behavior to select a cell only if most of it is inside the selection.\n- Perhaps it isn't what I thought. Fiddling with text selection in chrome, I see similar behaviour where it only includes the character beneath the cursor if more than half of it is selected. This logically makes sense; however, in practice, alacritty is consistently failing to select as expected.\r\n\r\nThough I am now noticing another issue that may be the root cause of this. The start of the selection does not seem to be tied to where the mouse down event happened. You can click on a cell, wait, and then move the mouse quickly to start selecting and if you moved fast enough, the first cell of the selection will not be where you first clicked.\r\n\r\n[Image: alacritty_fast_selection]\n- ... [Middle Discussions Snipped for Brevity] ...\n- Thanks for looking into this! I'll take a peek at the code when I've got some time. Sounds like it's either a super simple fix or some really painful racing condition or something like that. :D\n- I've opened a PR which should fix this (#1389). I don't think there are going to be any issues with this, but testing is still always welcome! :)"}
{"project_id": "Alacritty", "bug_id": "41", "source_type": "github", "llm_input_text": "[Title]: How to disable URL launcher?\n[Symptom]:\nHow to completely disable URL launcher?\r\n\r\nEvery time I am trying to highlight an URL and then browser shows up,\r\n\r\nI would like to disable it.\r\n\r\n```\nyaml\r\nurl:\r\n    # URL launcher\r\n    #\r\n    # This program is executed when clicking on a text which is recognized as a URL.\r\n... [Log Snipped] ...\n    #   - (Windows) explorer\r\n    #launcher: xdg-open\n```\n\n[Context/Logs]:\n- It seems like this regression has been introduced when the configuration files have been merged.\r\n\r\nIt's still possible to disable URL launching by setting the `launcher` to `true`, but an option to disable this completely should be supported explicitly.\n- Fixed in #2059.\n- ... [Middle Discussions Snipped for Brevity] ...\n- This seems to be ignored no matter how I set it. \r\n\r\nHere is the config:\r\n\r\n```\nhints:\r\n  hyperlinks: false\r\n\r\nenabled:\r\n   - regex: \"(ipfs:|ipns:|magnet:|mailto:|gemini:|gopher:|https:|http:|news:|file:|git:|ssh:|ftp:)\\\r\n... [Log Snipped] ...\n       key: U\r\n       mods: Control|Shift\n```\r\n\r\nIt still executes xdg-open when a link is clicked on.\n- How does this work in the new Alacritty where it uses TOML instead of Yaml?\r\nThe above regex when converted to TOML doesn't load."}
{"project_id": "Alacritty", "bug_id": "42", "source_type": "github", "llm_input_text": "[Title]: Decreasing font size too much causes division by zero\n[Symptom]:\nWhich operating system does the issue occur on?\r\nWindows. I have also tested on Linux/X11 and could not reproduce there.\r\n\r\nVersion of alacritty:\r\n \r\n\r\nHow to reproduce:\r\n1. Open alacritty\r\n2. Press `Ctrl`+`-` to scale the font down until it disappears\r\n3. Move mouse over the window\r\n4. alacritty crashes with the following stack trace:\r\n\r\n```\n$ RUST_BACKTRACE=1 ./target/debug/alacritty.exe\r\nthread 'main' panicked at 'attempt to divide by zero', src\\term\\mod.rs:810:26\r\nstack backtrace:\r\n   0: std::sys::windows::backtrace::set_frames\r\n             at C:\\projects\\rust\\src\\libstd\\sys\\windows\\backtrace\\mod.rs:104\r\n... [Log Snipped] ...\n  29: BaseThreadInitThunk\r\n  30: RtlUserThreadStart\n```\r\n\r\nWhen I add a following check, it hits the newly added panic on hitting the last `Ctrl`+`-` to scale the font down:\r\n```\ndiff\r\ndiff --git a/src/display.rs b/src/display.rs\r\nindex d5a2ea0..1896e88 100644\r\n--- a/src/display.rs\r\n+++ b/src/display.rs\r\n... [Log Snipped] ...\n \r\n     #[inline]\n```\n\n[Context/Logs]:\n- There is a check for font size in [Link: change_font_size] that ensures font size is `FONT_SIZE_STEP` (0.5) at minimum. However, I think that a check for font size is not sufficient, since the cell size depends on the font metrics (and so only indirectly on font size). So I think a proper fix would be to calculate the font metrics for new size first and only update the font size and glyph cache if the new cell dimensions are valid."}
{"project_id": "Alacritty", "bug_id": "43", "source_type": "github", "llm_input_text": "[Title]: Crash when live reloading history size\n[Symptom]:\nWhen reducing the history size at runtime by changing the config with live reload enabled, Alacritty will crash if the user isn't scrolled all the way to the bottom.\r\n\r\nThe history will also never grow, but only shrink.\n"}
{"project_id": "Alacritty", "bug_id": "44", "source_type": "github", "llm_input_text": "[Title]: Reset not resetting alternate screen correctly\n[Symptom]:\nWhen entering the alternate screen buffer (`echo -e \"\\e[?1049h\"`) and resetting the terminal (`reset`), the screen is cleared and everything is reset, however Alacritty is not back in the normal screen buffer.\r\n\r\nThis shows itself in no scrollback history being available, even after trying to switch out of the alt screen buffer again.\n"}
{"project_id": "Alacritty", "bug_id": "45", "source_type": "github", "llm_input_text": "[Title]: Alacritty can't start with a full disk\n[Symptom]:\nAlacritty does not seem to be able to start if it is not able to write to the disk. This is not ideal in case you want to open a terminal to deal with that very situation and are unable to.\r\n\r\nThis is on Linux, with xorg.\n\n[Context/Logs]:\n- @NotAFile This is hopefully fixed by [URL]\r\n\r\nI had to take a guess what specifically caused this issue for you, but this should be the only file creation which is done by Alacritty that hasn't been handled until now.\r\n\r\nPlease let me know if this did not solve your problem. In that case it would probably be helpful to provide a stack trace to pinpoint the exact problem."}
{"project_id": "Alacritty", "bug_id": "46", "source_type": "github", "llm_input_text": "[Title]: Mocp drawing is broken\n[Symptom]:\nLinux\r\n\r\nX11\r\n\r\nI could have sworn this was fixed in the past. But I can not find the previous issue for this, so I guess this might have been on IRC (or it was only in my dreams...)\r\n\r\nThe issue is that mocp uses a terminal command to draw/redraw the progress bar. However it seems like this command is not working as it should in alacritty.\r\n\r\nThe issue happens when playing an audio file and the progress bar is moving along the bottom:\r\n[Image: mocp2]\r\n\r\nThe the progress bar hits the same position as the square bracket time stamp, the left most cell will vanish and there will be a gap in the progress bar too.\r\n\r\nIIRC, this was a problem in the early days of alacritty too. But back then it was because the terminal command code used in this operation was not implemented. So this is a regression of sorts. But I don't know when the regression happened...\r\n\r\nThis happens with `TERM` set to either alacritty or xterm\n\n[Context/Logs]:\n- Is [Link: this] the previous issue you're talking about?\r\n\r\nI'm not sure if the space in the line above the bar is related, I don't see how that would affect things. However I'm unaware of how mocp draws things, so I'm not sure why this wouldn't work. A complete background change shouldn't be an issue and the escape sequence from the previous issue works just fine for me.\n- @chrisduerr nope, that was a separate issue. That still works as it should.\r\n\r\nEDIT: IIRC, the space was relevant as mocp would trigger an optimized redraw command when the progress bar reached that location.\n- ... [Middle Discussions Snipped for Brevity] ...\n- I'm also affected by this in Emacs terminal mode and can confirm that reverting [Link: 0c3e286] resolves the issue.\r\n\r\nThe symptoms are exactly the same as the animated GIFs as shown in [Link: the comment above]: when moving the cursor to the right, the character glyph under the previous position randomly vanishes.\r\n\r\n(BTW, reverting has a minor conflict because of some refactor that has already happened in `src/renderer/mod.rs`.)\n- If it helps, my `TERM` is `xterm-24bits` whose terminfo definition came from this: [URL] ."}
{"project_id": "Alacritty", "bug_id": "47", "source_type": "github", "llm_input_text": "[Title]: alacritty-0.2.4:  URLs can be incorrectly extended onto the next line\n[Symptom]:\nWhich operating system does the issue occur on?    Probably any\r\nIf on linux, are you using X11 or Wayland?   X11, but I don't think that's relevant\r\n\r\nThere is a minor bug in the URL grabber.  I'm running irssi in an alacritty, and this is an excerpt of my session:\r\n\r\n13:17  * Grimes examines the latest issue of Stars and Stripes\r\n13:22   [URL]\r\n13:22  * ShowTitle   Largest Known Diamond in North America Found\r\n\r\nIt just so happens that the URL in the middle line ends **EXACTLY** in the last column of the terminal.  When I click the link to open it, alacritty does not realize that the URL ends there, and wraps around and grabs the timestamp from the next line and appends it to the URL, which then does not resolve because largest-known-diamond-in-north-america.html13:22 does not exist.\r\n\r\nI'm not certain how alacritty can best detect this condition.  Clearly I can work around it **in this use case** by making my URL handler strip anything that looks like an Irssi timestamp off the end of the URL, but that's not going to work for everyone.\n\n[Context/Logs]:\n- It should be possible to check the last cell of the row for the line break flag and only wrap around if this is not present.\n- This has been fixed in #2192. Please let me know if this does not solve the problem for you.\n- I will keep a watch out for an opportunity to retest this as soon as 0.3.0 hits Gentoo."}
{"project_id": "Alacritty", "bug_id": "48", "source_type": "github", "llm_input_text": "[Title]: Crash when resizing with URL highlight\n[Symptom]:\nThe URL highlight stores the state of the last URL highlight with the position of the URL start position. However when resizing, it's possible that the indices of this point change which will cause a crash if the old positions are not within the grid anymore.\r\n\r\nThe best approach to fix this seems to be to clear the URL highlight state when the window is resized.\n"}
{"project_id": "Alacritty", "bug_id": "49", "source_type": "github", "llm_input_text": "[Title]: Alacritty doesn't close until the first event after exiting shell\n[Symptom]:\nWhich operating system does the issue occur on? Linux, Ubuntu 18.04\r\n\r\nIf on linux, are you using X11 or Wayland? Running Wayland with XWayland (`env WAYLAND_DISPLAY= alacritty`)\r\n\r\nWhen I leave the shell with ^d or \"exit\", alacritty will stay alive until I do the next thing (move my mouse, click, type a character, or defocus). I'd expect it to die immediately after exiting the shell.\r\n\r\nScreen recording of the issue: [URL]\r\n\r\nglxinfo:\r\n\r\n```\nconsole\r\n$ glxinfo | grep OpenGL                           \r\nOpenGL vendor string: Intel Open Source Technology Center\r\nOpenGL renderer string: Mesa DRI Intel(R) HD Graphics 620 (Kaby Lake GT2) \r\nOpenGL core profile version string: 4.5 (Core Profile) Mesa 18.0.0-rc5\r\n... [Log Snipped] ...\nOpenGL ES profile shading language version string: OpenGL ES GLSL ES 3.20\r\nOpenGL ES profile extensions:\n```\n\n[Context/Logs]:\n- According to #1342 this issue is not only present with Wayland, so removing the wayland tag and changing the title to be more accurate.\r\n\r\nMore information about this problem on X11 is present in the referenced issue.\n- I took a peek at this one. Looks like when [URL] is blocking, it doesn't notice `SHOULD_EXIT` until an event occurs. This blocks the main loop as well.\r\n\r\nNew to the codebase, but it seems like the super hacky solution is to send a `notify` to the process handler upon `SIGCHLD`; the more reasonable solution is finding out how to do away with the unsafe `SHOULD_EXIT`.\n- This is the same as #915 right?"}
{"project_id": "Alacritty", "bug_id": "50", "source_type": "github", "llm_input_text": "[Title]: Crash on startup Windows: not yet implemented\n[Symptom]:\nWhich operating system does the issue occur on?\r\nWindows\r\n\r\nCrashing on launch of a fresh install of v0.2.6 with no prior installs\r\n\r\n```\r\npanicked at 'not yet implemented: ', font\\src\\rusttype\\mod.rs:64:35\r\n```\r\n\r\nI tried removing the font settings completely from the genereated alacritty.yml but it didn't change anything\n\n[Context/Logs]:\n- Does this occur with the default config?\r\n\r\n@zacps This is the first time I've seen this. Is there any reason why this should lead to a hard crash instead of falling back to the normal weight/slant and printing a log message?\n- Yes, it was the default config alacritty generated\n- I've created a PR here: #2021. Testing would be appreciated since I don't have a Windows 10 machine myself.\r\n\r\nI'll release another version once this is resolved."}
{"project_id": "Alacritty", "bug_id": "51", "source_type": "github", "llm_input_text": "[Title]: Crash when clicking on highlighted URL\n[Symptom]:\nWhich operating system does the issue occur on? **Linux**\r\n\r\nIf on linux, are you using X11 or Wayland? **X11**\r\n\r\nHi,\r\n\r\nI am running 022f0782 and when I click on a link inside vim, alacritty closes abruptly and outputs:\r\n\r\n```bash\r\nXIO:  fatal IO error 11 (Resource temporarily unavailable) on X server \":0\"\r\n      after 241 requests (241 known processed) with 0 events remaining.\r\n```\n\n[Context/Logs]:\n- Do you have xclip installed? Can you reproduce this with a previous commit or did this commit introduce the regression? Or has this never worked before?\n- Hi @chrisduerr,\r\n\r\n\r\nYes: `xclip/testing,now 0.13-1 amd64  [installed]` (Debian testing)\r\n\r\nI tried many revisions trying to bissect the problem but couldn't find a previous working commit. It seems to me it's a dependency problem (cargo taking latest available version of a crate so whatever I choose as a commit revision I still get the bug once compiled).\r\n\r\nDo you have any hint of what crate might be failing so I could 'force' some kind of version?\n- ... [Middle Discussions Snipped for Brevity] ...\n- Hehey good news! :sparkles: \r\n\r\n* Test 1:\r\n\r\nStill crash \ud83d\ude15\r\n\r\n* Test 2:\r\n```\nrust\r\n#[cfg(not(windows))]\r\npub fn start_daemon (program: &str, args: I) -> io::Result \r\n    where\r\n        I: IntoIterator ,\r\n... [Log Snipped] ...\n    }\r\n}\n```\r\nStill having a crash \ud83d\ude15\r\n\r\n* Test 3:\r\n```\nrust\r\n#[cfg(not(windows))]\r\npub fn start_daemon (program: &str, args: I) -> io::Result \r\n    where\r\n        I: IntoIterator ,\r\n... [Log Snipped] ...\n        .map(|_| ())\r\n}\n```\r\nWorks! \ud83d\ude0e No crash at all!\n- Unfortunately this does not mean good news. Test 2 was an attempt from me to reproduce exactly what `libc::daemon(1, 1)` does without having to use the `libc::daemon` call. As far as I can tell this is identical to the code in glibc's `daemon` function, but at this point I'm fine with reverting this change.\r\n\r\nThanks for all the help with debugging this."}
{"project_id": "Alacritty", "bug_id": "52", "source_type": "github", "llm_input_text": "[Title]: MacOS keymap assumes QWERTY\n[Symptom]:\nI use a normal keyboard with the System Settings >> Keyboard layout remapping to the Dvorak layout.  Everything with respect to the keymap works great (as far as I can tell) except for Cmd-key combinations.  Here's what I'm seeing with `--print-events` when I type Cmd-v (which should paste, but instead just types 'v'):\r\n\r\n```\r\nglutin event: KeyboardInput(Pressed, 55, Some(LWin), , None)\r\nglutin event: ReceivedCharacter('v')\r\nglutin event: KeyboardInput(Pressed, 47, Some(Period), SUPER, Some(\"v\"))\r\nglutin event: Awakened\r\nglutin event: KeyboardInput(Released, 47, Some(Period), SUPER, None)\r\nglutin event: KeyboardInput(Released, 55, Some(LWin), , None)\r\n```\r\nPeriod on the QWERTY keyboard corresponds to \"v\" in Dvorak, so it seems as though for some reason, with the Cmd-key down, alacritty is getting the raw- not OS-remapped- key events? In the event in question, both `Some(Period)` and `Some(\"v\")` are in the event.\r\n\r\nAn awkward but effective workaround is to use these keybindings:\r\n```\r\n  - { key: I,        mods: Command, action: Copy                         }\r\n  - { key: Period,   mods: Command, action: Paste                        }\r\n  - { key: X,        mods: Command, action: Quit                         }\r\n```\n\n[Context/Logs]:\n- Just want to add that Alacritty uses `Control-Shift-C` and `Control-Shift-V` for copy and paste out-of-the-box, so you can always just use these keyboard shortcuts instead.\n- I can confirm that this is happening for me on OSX (10.13.1) using Colemak instead of Qwerty. \r\n\r\nI added a custom keybinding to create new windows, as follows: \r\n```\r\n- { key: N,        mods: Command, command: { program: \"open\", args: [\"-n\", \"/Applications/Alacritty.app\"] } }\r\n```\r\nI thought that this simply wasn't working.  Then I hit `cmd+k` (which is normally `cmd+n` on a qwerty keyboard), and it popped open a new window.\n- ... [Middle Discussions Snipped for Brevity] ...\n- Without digging into winit more than that PR itself: I'm not sure. What I can say is with the current tomaka:master I see `Period` is registered as pressed twice, the second time with a `ReceivedCharacter('v')` (still):\r\n\r\n```\r\nWindowEvent { window_id: WindowId(Id(140586266945872)), event: KeyboardInput { device_id: DeviceId(DeviceId), input: KeyboardInput { scancode: 47, state: Pressed, virtual_keycode: Some(Period), modifiers: ModifiersState { shift: false, ctrl: false, alt: false, logo: true } } } }\r\nWindowEvent { window_id: WindowId(Id(140586266945872)), event: KeyboardInput { device_id: DeviceId(DeviceId), input: KeyboardInput { scancode: 47, state: Pressed, virtual_keycode: Some(Period), modifiers:\r\n ModifiersState { shift: false, ctrl: false, alt: false, logo: true } } } }\r\nWindowEvent { window_id: WindowId(Id(1405862669458\n...[Text Truncated]...\n { device_id: DeviceId(DeviceId), input: KeyboardInput { scancode: 47, state: Released, virtual_keycode: Some(Period), modifiers: ModifiersState { shift: false, ctrl: false, alt: false, logo: true } } } }\r\n```\r\n\r\nHowever with the current Toqozz:master I see the `Period` press once, then a `Press` and `Release` for `V`:\r\n```\r\nWindowEvent { window_id: WindowId(Id(140404366310336)), event: KeyboardInput { device_id: DeviceId(DeviceId), input: KeyboardInput { scancode: 47, state: Pressed, virtual_keycode: Some(Period), modifiers:\r\n ModifiersState { shift: false, ctrl: false, alt: false, logo: true } } } }\r\nWindowEvent { window_id: WindowId(Id(140404366310336)), event: KeyboardInput { device_id: DeviceId(DeviceId), input: KeyboardInput { scancode: 47, state: Pressed, virtual_keycode: Some(V), modifiers: ModifiersState { shift: false, ctrl: false, alt: false, logo: true } } } }\r\nWindowEvent { window_id: WindowId(Id(140404366310336)), event: ReceivedCharacter('v') }\r\nWindowEvent { window_id: WindowId(Id(140404366310336)), event: KeyboardInput { device_id: DeviceId(DeviceId), input: KeyboardInput { scancode: 47, state: Released, virtual_keycode: Some(V), modifiers: Mod\r\nifiersState { shift: false, ctrl: false, alt: false, logo: true } } } }\r\n```\n- @guildencrantz Is that running the example in the winit repo?\r\n\r\nAlso which key are you actually pressing, with which keyboard layout (so what would there be at the same position with qwerty)?\r\n\r\nIs there never any Release event for Period?"}
{"project_id": "Alacritty", "bug_id": "53", "source_type": "github", "llm_input_text": "[Title]: Can't input \"@\" on German keyboard with\n[Symptom]:\nI'm using alacritty on Windows with WSL via wslbridge (from wslttz 1.9.3)\r\n\r\nOn my Windows laptop I've got a German keyboard layout which has the right ` ` key called ` ` and that is used to input `\"@\"` via `  +  `. However in alacritty that combination does nothing.\n\n[Context/Logs]:\n- Can confirm that this does not work with norwegian layout as well. \r\nNorwegian layout\r\n\r\n \r\n\r\n\r\n \r\n \r\n\r\n \r\n\r\n \r\n\r\n \r\n \r\n \r\n \r\n meta-key \r\n button \r\n creates \r\n works \r\n \r\n\r\n\r\n \r\n AltGr \r\n 0 \r\n } \r\n &#xa0; \r\n \r\n\r\n\r\n \r\n AltGr \r\n 2 \r\n @ \r\n &#xa0; \r\n \r\n\r\n\r\n \r\n AltGr \r\n 3 \r\n \u00a3 \r\n yes \r\n \r\n\r\n\r\n \r\n AltGr \r\n 4 \r\n $ \r\n &#xa0; \r\n \r\n\r\n\r\n \r\n AltGr \r\n 5 \r\n \u20ac \r\n yes \r\n \r\n\r\n\r\n \r\n AltGr \r\n 7 \r\n { \r\n &#xa0; \r\n \r\n\r\n\r\n \r\n AltGr \r\n 8 \r\n [ \r\n &#xa0; \r\n \r\n\r\n\r\n \r\n AltGr \r\n 9 \r\n ] \r\n &#xa0; \r\n \r\n\r\n\r\n \r\n AltGr \r\n \\ \r\n \u00b4 \r\n yes \r\n \r\n\r\n\r\n \r\n AltGr \r\n \u00a8 \r\n ~ \r\n yes\n- Does using Ctrl-AltGr work?\n- ... [Middle Discussions Snipped for Brevity] ...\n- First of all - thank you for your effort. The patched Alacritty (against   ) now prints:\r\n\r\n```\r\n[2019-01-09 23:20] [INFO] glutin event: WindowEvent { window_id: WindowId(Id(140584855599968)), event: KeyboardInput { device_id: DeviceId(DeviceId), input: KeyboardInput { scancode: 61, state: Pressed, virtual_keycode: Some(RAlt), modifiers: ModifiersState { shift: false, ctrl: false, alt: true, logo: false } } } }\r\n[2019-01-09 23:20] [INFO] glutin event: WindowEvent { window_id: WindowId(Id(140584855599968)), event: KeyboardInput { device_id: DeviceId(DeviceId), input: KeyboardInput { scancode: 37, state: Pressed, virtual_keycode: Some(L), modifiers: ModifiersState { shift: false, ctrl: false, alt: true, logo: false } } } }\r\n[2019-01-09 23:20] [INFO] glutin event: WindowEvent { window_id: WindowId(Id(140584855599968)), event: ReceivedCharacter('@') }\r\n[2019-01-09 \n...[Text Truncated]...\n} }\r\n```\r\n\r\nThen:\r\n\r\n```\r\nTRIGGERED BINDING KeyboardInput { scancode: 12, state: Pressed, virtual_keycode: Some(Q), modifiers: ModifiersState { shift: false, ctrl: false, alt: false, logo: true } } FOR Binding { mods: ModifiersState { shift: false, ctrl: false, alt: false, logo: true }, action: Quit, mode: NONE, notmode: NONE, trigger: Q }\r\n```\r\n\r\nI have not modified any settings in the `key_bindings:` block. They remain the same as the original `alacritty_macos.yml`.\n- @ncreuschling Looks like removing the `Quit` mapping on `Command + Q` should resolve this problem for you.\r\n\r\nThough I'm not entirely sure why `RAlt + L` would trigger a keybinding for `Command + Q`.\r\n\r\nI'd like some feedback on the Windows side of things, it would be interesting if this is caused by the same thing.\r\n\r\n@ncreuschling I've got another patch if you're willing to help out. It seems like the `--print-events` code can't really be what's received by Alacritty, because the virtual keycodes are different from the bindings in the config. The following should print exactly which keys are received:\r\n\r\n```\ndiff\r\ndiff --git a/src/event.rs b/src/event.rs\r\nindex bada4f6..ea6f6b2 100644\r\n--- a/src/event.rs\r\n+++ b/src/event.rs\r\n... [Log Snipped] ...\n                 binding.execute(&mut self.ctx, false);\r\n                 has_binding = true;\n```\r\n\r\nMaybe that can get us a step closer to figuring out what exactly is going on. This should hopefully print the `Command + Q` keys that are actually getting triggered."}
{"project_id": "Alacritty", "bug_id": "54", "source_type": "github", "llm_input_text": "[Title]: Keybinding open -n -a /Application/Alacritty.app not working\n[Symptom]:\nWe've had a hack for a while on macOS to open multiple windows as a workaround to #607. I dusted of my MBP this morning and found that it's not working. Running the command from a shell in Alacritty works just fine, but the keybinding version causes Alacritty to exit immediately. Seems that this may be a problem with how we create child processes.\r\n\r\nIf this is a dupe, I blame GitHub search\n\n[Context/Logs]:\n- This seems to fix it, but it's not a 100% solution.\r\n\r\n```\ndiff\r\ndiff --git a/src/input.rs b/src/input.rs\r\nindex 8ce8f2c..555bf60 100644\r\n--- a/src/input.rs\r\n+++ b/src/input.rs\r\n... [Log Snipped] ...\n             Action::Hide => {\r\n                 ctx.hide_window();\n```\r\n\r\nIncluding a `wait()` here means all commands are blocking, but removing the `wait()` would result in zombies accumulating (#976).\n- I'm using a MBP at work on a regular basis and at least the `SpawnNewInstance` action has worked great for me before.\r\n\r\nI'll test this again later just to make sure, but I'd be surprised if it suddenly broke.\n- ... [Middle Discussions Snipped for Brevity] ...\n- @leonbreedt Could you test the patch I've proposed?\r\n\r\nHere is it again to make applying a little simpler:\r\n```\ndiff\r\ndiff --git a/src/util.rs b/src/util.rs\r\nindex b70f2f1..ec27a80 100644\r\n--- a/src/util.rs\r\n+++ b/src/util.rs\r\n... [Log Snipped] ...\n         })\r\n         .spawn()?\n```\n- @chrisduerr applied to   (no other changes, reverted the workaround in `src/event.rs`). Tested using the following key binding:\r\n\r\n```yaml\r\n  - { key: N,        mods: Command, action: SpawnNewInstance             }\r\n```\r\n\r\nseems to do the trick so far."}
{"project_id": "Alacritty", "bug_id": "55", "source_type": "github", "llm_input_text": "[Title]: Freeze prompt during reflow\n[Symptom]:\nIf scrollback history is available, but the prompt currently is *not* at the bottom of the terminal emulator, resizing Alacritty with lines longer than the current width of the terminal will continually move down the prompt.\r\n\r\nDemonstration:\r\n[Image: bug]\r\n\r\nThe behavior for alt screen and normal screen when the prompt is at the bottom of the terminal (or there is no scrollback) seems correct. So the goal would be to fix this without touching anything else.\n"}
{"project_id": "Alacritty", "bug_id": "56", "source_type": "github", "llm_input_text": "[Title]: Double-width characters breaking URL launching\n[Symptom]:\nAlacritty's URL launcher is checking for empty cells to stop parsing URLs. However if a character is double-width, the cell after it is always empty even though it's technically still occupied by the previous character.\r\n\r\nAs a result of this, the URL [URL] is parsed as [URL] which is a valid URL but does not match the desired outcome.\n"}
{"project_id": "Alacritty", "bug_id": "57", "source_type": "github", "llm_input_text": "[Title]: Cursor has different dimensions depending on shape\n[Symptom]:\nThis is probably best demonstrated with a picture:\r\n\r\n[Image: image]\r\n\r\nWith the hollow cursor, there's a 2-pixel gap between the top of the cursor and the edge of the cell.\r\n\r\nInterestingly, the size of the gap appears to stay at 2 pixels even with an increased font size (36 instead of 12):\r\n\r\n[Image: image]\r\n\r\nIt also happens with the vertical bar cursor (which I hadn't noticed until I increased the font size!):\r\n\r\n[Image: image]\r\n\r\nUbuntu 18.04, X11, Alacritty 0.2.9 and still present on latest master ( )\n\n[Context/Logs]:\n- I'd assume that these issues are only present with the hollow and I-Beam cursors, right? So the underline and block are both correct?\n- Yep, underline and block cursors both look fine.\n- ... [Middle Discussions Snipped for Brevity] ...\n- (and so the underline cursor *is* affected, I just didn't have an x-offset specified when I originally tested it)\n- Thanks, I've identified the issues then and am working on a fix. Will update once there's a PR."}
{"project_id": "Alacritty", "bug_id": "58", "source_type": "github", "llm_input_text": "[Title]: screen is just black\n[Symptom]:\nWindows 10 home edition, Alacritty-v0.2.5.exe.  I've also tried with 0.2.4 and get the same results.\r\n\r\nI suppose this is something environmental - I mean you'd have noticed if this thing just didn't work on Windows! - but I've no idea what.\r\n\r\nWhen I run Alacritty, I just get a black screen, and a cursor.  Typing gives the impression that I might be getting black text on a black background, the cursor looks as though it's moving the right amount.\n\n[Context/Logs]:\n- Might be a font rendering issue maybe?\r\n\r\nTry running Alacritty from a different terminal like the cmd.exe, does it produce any output? Errors should be written to stderr if anything went wrong.\r\n\r\nI'd assume you're using the default config, right?\n- Same output whether starting from cmd.exe or from file explorer.  No errors visible.  Yes, default config.\r\n\r\nEdit: You weren't suggesting that I'd get a different result from cmd.exe; you were suggesting that I might see some errors.  I don't.\n- ... [Middle Discussions Snipped for Brevity] ...\n- Activity on this thread prompted me to have another go with the latest version - 0.3.0 RC 3 - and with that I get this interesting-looking error message:\r\n\r\n```\r\nC:\\downloads\\alacritty>Created log file at \"C:\\\\Users\\\\Standard\\\\AppData\\\\Local\\\\Temp\\\\Alacritty-9508.log\"\r\n[2019-04-05 19:29] [ERROR] Alacritty encountered an unrecoverable error:\r\n\r\n        There was an error initializing the shaders: Failed compiling shader at C:\\Users\\travis\\build\\jwilm\\alacritty/res/text.v.glsl: Vertex shader failed to compile with the following errors:\r\nERROR: 0:48: error(#162) Wrong operand types no operation ':' exists that takes a left-hand operand of type 'const float' and a right operand of type 'const int' (or there is no acceptable conversion)\r\nERROR: 0:49: error(#162) Wrong operand types no operation ':' exists that takes a left-hand operand of type 'const float' and a right operand of type 'const int' (or there is no acceptable conversion)\r\nERROR: error(#273) 2 compilation errors.  No code generated\r\n```\r\n\r\nDoes that help?\r\n\r\n(I suspect that @smdsbz and I are seeing different issues.)\n- Hmm, the code in my latest failure looks new since I opened this, so I imagine we now have three problems cluttering this single issue.  Sorry about that."}
{"project_id": "Alacritty", "bug_id": "59", "source_type": "github", "llm_input_text": "[Title]: crashes on cat /dev/urandom\n[Symptom]:\nWhich operating system does the issue occur on?\r\nlinux\r\n\r\nIf on linux, are you using X11 or Wayland?\r\nx11\r\n\r\nalacritty @  \r\n\r\nbuild with `RUSTFLAGS=\"-C opt-level=3 -C debuginfo=2    -C debug-assertions=y\"`\r\n\r\n```\n`\r\n[2019-03-29 19:58] [DEBUG] [unhandled] execute byte=02\r\n[2019-03-29 19:58] [TRACE] [src/term/mod.rs:1716] Carriage return\r\n[2019-03-29 19:58] [TRACE] [src/term/mod.rs:1724] Linefeed\r\n[2019-03-29 19:58] [TRACE] [src/term/mod.rs:1340] Scrolling up relative: origin=0, lines=1\r\n... [Log Snipped] ...\n[2019-03-29 19:58] [DEBUG] [unhandled] execute byte=17\r\n[2019-03-29 19:58] [DEBUG] [unhandled] execute byte=8a\n````\n\n[Context/Logs]:\n- Looks like the issue is at [URL] which clearly has absolutely no respect for Unicode at all.\r\n\r\nIn general I'd say that most instances of `chars().enumerate()` are probably a bad idea and this is actually done correctly (using `char_indices()` just a couple of lines above that.\r\n\r\nI've included a fix for this in [URL] since it's kinda related to URL issues, that fixes the issue."}
{"project_id": "Alacritty", "bug_id": "60", "source_type": "github", "llm_input_text": "[Title]: URL highlight issues\n[Symptom]:\nThe URL \"test@[URL] does not get highlighted correctly. This is likely related to trimming the start of URLs with special characters, the origin should be updated appropriately to fix this.\r\n\r\nIf the mouse is over a URL and the URL is recognized and highlighted,\r\nbut the user presses enter until the URL moves away from the cursor,\r\nthe URL will still be highlighted making it impossible to remove the highlight.\r\n\r\nIf the display offset is not equal to 0 (so user is scrolled up),\r\nthere is another issue with URL detection which will highlight the wrong\r\ncells. Adding the display offset to the line number might fix this.\n"}
{"project_id": "Alacritty", "bug_id": "61", "source_type": "github", "llm_input_text": "[Title]: Rendering issue with vifm\n[Symptom]:\n_Thank you for an awesome terminal!_ :pray:\r\n\r\nI'm seeing an issue with the cursor rendering with [Link: `vifm`] in `alacritty`. This is the first time I've noticed it - I'm not seeing this issue with any other curses app.\r\n\r\n[Image: Peek 2019-04-21 16-18]\r\n\r\nHere's my cursor settings in alacritty:\r\n```\r\ncursor:\r\n  text: ' '\r\n  cursor: ' '\r\n```\r\n\r\nI'd love to see this fixed, give me a ping if **I can help in any way**.\r\n\r\n:beers:\n\n[Context/Logs]:\n- I didn't try to reproduce it (too long to install this terminal) and just guess this is a stable behaviour of the terminal. If that's the case, this is likely to be a problem of `alacritty`, as the issue doesn't appear in other terminals as far as I can tell and I know that the blacked out character appears where hardware cursor is positioned by `vifm`. In normal mode the terminal cursor is invisible, yet `alacritty` displays it.\n- @sQVe Which version of Alacritty are you using? Can you reproduce this with the latest master?\n- ... [Middle Discussions Snipped for Brevity] ...\n- @chrisduerr Roger. I'll try it out ASAP. Most likely in an hour or two.\n\nIf possible I'll try to narrow it down further to a specific commit.\n- @chrisduerr I've now had the time to debug this further.\r\n\r\nWith `HEAD` at  , I'm seeing the issue I initially reported: \r\n[Image:  ]\r\n\r\nWith `HEAD` at  , I'm also seeing an issue, but inverted:\r\n[Image:  ]\r\n\r\nWith `HEAD` at  , I'm seeing **no issue**:\r\n[Image:  ]"}
{"project_id": "Alacritty", "bug_id": "62", "source_type": "github", "llm_input_text": "[Title]: Alacritty window rescales during startup\n[Symptom]:\nWhen I start alacrity, it first creates a large window which is then very quickly resized to the final size (~70%).  The resizing is really fast and wouldn't bother me but my window manager (fvwm2) places the window based on the original size and that means that the window position ends up not being what it is supposed to be. \r\n\r\nUbuntu 16.10.  Default alacritty.yml except that I changed the font size to 13.\n\n[Context/Logs]:\n- Thanks for filing this issue. The problem here is we need to know some font metrics to know the proper window size to create, but we can't know the font metrics without having the DPI scaling factor which comes from the window.\r\n\r\nGlutin needs a way to get the DPI scaling info for a monitor without actually creating a window.\n- A workaround might be to open a window to get the DPI scaling factor, then close it and open a new one with the correct size.  Not great but perhaps better than the current state of affairs.\n- ... [Middle Discussions Snipped for Brevity] ...\n- If you set window dimensions and the DPI factor is not equal to 1, it's impossible not to resize at startup.\r\n\r\n\r\nThe issue is exactly what vberger has said in the winit issue. It's pointless that we're able to get the DPI for all displays when we do not know which display the window is going to be spawned on.\n- At this point, I think the question becomes \"how do other terminals handle it?\"\r\nI don't experience the same problems in, say, Konsole.\r\nAll of my displays (at least at home) have a non-1 DPI factor, but all of my displays per-system also have identical DPI factors (same-size displays with same resolution in all multi-display setups).\r\nSurely there's some way for alacritty to handle these common scenarios with equal grace to virtually every other alternative?"}
{"project_id": "Alacritty", "bug_id": "63", "source_type": "github", "llm_input_text": "[Title]: Alacritty freezes on pasting from empty clipboard\n[Symptom]:\nWhen pasting from empty clipboard alacritty gets frozen for 3-4 seconds. \r\nArch Linux with  X11\r\n( #2391 doesn't fixed it for me )\n\n[Context/Logs]:\n- I can confirm this is happening to me as well, in the same OS environment.\r\n\r\nAlacritty hangs, then prints the following:\r\n\r\n```\r\n[2019-04-30 13:37] [DEBUG] Unable to load text from clipboard: Selection timed out\r\n```\n- Related issue in one of our new dependencies: aweinstock314/rust-clipboard#54.\n- ... [Middle Discussions Snipped for Brevity] ...\n- @quininer Thanks a lot for that! The fix seems to work great based on my testing.\r\n\r\nWhat is the need for the timeout if this is not intentional? Is there a different way this might timeout?\n- X11 has many different implementations (both client and server) and it's hard to keep them reliable. If the other party panic after sending notify, we may never receive message."}
{"project_id": "Alacritty", "bug_id": "64", "source_type": "github", "llm_input_text": "[Title]: Index out of bounds when selecting during `yes`\n[Symptom]:\nWhen creating a selection while running the `yes` command, Alacritty will crash with an index out of bounds exception.\n\n[Context/Logs]:\n- For further info: I can reproduce this using `while true; do echo no; done` and selecting. Theoretically, any high-output command that induces fast scrolling would cause this.\n- Another interesting detail might be that I *think* I've specifically tested this in the past, so it's possible that there has been a regression and it might be worth bisecting this issue.\n- ... [Middle Discussions Snipped for Brevity] ...\n- Most definitely. I'd assume that the selection is stored at a specific position and then rotated (moved up) until it leaves the grid. So trying to access it then will lead to an access outside of the grid, leading to an IOOB.\r\n\r\nThough I haven't had the time to look at this yet, so this is only a guess.\n- I did some testing and this seems to be exactly what the issue is. If I prevent span.{start,end}.line from going larger than the number of lines in the grid then no IOOB will occur."}
{"project_id": "Alacritty", "bug_id": "65", "source_type": "github", "llm_input_text": "[Title]: Characters inserted into neovim since foreground/background request escape codes added\n[Symptom]:\nWhich operating system does the issue occur on?\r\nLinux\r\n\r\nIf on linux, are you using X11 or Wayland?\r\nX11\r\n\r\nSeemingly randomly (I can't tell what causes the bug to occur some times but not others, or why one escape is displayed in one instance but another at another time) when starting neovim since f790070, escapes get input as if I typed them, for example after starting nvim the most recent time it starts in command mode with `:.rgb:0/0/0^G` as the typed out command, another one is starting in search mode with either `/0` or `/0/0`.\r\n[Image: image]\n\n[Context/Logs]:\n- Getting the output of `alacritty -vvv | grep \"Writing escape sequence for dynamic color code\"` would be very helpful I think.\r\n\r\nI personally can't reproduce this with the latest master, so I can only take guesses here. Could you try this with an empty nvim config and give detailed instructions on how you're causing this?\r\n\r\nI'd also be very interested in seeing if this can be reproduced with XTerm.\r\n\r\nThe following patch might also solve it already, please give that a try if you've got some time:\r\n\r\n```\ndiff\r\ndiff --git a/alacritty_terminal/src/term/mod.rs b/alacritty_terminal/src/term/mod.rs\r\nindex 5cfd503..4a07d5b 100644\r\n--- a/alacritty_terminal/src/term/mod.rs\r\n+++ b/alacritty_terminal/src/term/mod.rs\r\n... [Log Snipped] ...\n \r\n     /// Reset the indexed color to original value\n```\n- Oh, I think I've figured it out. I think this will be fixed if you set your background color to anything above hex `0F/0F/0F`.\r\n\r\nI think the problem is that `0/0/0` is written as single-digits.\n- Attempted to fix this in [URL] please let me know if that does it for you.\n- ```\n[2019-06-15 10:33] [TRACE] [alacritty_terminal/src/term/mod.rs:1884] Writing escape sequence for dynamic color code 11: color[257]\r\n[2019-06-15 10:33] [TRACE] [alacritty_terminal/src/term/mod.rs:1884] Writing escape sequence for dynamic color code 11: color[257]\r\n[2019-06-15 10:33] [TRACE] [alacritty_terminal/src/term/mod.rs:1884] Writing escape sequence for dynamic color code 11: color[257]\r\n[2019-06-15 10:34] [TRACE] [alacritty_terminal/src/term/mod.rs:1884] Writing escape sequence for dynamic color code 11: color[257]\r\n[2019-06-15 10:34] [TRACE] [alacritty_terminal/src/term/mod.rs:1884] Writing escape sequence for dynamic color code 11: color[257]\r\n... [Log Snipped] ...\n[2019-06-15 10:34] [TRACE] [alacritty_terminal/src/term/mod.rs:1884] Writing escape sequence for dynamic color code 11: color[257]\r\n[2019-06-15 10:34] [TRACE] [alacritty_terminal/src/term/mod.rs:1884] Writing escape sequence for dynamic color code 11: color[257]\n```\r\nEach line looks the same to me, each one is for one opening of nvim the exact same way (and I didn't this time but I previously tested with both `nvim -u NORC` and `nvim -u NONE`, #2544 seems to have just increased how many 0s there are. The first picture attached is related to the second line, the second picture to the third line, the third one to the last line, and all other lines had nothing weird upon opening nvim\r\n[Image: Screenshot 2019-06-15 10-33-51]\r\n[Image: Screenshot 2019-06-15 10-34-11]\r\n[Image: Screenshot 2019-06-15 10-39-03]"}
{"project_id": "Alacritty", "bug_id": "66", "source_type": "github", "llm_input_text": "[Title]: Alacritty v0.3.0-rc2 does not start (Error creating GL context)\n[Symptom]:\nAlacritty release: v0.3.0-rc2\r\nOS: Debian GNU/Linux buster/sid x86_64\r\nKernel: 4.19.0-4-amd64O\r\nDE: GNOME 3.30.2\r\nGPU: NVIDIA Quadro FX 880M\r\nusing X11\r\n\r\n```\r\n$ alacritty\r\nCreated log file at \"/tmp/Alacritty-19721.log\"\r\n[2019-04-02 14:35] [ERROR] Alacritty encountered an unrecoverable error:\r\n\r\n        Error creating GL context; `glXQueryExtensionsString` found no glX extensions\r\n```\r\n\r\n## notes: \r\n* alacritty version v0.2.9 works fine\r\n* `cargo run --example window` works fine when cloned glutin master\r\n* tried both installing from released deb file and building from sources\n\n[Context/Logs]:\n- Could you bisect which exact commit broke this for you?\n- is the first bad commit\r\n\r\nAlso I chacked last commit ( ) and the same error still occurs.\n- ... [Middle Discussions Snipped for Brevity] ...\n- Oh, sorry. For some reason I confused this issue with [URL]\r\n\r\nI'm not entirely sure why vsync was enabled since I can't reproduce any errors of the original commit message, so I'm not sure if I want to make this change before the 0.3.0 release. It's also possible that it might have impact on performance and resource usage, the latter being difficult to benchmark for me.\n- Reported upstream in [URL]"}
{"project_id": "Alacritty", "bug_id": "67", "source_type": "github", "llm_input_text": "[Title]: Windows: Focus with mouse highlights text\n[Symptom]:\nOperating System: Windows\r\nPretty sure this doesn't happen in Linux.\r\n\r\n### Behavior summary\r\nWhen focusing the window with a mouse click, all characters are highlighted up until the character clicked on.\r\n\r\n### Expectation\r\nThe window is simply focused, no extra selection occurs.\r\n\r\n### Extra\r\nThis is especially irritating in combination with #2050.\r\n(`selection: save_to_clipboard: false` doesn't seem to work, resulting in pasting half the terminal screen back into the prompt)\n\n[Context/Logs]:\n- This issue was already raised for macOS [Link: here] where it was initially implemented for all platforms.\r\n\r\nThe behavior was then reverted for Linux/BSD because it's not expected there in [Link: this PR].\r\n\r\nThis was all before Windows support was added, so it made sense back then to just check if the platform is not macOS. It seems like all that is needed here, would be to add another check to make sure that this behavior is also present on Windows to match macOS.\r\n\r\nI've created a PR to fix this issue, I'd appreciate help with testing: [URL]\n- I built from this PR (with the build fix) and I'm still getting the same behaviour.\r\nJust to verify, I built this with `cargo build --release`. Is this correct?\r\n(Not sure if you can/how to download binaries build by TravisCI?)\n- ... [Middle Discussions Snipped for Brevity] ...\n- Confirmed fixed! Woohoo! \ud83c\udf89\n- Yep, it also works on my machine!"}
{"project_id": "Alacritty", "bug_id": "68", "source_type": "github", "llm_input_text": "[Title]: Panic due to error in config\n[Symptom]:\n## System\r\n\r\nOS: Antergos Linux, Kernel v. 5.0.6\r\nDisplay Server: X11\r\nWM: i3\r\nCompositor: compton (afaik irrelevant here)\r\nAlacritty version 0.2.9 (similar problems occurred in previous versions as well, though)\r\n\r\n## Summary\r\nIn case of certain configuration errors, e.g. when the colors: primary: background property is set twice in a row, alacritty will panic:\r\n\r\n```\r\ncolors:\r\n  primary:\r\n    background: ' '\r\n    background: ' '\r\n    foreground: ' '\r\n```\r\n\r\n## Expectation\r\nFallback to default setting\r\n\r\n## Output\r\n\r\n```\r\nCreated log file at \"/tmp/Alacritty-8246.log\"\r\n[2019-04-09 11:23] [ERROR] Problem with config: colors.primary: duplicate field `background` at line 1\r\n45 column 15; using default value\r\nthread 'main' panicked at 'unexpected end of mapping', /build/.cargo/registry/src/github.com-1ecc6299d\r\nb9ec823/serde_yaml-0.8.8/src/de.rs:147:25\r\nnote: Run with `RUST_BACKTRACE=1` for a backtrace.\r\n```\n\n[Context/Logs]:\n- Our upstream parsing dependency does not strive to propagate errors if the file is invalid, giving no guarantees that there will not be a runtime crash.\r\n\r\nThe best approach might be to verify the validity of the input file first before starting to try and parse it with serde, [URL] might be a good choice for this.\n- :+1: Also happened to me. I was tweaking the font settings, and copied the current `family: ` line and pasted it below, and alacritty immediately crashed and wouldn't relaunch. I had to launch a different terminal to edit the alacritty.yml file before I could start it again. Not a showstopper, but kinda annoying."}
{"project_id": "Alacritty", "bug_id": "69", "source_type": "github", "llm_input_text": "[Title]: Cursor colour is incorrect after displaying ~2000 lines of dmesg\n[Symptom]:\nUbuntu 18.04, X11, alacritty 0.3.0\r\n\r\nThis is the weirdest bug: if I open a new terminal and run `dmesg`, the cursor consistently turns red.\r\n\r\n[Image: image]\r\n\r\nTyping doesn't make it change colour, but backspacing over characters makes it turn white (the original colour). Running `dmesg` again in the same terminal results in it turning white also; after this, I can't reliably reproduce the bug in the same terminal window.\r\n\r\nThe following file reproduces this (just `cat` it): [Link: dmesg.txt]\r\n\r\nIf I truncate that file much more, it no longer causes this to happen.\r\n\r\nHere's my alacritty config:\r\n\r\n \r\n\r\n```\n# Configuration for Alacritty, the GPU enhanced terminal emulator.\r\n\r\n# Any items in the `env` entry below will be added as\r\n# environment variables. Some entries may override variables\r\n# set by alacritty itself.\r\n... [Log Snipped] ...\n  - { key: NumpadEnter,             chars: \"\\n\"                              }\r\n  - { key: Return,   mods: Super|Shift, action: SpawnNewInstance             }\n```\n\n[Context/Logs]:\n- I can't reproduce this myself, but chances are there's just an escape sequence in there that changes the cursor colors?\r\n\r\nCan you reproduce this in a different terminal emulator?\n- More investigation (slightly stream-of-consciousness, sorry): At some point, the background for selected text after the end of the line changes colour, which is approximately when the cursor ends up red instead of white:\r\n\r\n[Image: image]\r\n\r\nInterestingly if I tab-complete the filename (printing an extra 3 lines of text) before printing the file, the selected-text background changes colour 3 lines earlier:\r\n\r\n[Image: image]\r\n\r\nPasting all the text from the start of the session until the line before the colour change into a file results in a file 1024 lines long, which seems suspicious. (This isn't just due to some weirdness of a particular line in the test file \u2013 I can remove the first line, and the first strange line still appears after 1024 lines have been printed.)\r\n\r\nI also just tested and I can reproduce this on latest master,  .\r\n\r\nI've never seen it happen in any other terminal emulator (I've just tested gnome-terminal and xterm). It's not to do with cursor-colour codes; I can reproduce it by running this Python program:\r\n\r\n```\npython\r\n#!/usr/bin/env python3\r\nprint(\"\\033[31m\" + \"foo\")\r\n# higher numbers for the range work, lower numbers don't, but it depends\r\n# on how much text was previously printed in this alacritty window (the less\r\n... [Log Snipped] ...\nfor i in range(39):\r\n    print(\"foo\")\n```\n- ... [Middle Discussions Snipped for Brevity] ...\n- @anowlcalledjosh Could you test if #2599 fixes this for you?\n- belatedly: yep,   fixes it. thanks!"}
{"project_id": "Alacritty", "bug_id": "70", "source_type": "github", "llm_input_text": "[Title]: Insert cursor disappearing in Neovim\n[Symptom]:\nI've have noticed an issue with the cursor in **INSERT** mode in `neovim`. After having `neovim` open in `alacritty` for a while the cursor disappears when in insert mode. I'm having a hard time replicating the issue.\r\n\r\n[Image: Peek 2019-04-23 10-52]\r\n\r\nWorth noting is that restarting `neovim` does not fix the issue. I have to restart `alacritty` for it to disappear. I did not notice this issue with version `0.3.0`.\r\n\r\n**EDIT:** I also now noted that the cursor does not respect my set color. I have: \r\n\r\n```\r\n  cursor:\r\n    text: ' '\r\n    cursor: ' '\r\n```\r\nBut it looks like this:\r\n[Image: Peek 2019-04-23 10-58]\r\n\r\nI'm running `alacritty` built from [URL] on **Arch Linux** with Xorg.\n\n[Context/Logs]:\n- It's not just NeoVim... for me it disappears in normal ZSH shell...\r\n\r\n[Link: [Image: asciicast]]\n- Getting the same issue as @sQVe. Are there some new configuration variables we should be aware of? I haven't updated mine since 0.3.0.\n- ... [Middle Discussions Snipped for Brevity] ...\n- I've done some testing under gdb and figured out that this [Link: `if`] in pair with its `else` returns absolutely the same things whether cursor final colors are broken or not, so probably the colors are fine here.\r\n\r\nIn my test I was moving from `(0,0)` cell in alacritty to `(1,0)`, both times from the same line in the file. CursorStyle - block, `cursor.cursor == Rgb(171,178, 191)`, `cursor.text == Rgb(40,44,52)`. Compiled alacritty with `--debug` and used `rust-gdb` as a debugger. The results of examining `return` statements with gdb `p` command are in the file. `If` branch is marked with `if:` and `else` with `else:` \r\n[Link: log_next.txt]\n- @kchibisov @chrisduerr \r\nFor me a47d716 is fine, cfc20d4f34 introduced the problem."}
{"project_id": "Alacritty", "bug_id": "71", "source_type": "github", "llm_input_text": "[Title]: Weird carat behavior when scrolling\n[Symptom]:\nUsing the latest Alacritty, on Gentoo, and under Sway I see this interesting behavior when scrolling. I think the best way to describe it is to show it:\r\n\r\n[Link: [Image: Demo]]\r\n\r\nP.S. Click on image for full video.\n\n[Context/Logs]:\n- Can you reproduce this in X or XWayland? Also does setting a different cursor (using `printf '\\e[4q'` for example) fix this?\n- @chrisduerr If the issue is about cursor, I can reproduce it on X11 with zsh just by opening new `alacritty` instance typing `ls -laF` bunch of times, then `Ctrl + l`, `ls -laF` and scroll up. It only happens when your prompt isn't at the bottom of the screen though (in the middle e.g).\r\n\r\nUpdate: Cursor will become hidden, when the current prompt will go offscreen .\n- ... [Middle Discussions Snipped for Brevity] ...\n- Huh, that seems like an interesting pitfall. Do you want to send a PR or should I do that later? I think it might be worthwhile to add a comment to this line to state that this is intentional and why it's needed.\n- @chrisduerr I'll send it."}
{"project_id": "Alacritty", "bug_id": "72", "source_type": "github", "llm_input_text": "[Title]: Double binding - ScrollPageUp\n[Symptom]:\nWhen setting a binding like:\r\n```\r\n- { key: PageUp,   mods: Shift,   action: ScrollPageUp                 }\r\n```\r\nThe ScrollPageUp gets triggered twice, and I miss lines in the buffer.\r\n\r\nAfter a suggestion from irc, I removed the keybinding, and it works as expected. There might be an issue that register binding twice.\r\n\r\nThe issues appears on: Linux X11 using git master from 2019/07/05\n"}
{"project_id": "Alacritty", "bug_id": "73", "source_type": "github", "llm_input_text": "[Title]: Double-click selects trailing tab\n[Symptom]:\nRun this:\r\n\r\n```\r\n$ printf 'select\\tme\\n'\r\n```\r\n\r\nand double-click `select`. Observe that the cell after the word is also highlighted, and pressing ctrl-shift-C will copy the tab character.\r\n\r\nAlacritty 0.3.3, Ubuntu 18.04, X11\n\n[Context/Logs]:\n- I've verified this on the latest master branch.\n- Adding `\\t` to `semantic_escape_chars` in alacritty.yml fixes this for me.\n- Sounds like that might be a reasonable change. I don't see why it wouldn't be part of it already, since a normal whitespace is already in there. So likely just an oversight."}
{"project_id": "Alacritty", "bug_id": "74", "source_type": "github", "llm_input_text": "[Title]: Regression with scrolling performance\n[Symptom]:\nWhile doing some tests with profile guided optimization, I've noticed that normal scrolling (the type that is done by `yes`), is extremely slow on the latest master.\r\n\r\nI've tested this with the version I'm currently running (f002171) and there's no such performance issue there.\r\n\r\nSo somewhere in between   and f002171 there must have been a change significantly impacting the performance of scrolling content inside of Alacritty.\r\n\r\nMy best bet would be [URL] however I haven't bisected it yet, so I'll update this issue when I've got some additional information.\n\n[Context/Logs]:\n- @chrisduerr I've decided to bisect it (I'm always running `perf` to test for the performance changes, when sending `PR`s, so was a little bit surprised, that I didn't noticed it in a first place). So, af30f37 has introduced the issue. The result of\r\n`perf stat -r 10 vtebench -b 10000000 scrolling` on 0815774 is\r\n```\r\n1.09668 +- 0.00412 seconds time elapsed  ( +-  0.38% )\r\n```\r\non af30f37\r\n```\r\n6.39654 +- 0.00654 seconds time elapsed  ( +-  0.10% )\r\n```\r\nand on f002171\r\n```\r\n1.09115 +- 0.00399 seconds time elapsed  ( +-  0.37% )\r\n```\n- That definitely makes some sense, though it surprises me the impact is so huge. I'll take a look if there's a good way to resolve this properly. The `occ` of Row might have to be fixed/reworked a bit."}
{"project_id": "Alacritty", "bug_id": "75", "source_type": "github", "llm_input_text": "[Title]: Underline starting in last line not rendered when scrolled up\n[Symptom]:\nIf an underline is started in the last line while scrolled up in the terminal, the underline is not rendered correctly.\r\n\r\nThis applies both for underlines printed using the escape sequence and for underlines created for URL highlighting.\r\n\r\nQuick investigation shows this might be caused by the `update_lines` method or some other step in the rendering process. It seems like the cells have the underline flag set correctly, or at least some flags have an underline flag set, I haven't checked if they're the correct cells yet.\n\n[Context/Logs]:\n- Seems like `strikethrough` is also affected. However selecting any cell (even empty) on line with underline + strikethrough shows both underline and strikethrough correctly.\n- Since strikeout and underline are handled pretty much exactly the same way, this does make sense.\r\n\r\nGood catch on the selection though. I'd expect this to be relatively easy to resolve once the cause is found, however I was caught up with finishing up my PR for moving Alacritty to rfind_url.\n- ... [Middle Discussions Snipped for Brevity] ...\n- ~~For me, it's off by 7(random number) in case I create underline on the last line.~~\r\n\r\nNevermind, `alacritty` was rendering debug output too fast (instant update) and the needed lines were sent out of scrollback buffer without noticeable screen update.\r\n\r\nSo yeah, seems like off-by-one.\r\n\r\nI think I can send a PR to fix this in an hour or less.\n- Just an update to the issue.\r\nThe issue is presented only with the last underline in the last line\r\n[Image: Screenshot_Tue 30 Jul 2019 11:58:34 PM MSK]\r\n\r\nThis is also presented when underlining on a prompt regardless of the position, but your cursor should be to the left to underlined text. Just move a cursor across the url to get the broken behavior.\r\n\r\nOh, and in case of current prompt, you should just place any symbol to the right of underlined text, and it will be highlighted properly (with cursor on the left side)."}
{"project_id": "Alacritty", "bug_id": "76", "source_type": "github", "llm_input_text": "[Title]: Interpretation of \"private\" CSI diverges from other terminals.\n[Symptom]:\nPlease don't threat CSI sequences with \"private use\" ( , ?) chars the same as sequences without with the same final character.\r\n\r\nThese are code space extensions and often have quite different functions. Interpreting them the same as the sequence without will create glitches and confuse applications. The same applies to the intermediates (` !\\\"#$%&'()*+,-./`).\r\n\r\nProperly ignoring unknown sequences is essential for the ongoing terminal ecosystem evolution as new sequences are allocated.\r\n\r\nThe current code in ansi.rs: `csi_dispatch` seems to get both these sequence parts in `intermediates` but mostly ignores them, except for select cases.\r\n\r\nThe following is based on information of the sequences interpreted by xterm, vte/gnome-terminal, konsole and rxvt-unicode. Also see my ongoing [Link: documentation project] for further details.\r\n\r\nI think for the currently implemented sequences the only ones that should trigger with an non empty `intermediates` are:\r\n* `J` and `K` for `intermediates` exactly `?`. Strictly this is for protected cells, but it's commonly implemented on terminals that don't actually implement protected cells (if protected cells are not supported it behaves like the non `?` version)\r\n* And of course `h` and `l` for `intermediates` exactly `?`. Similar to what alacritty currently does.\r\n* possibly `n` for `intermediates` exactly `?`. The expected behavior here is different from the not `?` versions and alacritty should either ignore them or properly implement this different behavior. alacritty currently only supports 5 and 6 so a proper implementation can just add a additional `?` in the output for the dec private variants.\r\n* `q` should set cursor style only when `intermediates` is exactly ` ` (space). Without it's a different sequence understood by xterm (and DEC compatible terminals; DECLL).\r\n\r\nCurrently i think the following claimed sequences are misinterpreted:\r\n```\nESC [ \u24c3 \u2423 @  \tScroll Left\r\nESC [ \u24c3 \u2423 A  \tScroll Right\r\nESC [ > \u24c3 T  \tUnset Title \n...[Description Truncated]...\n\n[Context/Logs]:\n- Thanks for going into so much detail about the issue. It sounds like a very sane suggestion though I'd have to look into it myself to get a full grasp of the issue at hand.\n- Any news on this? Anything i can do to help this along?\n- While I think I understand the general situation, it's hard for me to judge what exactly needs to be done to resolve this.\r\n\r\nI'm also not aware of any serious bugs this *currently* causes in the wild.\r\n\r\nBecause of this other issues have had priority for now. The best way to help is obviously always to contribute, but I don't expect that from anyone. Other than that this will just have to wait until I can get around to it.\n- I don't have much clue about rust. So i'm reluctant to open a PR, because i expect whatever i come up would be highly unidiomatic. \r\n\r\nBasically csi_dispatch in ansi.rs would need to include `intermediates` in addition to `action` in the matching. With almost all matches only triggering if `intermediates` is empty.\r\n\r\nThe 'q' match would need to be modified to match on `action == 'q' && intermediates == [' ']`.\r\nThe matches for 'l' (reset mode) and 'h' (set mode) would need to work with both `intermediates == [Link: ]` and `intermediates == ['?']` but the modes are different namespaces (i.e. `\\e[12h` is [send receive mode] while `\\e[Link: ?12h` is [cursor blinking mode])\r\n\r\nI think alacritty might work with just those sequences. One step more would be to think about the other combination from my start post and thinking about what alacritty should respond to \"Secondary Device Attributes\" (`\\e[>c`).\r\n\r\nIf you want to see which sequences (`action` + `intermediates`) other terminals support the documentation for vte (gnome-terminal, etc) at [URL] is fairly complete (all toplevel CSI sequences are listed and most have a description).\r\n\r\nI'm happy to help reviewing a possible PR for this, or course.\r\n\r\nI'm not sure if this currently causes bugs in the wild, i would expect software that does terminal identification based on responses to get confused by getting a \"Primary Device Attributes\" when asking for \"Secondary Device Attributes\". The library i'm working with certainly does."}
{"project_id": "Alacritty", "bug_id": "77", "source_type": "github", "llm_input_text": "[Title]: Pasting from empty clipboard throws error\n[Symptom]:\nMinor observation, pasting from an empty clipboard, e.g. after a reboot, throws an error.\r\n\r\nOS: macOS Mojave 10.14.4\r\nAlacritty version:\n\n[Context/Logs]:\n- This has been fixed in #2391, thanks for the report."}
{"project_id": "Alacritty", "bug_id": "78", "source_type": "github", "llm_input_text": "[Title]: Hovering mouse over message bar results in crash\n[Symptom]:\nWhen you hover mouse over message bar `alacritty` will crash, this issue was introduced by   and presented on master.\n"}
{"project_id": "Alacritty", "bug_id": "79", "source_type": "github", "llm_input_text": "[Title]: Wayland clipboard intermittently broken\n[Symptom]:\nWhich operating system does the issue occur on?\r\nFedora 30, on both alacritty 0.3.3 and alacritty master. I'm running in gnome-session-wayland-session 3.32.0.\r\nIf on linux, are you using X11 or Wayland?\r\nWayland. This issue doesn't occur in X11 at all.\r\n\r\nI noticed that sometimes, neither the Selection nor Clipboard works at all. I can't fix it without restarting alacritty. I ran a test just running it from my shell from another alacritty instance many times, and it's 50-50 each trial if the clipboard is either completely broken, and never works, or always works.\r\n\r\nI've added some debug statements:\r\n\r\n```\ndiff\r\ndiff --git a/alacritty_terminal/src/clipboard.rs b/alacritty_terminal/src/clipboard.rs\r\nindex 0e40cd4..85e3378 100644\r\n--- a/alacritty_terminal/src/clipboard.rs\r\n+++ b/alacritty_terminal/src/clipboard.rs\r\n... [Log Snipped] ...\n     }\r\n }\n``` \r\n\r\nThe output is as follows:\r\n\r\n```\r\n[2019-06-22 11:08] [DEBUG] Clipboard#store ty=Selection\r\n[2019-06-22 11:08] [DEBUG] Clipboard#store text=alacritty\r\n[2019-06-22 11:08] [DEBUG] Clipboard#store ty=Clipboard\r\n[2019-06-22 11:08] [DEBUG] Clipboard#store text=alacritty\r\n[2019-06-22 11:08] [DEBUG] Clipboard#load ty=Selection\r\n[2019-06-22 11:08] [DEBUG] Clipboard#load text=\r\n[2019-06-22 11:08] [DEBUG] Clipboard#load ty=Clipboard\r\n[2019-06-22 11:08] [DEBUG] Clipboard#load text=\r\n```\r\n\r\nSo it seems the data is passed into `smithay-clipboard`, but it doesn't come out again.\n\n[Context/Logs]:\n- When I'm in a broken alacritty session, pasting text copied from other applications into alacritty doesn't work as well, but copying text in alacritty and then pasting to another application works. So it seems to me that just the clipboard loading is broken in any case.\r\n\r\nThat it either fails all the time or never within one session could indicate a race-condition during startup.\n- @chrisduerr i have a suspicion this could be to do with registering a seat for the clipboard however I\u2019ll have to do a bit of testing\n- ... [Middle Discussions Snipped for Brevity] ...\n- I think I'm seeing two threads because alacritty actually starts two clipboard context. When I change this\r\n\r\n```\ndiff\r\n--- a/alacritty_terminal/src/clipboard.rs\r\n+++ b/alacritty_terminal/src/clipboard.rs\r\n@@ -47,13 +47,7 @@ impl Clipboard {\r\n                         ),\r\n... [Log Snipped] ...\n             };\r\n         }\n```\r\nI'm unable to reproduce the issue anymore! (I tried it about 20 times so far).\r\nCould there be a race because two clipboard threads are started simultaneously.\n- @pschyska @Freyr666 If you could test branch [URL] with\r\n```\nDiff\r\ndiff --git a/Cargo.toml b/Cargo.toml\r\nindex 2e8fd4d..8d1289c 100644\r\n--- a/Cargo.toml\r\n+++ b/Cargo.toml\r\n... [Log Snipped] ...\n servo-freetype-sys = { path = \"servo-freetype-proxy\" }\r\n+smithay-clipboard = { git = \"[URL] branch = \"roundtrip-before-n-after\" }\n```\r\nit would be appreciated :)"}
{"project_id": "Alacritty", "bug_id": "80", "source_type": "github", "llm_input_text": "[Title]: Color issue introduced in commit 629e24\n[Symptom]:\nWhich operating system does the issue occur on?\r\n\r\nIf on linux, are you using X11 or Wayland?\r\n\r\nWhile testing the latest master I ran into an issue where the entire terminal will turn green.\r\nDoing a git bisect points towards commit  \r\nI looked over the commit but could not find any obvious issues with the code, but then again I barely know rust. \r\n\r\nLet me know I you need any more info in order to debug.\n\n[Context/Logs]:\n- Would you mind creating ref test `alacritty --ref-test` in case you can reliably repro the issue?\r\n\r\nP.s. Close your alacritty with WM hotkey and not `Ctrl-D` (due to this #2625)\n- Here's the output from --ref-test, is it supposed to be like this?\r\n[Link: alacritty.recording]\r\n\r\nI thought for a second that the issue was with my greeting message, a small ascii logo and output from neofetch run through lolcat, however it seems that disabling that feature still results in everything being green.\n- ... [Middle Discussions Snipped for Brevity] ...\n- Seems like the #rrggbb format has been broken with the xparsecolor rework.\r\n\r\nMinimal repro: `echo -e \"\\e]11;#090B13\\007\"`.\n- Fixed in [URL]"}
{"project_id": "Alacritty", "bug_id": "81", "source_type": "github", "llm_input_text": "[Title]: Links without a space after it\n[Symptom]:\nIf there is text after a link with non white space delimiter between them hovering over this text will show the underline under the link and clicking it will open the link but the underline is only under the link not the text.  Additionally if there is a second link in this text it will not detected.\r\n\r\nExample:\r\nA markdown link `[Link: [URL]\r\n\r\nI'm on macos using 0.3.2\n\n[Context/Logs]:\n- I can reproduce, looks like there's a bit of a problem with the combination of brackets here.\r\n\r\n\r\nIf I understand you correctly, you mean that the [text] part of the URL should get underlined? This is not intended and will not be supported. So I'd like to limit this feature to the incorrect detection of URLs with the combination of brackets here.\n- The correct text is underlined. The bug is that the text after the link when click will cause the link before it to open even though the link wasn't clicked"}
{"project_id": "Alacritty", "bug_id": "82", "source_type": "github", "llm_input_text": "[Title]: message bar displays ANSI escape codes on warning/error\n[Symptom]:\nWhich operating system does the issue occur on?\r\n\r\n- Fedora 29\r\n- alacritty-0.3.2\r\n- rustup 1.18.3\r\n\r\nIf on linux, are you using X11 or Wayland?\r\n\r\n- X11\r\n\r\n---\r\n\r\nI am missing `xclip` on my system, so alacritty is (correctly) giving me an error about this in the message bar. However, it looks like the message has ANSI color escapes that aren't being handled:\r\n\r\n[Image: image]\r\n\r\nI'm guessing these escapes correspond with the color red, since that's what's displayed when I invoke alacrity from another terminal:\r\n\r\n[Image: image]\r\n\r\n**Expected Behavior**: alacritty should either:\r\n1) Parse the ANSI codes and use the correct color (harder to implement) or\r\n2) Filter out the ANSI escape codes (easier to implement)\n\n[Context/Logs]:\n- I think the second suggestion is probably the most reasonable, it should give the best balance.\r\n\r\nHowever, there is a third option: Not using color when logging. If possible the other options should be preferred since they are less limited, but that would obviously be the easiest solution of all of them.\n- I think I kinda like just not printing color when logging. That's how many programs handle this.\r\n\r\nOtherwise, option 2 seems better if only because I don't want to deal with contrast on a colored message bar."}
{"project_id": "Alacritty", "bug_id": "83", "source_type": "github", "llm_input_text": "[Title]: 0 Width Vertical Block Selections\n[Symptom]:\nI've uncovered a bug while testing #2719 (as noted there). Basically we shouldn't allow empty vertical block selections of width 0. This can cause a situation where it looks like there is no selection, but in fact there is one. Since a selection prevents actions like clicking a URL, this can lead to strange user interactions.\r\n\r\n[Image: block-selection-url-bug-2019-09-07_00 03 52]\r\n\r\nTo reproduce on master, create a 0 width N height block selection, and then attempt to click a URL. I believe a proper fix for this is to disallow 0 width block selections, similarly to how other selections disappear.\n\n[Context/Logs]:\n- Fix was extremely simple, let me know if [URL] solves all the problems you've found!"}
{"project_id": "Alacritty", "bug_id": "84", "source_type": "github", "llm_input_text": "[Title]: Visual bell animation stalls\n[Symptom]:\nThe event loop stalls before completion of visual bell animation, even when the dirty bit is still set.\n\n[Context/Logs]:\n- I'm still seeing (what I think is) this issue on 0.4.0. I cause a bell, it mostly finishes the animation, but there's still an overlay of red (bell color) until I type another key. The opaqueness varies from bell to bell.\r\n\r\nUsing Xorg version 1.20.6\r\n\r\nGPU:\r\n\r\n    08:00.0 VGA compatible controller: NVIDIA Corporation GK208B [GeForce GT 710] (rev a1)\r\n\r\nBell config:\r\n\r\n    visual_bell:\r\n      animation: Linear\r\n      duration: 200\r\n      color: ' '\n- Note: I'm able to reproduce this on one computer with the above information, but not my laptop.\n- @virtualdxs Would you mind opening a separate issue for this?"}
{"project_id": "Alacritty", "bug_id": "85", "source_type": "github", "llm_input_text": "[Title]: Crash on `ESC [ Pn; Pn r` with Invalid Range\n[Symptom]:\nCurrently if you run `echo -e '\\e[15;1r'` in debug mode, Alacritty will panic. This is because a range should start with a smaller number than it ends with. XTerm (and I) think that a sequence like this should simply be ignored.\r\n\r\nIt's also worth noting that XTerm also ignores a range where `A=B` so `echo -e '\\e[15;15r'` would also be ignored.\n"}
{"project_id": "Alacritty", "bug_id": "86", "source_type": "github", "llm_input_text": "[Title]: reset selection when removing chars from before selection?\n[Symptom]:\nalacritty @  \r\n\r\nI can type something like `Hello, this is a test.`, then I select the word \"this\", move the cursor to the start of \"this\" and remove the substring \"Hello, \" which will cause the selection to become \" a t\" as the text shifts to the left but the selection stays in place. This looks odd imo.\r\nIt even looks a bit stranger when I double-click-select and the selection will automatically select the 1-2 words that are under the position that I clicked at initially, as the text scrolls by during deletion.\r\nThe actual clipboard content still represents the initially clicked test at least.\r\n\r\nWhich operating system does the issue occur on?\r\nlinux\r\n\r\nIf on linux, are you using X11 or Wayland?\r\nlinux 5.3.5-1-MANJARO, x11\n"}
{"project_id": "Alacritty", "bug_id": "87", "source_type": "github", "llm_input_text": "[Title]: hovering over very long lines slows down alacritty\n[Symptom]:\nWhich operating system does the issue occur on?\r\n\r\nLinux\r\n\r\nIf on linux, are you using X11 or Wayland?\r\n\r\nWayland\r\n\r\n\r\nReproduce:\r\n`head -c81920 /dev/urandom | base64 | tr -d '\\n'`\r\n\r\nIt also seems to happen with /dev/zero\n\n[Context/Logs]:\n- \"Slows down\" sounds like major understatement: it freezes Alacritty 0.3.2 (on X11) with 100% CPU usage for 20s. The longer the line, the harder it hits: 163840 causes 53 seconds hang.\n- Just to clarify, this should already be fixed by [URL] however that introduces some other problems so I'm not ready to mark this as resolved yet.\r\n\r\nHopefully that PR will end up in a state that automatically resolves this issue too though."}
{"project_id": "Alacritty", "bug_id": "88", "source_type": "github", "llm_input_text": "[Title]: If an SGR escape sequence sets the background color to the terminal background color, it is not opaque\n[Symptom]:\nArch Linux\r\n\r\n\r\nWayland\r\n\r\n---\r\n\r\nI realized this when a [Link: truecolor program] I wrote appeared with a noticeable hole in it. Because I use opacity in my terminal, I can see the background through it, instead of it being completely opaque due to the escape code.\r\n\r\nExample using ` ` background with opacity `0.0`:\r\n\r\n[Image: iExample]\r\n\r\nAs you can see, when `\\e[48;2;48;48;48m ` is printed, instead of a solid grey, it is completely transparent.\n\n[Context/Logs]:\n- It\u2019s a known thing and not a bug, since it was done intentionally iirc. The main problem with this behavior is that it\u2019s not documented in config file. This thing exist for achieving transparency in alt-screen apps like alsamixer/vim/mutt etc.\r\n\r\nIf you dont want this behavior just change background color a bit.\n- Ah, I'm used to urxvt, which does not do this.  I understand why this behavior exists; a program explicitly setting the background to the same as its default color probably has the intention of resetting the background.\r\n\r\nThe program I was using broke this assumption, since it intends to print arbitrary colors. [Link: `pixterm` is another program] which will have this issue; if an image is printed which happens to have a pixel match the background color, a noticeable hole will appear.\r\n\r\nI would like to disable this behavior for this reason, or even better change it so that only the 16-color black causes this. I'll try and patch this myself, so leave this issue closed unless someone else wants this behavior.\n- ... [Middle Discussions Snipped for Brevity] ...\n- If I'm understanding you correctly, you're talking about something like setting `black: ' '` and `background: ' '`, right? That way `\\e[40m` will display in `#000020`, and not trigger the opacity setting.\r\n\r\n\r\nThis won't help if I want to use `pixterm` or a similar program.  If my background is ` `, then I'll see a hole whenever pixterm displays an image with `#000020`. If I slightly change it to ` `, then I'll see a hole whenever pixterm displays an image with `#00001F`.  I could view any image with any colors in pixterm, so any background will cause this papercut somewhere.\n- While setting the color to the background color should give transparency, specifying a truecolor should not cause any transparency. @kchibisov is already working on a patch to fix this, so hopefully we can get the best of both worlds here again (seems like there was a regression in  )."}
{"project_id": "Alacritty", "bug_id": "89", "source_type": "github", "llm_input_text": "[Title]: Background is semi opaque during visual bell animation\n[Symptom]:\nArch Linux, Wayland(sway) and X11 (i3 + compton)\r\n\r\nDuring visual bell animation background is transparent(not fully though) with disabled transparency.\r\n\r\nEdit:\r\nWas able to repro on v0.3.3, so probably an old bug.\n\n[Context/Logs]:\n- Also note that the animation does not finalize.\r\n\r\n1. Set duration to 500ms\r\n2. Cause bell to trigger\r\n3. Observe 3 draws with opacity ~0.8, ~0.7 and ~0.4\r\n4. Observe that no further draw calls is made, resulting in an unfinished animation. Typing will cause the animation to progress (however, it doesn't always finalize completely).\r\n\r\nterminal.dirty is still true, so it would appear that the event loop is stalled. Maybe we need to force a draw event somehow if the terminal is still dirty.\n- This is a bit surprising to me since we draw our visual bell *above* the normal terminal background.\r\n\r\nThere might be an issue with the operations we perform (say we render in replace, instead of merging).\r\n\r\n\r\nThe terminal's `dirty` flag shouldn't be cleared when an animation is still going on. You can see that in `event.rs` pretty clearly.\n- As I said, the terminal is set to dirty, but no further draw calls are made. Either something else ends up clearing the bit outside of the assignment in event.rs, or the event loop has stalled. I did not investigate further yesterday.\n- Yeah, I didn't understand what you meant with your initial comment, however it seems like you've already figured it out. Thanks."}
{"project_id": "Alacritty", "bug_id": "90", "source_type": "github", "llm_input_text": "[Title]: Modifier state is wrongly set while switching between windows\n[Symptom]:\nWhich operating system does the issue occur on? Linux, Fedora 30.\r\n\r\nIf on linux, are you using X11 or Wayland? X11, i3.\r\n\r\nI'm using latest master branch. Sometime, randomly, the up arrow key doesn't work. Switching focus to another window and focus back again fix the issue. I saw this issue since #2438 , I also remember some guy mentioned it in the discussion.\r\n\r\nEDIT:\r\nScenario: I use i3wm, switching between windows is done by Logo+L. Which certain timing of Logo+L, logo modifier is turn on when it should not be, this can be seen in --print-events.\r\n\r\nThe state was wrong right after it was passed from glutin in the event loop, this suggests the bug is of glutin.\n\n[Context/Logs]:\n- While using Vim, `k` doesn't work as well, not only up arrow.\n- @nixpulvis I think you've run into this before, right?\r\n\r\n\r\nThis sounds interesting, does the key not work at all, so is it just swallowed? Can you reliably reproduce this?\n- ... [Middle Discussions Snipped for Brevity] ...\n- Reported upstream in [URL]\n- Well, I have a similar issue on Wayland."}
{"project_id": "Alacritty", "bug_id": "91", "source_type": "github", "llm_input_text": "[Title]: Black border around terminal area\n[Symptom]:\nWhich operating system does the issue occur on? Linux\r\n\r\nIf on linux, are you using X11 or Wayland? X11\r\n\r\nEver since commit  , after resizing the window, I have a black bar around the terminal area within the terminal window. Also text rendering is kind of fuzzy (and smaller) compared to previous versions.\n\n[Context/Logs]:\n- Here is a screenshot of `make menuconfig` from the Linux kernel to show what I mean, this is supposed to take up the entire terminal:\r\n\r\n[Image: image]\n- Thanks for the report, this is a known issue though it hasn't been tracked as issue yet.\r\n\r\nThere's an upstream fix here: [URL]\r\n\r\nSo once that is merged, this will be resolved."}
{"project_id": "Alacritty", "bug_id": "92", "source_type": "github", "llm_input_text": "[Title]: Don't delete lines above the cursor on CSI Ps M\n[Symptom]:\n`Alacritty` should clamp `Ps` to not go above cursor, so if you're on the bottom line, typing `echo -e '\\e[1000;M'` shouldn't delete all the thing above and should be clamped to `1`.\r\n\r\nP.s. All the other terminals clamp it(vte based, xterm, kitty).\n\n[Context/Logs]:\n- Should be fixed in [URL]"}
{"project_id": "Alacritty", "bug_id": "93", "source_type": "github", "llm_input_text": "[Title]: Key binding mode replacement consistency\n[Symptom]:\nThis is a follow-up to [URL]\r\n\r\nCurrently the idea is that whenever a user defines a binding with a bigger scope `mode`, that the default binding is overwritten. The idea behind this is that the user's binding will always work for all scopes he has defined, while default bindings are left untouched as much as possible.\r\n\r\nThis already works well when staying either only in positive, or in negative modes, but as soon as modes are mixed like `Alt` and `~Alt` things get messed up. Overwriting a default binding by only overwriting the `~Alt` one for example, will currently also disable the `Alt` binding. This is inconsistent with what would be expected by the user, since he has only requested a change in Alacritty's behavior in this specific mode.\r\n\r\nI think to make sure that we do not create a regression in another area by fixing this, it's probably useful to lay out a table with all possible relevant combinations and creating dedicated tests for them to assure that the specification and implementation match up properly this time.\n\n[Context/Logs]:\n- Here's a table of the currently intended overwriting behavior:\r\n\r\n**ALL:** All terminal modes.\r\n**A:** A terminal mode other than **B**.\r\n**B:** A terminal mode other than **A**.\r\n**~Y:** Mode **Y** not set.\r\n**X:** Replace binding.\r\n**0:** Keep binding.\r\n\r\n|         | ALL | A |  ~A | B |  ~B | A + B |  ~A + B |  A + ~B | ~A + ~B |\r\n|---------|-----|---|-----|---|-----|-------|---------|---------|---------|\r\n|     ALL |  X  | X |  X  | X |  X  |   X   |    X    |    X    |    X    |\r\n|       A |  X  | X |  0  | 0 |  0  |   X   |    0    |    X    |    0    |\r\n|      ~A |  X  | 0 |  X  | 0 |  0  |   0   |    X    |    0    |    X    |\r\n|       B |  X  | 0 |  0  | X |  0  |   X   |    X    |    0    |    0    |\r\n|      ~B |  X  | 0 |  0  | 0 |  X  |   0   |    0    |    X    |    X    |\r\n|  A +  B |  X  | X |  0  | X |  0  |   X   |    X    |    X    |    0    |\r\n| ~A +  B |  X  | 0 |  X  | X |  0  |   X   |    X    |    0    |    X    |\r\n|  A + ~B |  X  | X |  0  | 0 |  X  |   X   |    0    |    X    |    X    |\r\n| ~A + ~B |  X  | 0 |  X  | 0 |  X  |   0   |    X    |    X    |    X    |\r\n\r\nA short summary would be that a binding is removed, when either of the bindings contains any mode of the opposing binding."}
{"project_id": "Alacritty", "bug_id": "94", "source_type": "github", "llm_input_text": "[Title]: Windows: startup_mode: Maximized no longer works\n[Symptom]:\nSystem: Windows 10, Alacritty 0.3.3.\r\n\r\nUsing `startup_mode: Maximized` has the same effect as `startup_mode: Windowed`.\r\nHowever, `Fullscreen` works fine.\r\n\r\nThis seems to be a regression compared to before.\n\n[Context/Logs]:\n- When you say regression, where did it regress from? I'd assume you mean 0.3.2?\r\n\r\nGenerally it would be nice to have a specific commit hash which broke it, but I'd assume that was a winit/glutin update. So before testing that, the #2438 PR should probably be tested, which updates Alacritty to the latest version of winit.\n- I am able to replicate this, but different behavior I think.\r\n\r\nIf I use `startup_mode: Maximized` the window starts at the top left of my screen and \"thinks\" it is maximized. (i.e it displays the \"Restore\" icon vs Maximize icon), example: [URL]\r\n\r\nIf I restore it and maximize again, it then maximizes correctly.\r\n\r\nAlso, I tested several older versions of Alacrity, `Maximized` does nothing for me before v0.3.3-rc1.  All builds before that just start the window normally.  All builds after cause the behavior mentioned.\r\n\r\nI've also tested the #2438 PR, it behaves identically to the most current release (0.3.3)\n- ... [Middle Discussions Snipped for Brevity] ...\n- @chrisduerr The example had the same results, I've reported the issue upstream w/ winit.\r\n[URL]\n- Seems like upstream is fixed now with [URL]"}
{"project_id": "Alacritty", "bug_id": "95", "source_type": "github", "llm_input_text": "[Title]: Lagging while using nano, vim, etc.\n[Symptom]:\nWhich operating system does the issue occur on?\r\n`Ubuntu 16.04`\r\nIf on linux, are you using X11 or Wayland?\r\n`X11`\r\n\r\nWhen I use nano it isn't loaded immediately, after I press a key it gets rendered. even while typing in nano, A key press will load the previous key and not the current key. Even when exiting, the save file option is shown only after I press some key. This issue remains with any editor I use. Even when using `git log --graph --pretty='\\''%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue) %Creset'\\'' --abbrev-commit` command, it gets rendered only after I press some key. Following is the video to showcase the issue. \r\n\r\n[Image: simplescreenrecorder-2019-03-26_14 22 30]\r\n\r\nIf you need any other info related to system config or want me to try out some experiments, I can help.\r\n\r\nEDIT 1 : Using `alacritty 0.2.7`\n\n[Context/Logs]:\n- Another thing I noticed is, everything works perfectly when I use a new instance of alacritty. But when an instance stays inactive for a while, it starts lagging. Sometimes writing in the terminal starts lagging.\n- Can you reproduce this in another terminal emulator? What if you try a different shell (`bash`, `zsh`, `fish`)? And finally, can you see if this is reproducible on the latest master? I don't have this issue and that's what I'm currently running. Even checking out the 0.2.7 tag doesn't give me the same behavior.\n- ... [Middle Discussions Snipped for Brevity] ...\n- @chrisduerr I'm using Alacritty's latest \"master\" ( ) and am experiencing this issue with any program that makes frequent updates to the terminal (eg, apt install  ,  vim [:PlugUpdate], etc). Few screen updates take place until I press a key on my keyboard, then everything updates at once.\r\n\r\nThis issue does NOT exist in Alacritty v0.2.9 for me; everything works flawlessly there.\r\n\r\nBoth \"latest master\" and \"v0.2.9\" were compiled from source on my machine.\r\n\r\nOS: Linux Mint 19.1\r\nLaptop: Dell XPS 15\r\nGPU: GeForce GTX 1050\r\nNvidia Driver Version: 390.116\n- See below for a screencast using Vim and the latest version of Alacritty. The left terminal is alacritty, the right terminal is Gnome-Terminal. I'm using Screenkey to print my keys at the end so you can see exactly when I press them:\r\n[Image: screencast]"}
{"project_id": "Alacritty", "bug_id": "96", "source_type": "github", "llm_input_text": "[Title]: focused terminal turns invisible with chunkwm when opening another application\n[Symptom]:\nWhich operating system does the issue occur on? MacOS 10.13.3\r\nAlacritty version:  \r\n\r\nA focused alacritty terminal turns invisible when another app is opened. I'm using [Link: chunkwm] (a tiling window manager) so the alacritty terminal gets resized when I open another app. The contents of the alacritty terminal become visible when I focus the window again. I attached a gif showing this in action, the red outline shows which window has focus.\r\n\r\nIf I had to guess, this weird combination of a window being resized but losing focus that causes the terminal to stay invisible.\r\n\r\nThis is really just an annoyance :)\r\n\r\n[Image: alac]\n\n[Context/Logs]:\n- Hmm If I had to guess the window probably isn't redrawn even though it should be.\r\n\r\nHowever there should be a redraw issued after resizing, not sure why it doesn't happen. There have been some issues with transparency in the past, would you mind testing this with transparency disabled?\r\n\r\nYou can disable it by setting the `true` [Image: here] to `false`.\n- I still see the same behavior with that change. FWIW I have transparency off in my config `background_opacity: 1.0`. I also tried running alacritty with `-vvv` and this is what I see:\r\n\r\nThere's no output when the terminal gets resized and turns invisible. I see the following output when I focus the terminal.\r\n\r\n```\nTerm::resize\r\nnum_cols, num_lines = 105, 57\r\nwidth: 640, height: 698\r\nSet Attribute: Foreground(Named(Black))\r\ndesignate G0 character set as Ascii\r\n... [Log Snipped] ...\ncarriage_return\r\nmove_forward: 37\n```\n- ... [Middle Discussions Snipped for Brevity] ...\n- @nixpulvis `run_return` is steel not implemented in `winit` on macOs, so you can't run #2438 on macOs atm. For reference [Link: winit#1005].\n- I've noticed that [URL] seems to fix this issue. If anyone is interested in confirming this for other WMs (I've been using yabai), please let me know."}
{"project_id": "Alacritty", "bug_id": "97", "source_type": "github", "llm_input_text": "[Title]: Unable to launch when a virtual display is connected: 'assertion failed: validate_hidpi_factor(dpi_factor)'\n[Symptom]:\nArch 5.2.4 and X11.\r\n\r\n```sh\r\n[11:17] zer0 $ alacritty\r\nthread 'main' panicked at 'assertion failed: validate_hidpi_factor(dpi_factor)', /build/.cargo/git/checkouts/winit- /57680d2/src/platform/linux/x11/util/randr.rs:36:5\r\nnote: Run with `RUST_BACKTRACE=1` environment variable to display a backtrace.\r\n```\r\n\r\n\r\nI am using `intel-virtual-output` for my virtual display.\r\n\r\n[Link: here] is the output of `xrandr`.\r\n\r\nLet me know if you need anything else.\n\n[Context/Logs]:\n- I'd assume when you clone [URL] and then run `cargo run --example window`, you get the same crash?\n- Everything seems to work fine with `winit`\r\n```\n[11:42] zer0:winit (master) $ cargo run --example window\r\n    Finished dev [unoptimized + debuginfo] target(s) in 0.04s\r\n     Running `target/debug/examples/window`\r\nNewEvents(Init)\r\nEventsCleared\r\n... [Log Snipped] ...\nWindowEvent { window_id: WindowId(X(WindowId(54525953))), event: Focused(true) }\r\n...\n```\n- ... [Middle Discussions Snipped for Brevity] ...\n- Oh nice catch! Forgot to checkout the branch after cloning the fork. \r\n\r\nThat runs perfectly! @chrisduerr\n- Thanks for checking again, then everything makes sense. Marking this issue as fixed by the mentioned PR."}
{"project_id": "Alacritty", "bug_id": "98", "source_type": "github", "llm_input_text": "[Title]: window.decorartions: none not working on Windows 10\n[Symptom]:\nOS: Windows 10 Enterprise (10.0.17763 Build 17763)\r\nalacritty version: alacritty 0.3.3 (cc3e4d3) \r\n\r\nMy config:\r\n```\nshell:\r\n  program: arch.exe\r\nfont:\r\n  normal:\r\n    family: DejaVuSansMono NF \r\n... [Log Snipped] ...\nwindow:\r\n  decorations: none\n```\r\n\r\nIt all works fine, until I set the `decorations` attribute to `none`. When I start alacritty with that config, a **window opens without any error, but it is not visible**\r\n\r\n\r\nOutput of alacritty.exe -vv run in Powershell:\r\n```\nCreated log file at \"C:\\\\Users\\\\XXXX\\\\AppData\\\\Local\\\\Temp\\\\Alacritty-18680.log\"\r\n[2019-06-19 17:06] [INFO] Welcome to Alacritty\r\n[2019-06-19 17:06] [INFO] Configuration loaded from \"C:\\\\Users\\\\XXXX\\\\AppData\\\\Roaming\\\\alacritty\\\\alacritty.yml\"\r\n[2019-06-19 17:06] [DEBUG] Estimated DPR: 1\r\n[2019-06-19 17:06] [DEBUG] Estimated Cell Size: 8 x 17\r\n... [Log Snipped] ...\n[2019-06-19 17:06] [INFO] Using Winpty agent\r\n[2019-06-19 17:06] [INFO] Initialisation complete\n```\n\n[Context/Logs]:\n- Could you try running the `window` examlpe in [URL]\r\n\r\nThis is the patch you need to apply to disable decorations for the example:\r\n\r\n```\ndiff\r\ndiff --git a/glutin_examples/examples/window.rs b/glutin_examples/examples/window.rs\r\nindex f7da6c4..9ae551b 100644\r\n--- a/glutin_examples/examples/window.rs\r\n+++ b/glutin_examples/examples/window.rs\r\n... [Log Snipped] ...\n     let windowed_context =\r\n         ContextBuilder::new().build_windowed(wb, &el).unwrap();\n```\r\n\r\nYou can apply patches using `git apply patch.file` and then run the example using `cargo run --example window`.\n- @chrisduerr I was able to replicate the problem that was described by the OP. Figured I'd lend a hand.\r\n\r\nThe glutin example you provided with the patch runs fine on my machine. It just shows a white empty window.\r\n\r\nI tested a few Alacritty releases and discovered [Link: 0.3.0] introduced the bug. [Link: 0.3.0 RC3] works fine.\r\n\r\n\r\nI decided to spot test the commits between 0.3.0 RC3 and 0.3.0 and found that [Link: this commit to window.rs] caused it.\r\n\r\nEvery commit before then works fine when `decorations: none` is used.\r\n\r\nHope that helps you.\n- ... [Middle Discussions Snipped for Brevity] ...\n- @felixrabe Thanks for the information. I ran these two commands against the PR to update them,\r\n```\r\nsed -i \"s/with_visibility/with_visible/g\" alacritty/src/window.rs\r\nsed -i \"s/with_transparency/with_transparent/g\" alacritty/src/window.rs\r\n```\r\n\r\n@chrisduerr It built with the above changes, and it works now with decorations set to none!\r\n[Image: image]\n- Thanks for the help with testing, looks like this will get fixed as soon as the glutin Evlp2 PR is merged."}
{"project_id": "Alacritty", "bug_id": "99", "source_type": "github", "llm_input_text": "[Title]: Opacity setting not applied\n[Symptom]:\nWhich operating system does the issue occur on?\r\nLinux -- Ubuntu 19.04 dev\r\nIf on linux, are you using X11 or Wayland? X11\r\n\r\nThis issue might be more question on how to debug this rather than there is an actual issue. Recently I updated alacritty to the latest master ( ) and install using `cargo deb --install`. My opacity setting is no longer being applied. I have also recently gotten an external gpu and have been messing with the gpu drivers (switching between nvidia versions and nouveau) so I'm not necessarily convinced this is an issue with the latest Alacritty. When running under sway window manager the opacity works, but under gnome (3.32) on X11 the opacity setting does not. \r\n\r\nI have tried running alacritty with the `-vvv` option but haven't seen any errors or logs that seem relevant. I'm still learning about how all the pieces work together recently switching over from mac to linux so I'm not sure where to look next for why the opacity is not working.\n\n[Context/Logs]:\n- I'm not aware of an isuse with opacity on Linux. The only two things that are commonly issues with this is that people think it's a transparency (not opacity, which is the opposite) setting and that no compositor is running.\r\n\r\nI'd expect GNOME on X11 to be running a compositor by default, however making sure that compositing is working properly is probably your best bet.\r\n\r\nThere's likely no logging in Alacritty's output because Alacritty doesn't run into any issues. If Alacritty attempts to render a transparent window and there is no issue, but the window manager doesn't render it with transparency, there's little Alacritty can do since it doesn't know anything about that.\n- After updating alacritty I had similar issues, now transparency doesn't work. I am using xcompmgr as the compositor, and all the settings are the same than before updating alacritty.\n- ... [Middle Discussions Snipped for Brevity] ...\n- I've reopened the upstream issue: [URL]\n- The same problem is also reproduced on my another PC with Intel integrated GPU.\r\nOS: Arch Linux\r\nWM & Compositor: kwin5\r\nMesa: 19.0.1-2\r\nGPU driver: modesetting DDX with i965 kernel driver\r\nglxinfo: [URL]\r\n\r\nOn this Intel machine, I did a git bisect on the commit history of alacritty. the last good commit (that can show transparency) is   and the first bad commit (that shows total opacity) is   ."}
{"project_id": "Alacritty", "bug_id": "100", "source_type": "github", "llm_input_text": "[Title]: crash on suspend-resume cycle with 0.2.3\n[Symptom]:\nWhich operating system does the issue occur on?\r\nLinux\r\nIf on linux, are you using X11 or Wayland?\r\nX11\r\n\r\nCrash after suspending and resuming my laptop, this is 100% reproducible.\r\n```\r\nthread 'main' panicked at '[winit] Failed to find any monitors using XRandR.', libcore/option.rs:989:5\r\nnote: Run with `RUST_BACKTRACE=1` for a backtrace.\r\n```\r\nSetting RUST_BACKTRACE=1 does not produce anything meaningful, I would probably need debugging symbols in my system C libraries.\n\n[Context/Logs]:\n- Can you check if this is reproducible with the winit example? It's available here: [URL]\r\n\r\nYou should be able to test it by running the following command:\r\n`git clone [URL] && cd winit && cargo run --example window`\r\n\r\nIf this can be reproduced with just the winit example, this should probably be reported upstream in the winit issue tracker. Feel free to open an issue yourself if you can reproduce it, otherwise I'll create one.\n- The same thing happens with the winit example, this is at least somewhat recently added. I know I have been able to suspend/resume with alacritty running before.\n- ... [Middle Discussions Snipped for Brevity] ...\n- This still happens on my machine\n- This also happens on my machine every morning, alacritty just hangs, but can see a cursor on the top left, but thats it. When the pc suspends for just an hours, alacritty usually just takes a few minutes to redraw."}
