{"url":"https://api.github.com/repos/alacritty/alacritty/issues/3233","repository_url":"https://api.github.com/repos/alacritty/alacritty","labels_url":"https://api.github.com/repos/alacritty/alacritty/issues/3233/labels{/name}","comments_url":"https://api.github.com/repos/alacritty/alacritty/issues/3233/comments","events_url":"https://api.github.com/repos/alacritty/alacritty/issues/3233/events","html_url":"https://github.com/alacritty/alacritty/issues/3233","id":552786548,"node_id":"MDU6SXNzdWU1NTI3ODY1NDg=","number":3233,"title":"Crash with OOB after c84cd0fdb0335fa873f397e95a0a728be0fe15f5","user":{"login":"kchibisov","id":27620401,"node_id":"MDQ6VXNlcjI3NjIwNDAx","avatar_url":"https://avatars.githubusercontent.com/u/27620401?v=4","gravatar_id":"","url":"https://api.github.com/users/kchibisov","html_url":"https://github.com/kchibisov","followers_url":"https://api.github.com/users/kchibisov/followers","following_url":"https://api.github.com/users/kchibisov/following{/other_user}","gists_url":"https://api.github.com/users/kchibisov/gists{/gist_id}","starred_url":"https://api.github.com/users/kchibisov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchibisov/subscriptions","organizations_url":"https://api.github.com/users/kchibisov/orgs","repos_url":"https://api.github.com/users/kchibisov/repos","events_url":"https://api.github.com/users/kchibisov/events{/privacy}","received_events_url":"https://api.github.com/users/kchibisov/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":327960155,"node_id":"MDU6TGFiZWwzMjc5NjAxNTU=","url":"https://api.github.com/repos/alacritty/alacritty/labels/B%20-%20bug","name":"B - bug","color":"c6071e","default":false,"description":""},{"id":513181155,"node_id":"MDU6TGFiZWw1MTMxODExNTU=","url":"https://api.github.com/repos/alacritty/alacritty/labels/P%20-%20high","name":"P - high","color":"f9d0c4","default":false,"description":null},{"id":638280637,"node_id":"MDU6TGFiZWw2MzgyODA2Mzc=","url":"https://api.github.com/repos/alacritty/alacritty/labels/S%20-%20selection","name":"S - selection","color":"5319e7","default":false,"description":null},{"id":638297569,"node_id":"MDU6TGFiZWw2MzgyOTc1Njk=","url":"https://api.github.com/repos/alacritty/alacritty/labels/B%20-%20crash","name":"B - crash","color":"c6071e","default":false,"description":""},{"id":1217212231,"node_id":"MDU6TGFiZWwxMjE3MjEyMjMx","url":"https://api.github.com/repos/alacritty/alacritty/labels/B%20-%20regression","name":"B - regression","color":"c6071e","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"kchibisov","id":27620401,"node_id":"MDQ6VXNlcjI3NjIwNDAx","avatar_url":"https://avatars.githubusercontent.com/u/27620401?v=4","gravatar_id":"","url":"https://api.github.com/users/kchibisov","html_url":"https://github.com/kchibisov","followers_url":"https://api.github.com/users/kchibisov/followers","following_url":"https://api.github.com/users/kchibisov/following{/other_user}","gists_url":"https://api.github.com/users/kchibisov/gists{/gist_id}","starred_url":"https://api.github.com/users/kchibisov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchibisov/subscriptions","organizations_url":"https://api.github.com/users/kchibisov/orgs","repos_url":"https://api.github.com/users/kchibisov/repos","events_url":"https://api.github.com/users/kchibisov/events{/privacy}","received_events_url":"https://api.github.com/users/kchibisov/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"kchibisov","id":27620401,"node_id":"MDQ6VXNlcjI3NjIwNDAx","avatar_url":"https://avatars.githubusercontent.com/u/27620401?v=4","gravatar_id":"","url":"https://api.github.com/users/kchibisov","html_url":"https://github.com/kchibisov","followers_url":"https://api.github.com/users/kchibisov/followers","following_url":"https://api.github.com/users/kchibisov/following{/other_user}","gists_url":"https://api.github.com/users/kchibisov/gists{/gist_id}","starred_url":"https://api.github.com/users/kchibisov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchibisov/subscriptions","organizations_url":"https://api.github.com/users/kchibisov/orgs","repos_url":"https://api.github.com/users/kchibisov/repos","events_url":"https://api.github.com/users/kchibisov/events{/privacy}","received_events_url":"https://api.github.com/users/kchibisov/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":0,"created_at":"2020-01-21T10:30:58Z","updated_at":"2020-01-21T21:17:26Z","closed_at":"2020-01-21T21:17:26Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"basically you can try to repro it by staring selection and moving a cursor clockwise outside of the window, it should crash at some point. More investigations showing that it's related to First cell in a row, however I don't have a formal prove of it right now.\r\n\r\n```\r\nthread 'main' panicked at 'index out of bounds: the len is 149 but the index is 149', /rustc/73528e339aae0f17a15ffa49a8ac608f50c6cf14/src/libcore/slice/mod.rs:2796:10\r\nstack backtrace:\r\n   0:     0x55a2a50aff24 - backtrace::backtrace::libunwind::trace::h65597d255cb1398b\r\n                               at /cargo/registry/src/github.com-1ecc6299db9ec823/backtrace-0.3.40/src/backtrace/libunwind.rs:88\r\n   1:     0x55a2a50aff24 - backtrace::backtrace::trace_unsynchronized::hd4f479d7150ec4a0\r\n                               at /cargo/registry/src/github.com-1ecc6299db9ec823/backtrace-0.3.40/src/backtrace/mod.rs:66\r\n   2:     0x55a2a50aff24 - std::sys_common::backtrace::_print_fmt::h015072984a2b172c\r\n                               at src/libstd/sys_common/backtrace.rs:77\r\n   3:     0x55a2a50aff24 - <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt::h6df05d3335f32194\r\n                               at src/libstd/sys_common/backtrace.rs:61\r\n   4:     0x55a2a50d7b1c - core::fmt::write::h1f444f4312eb6c27\r\n                               at src/libcore/fmt/mod.rs:1028\r\n   5:     0x55a2a50acb37 - std::io::Write::write_fmt::h8d147888220078ef\r\n                               at src/libstd/io/mod.rs:1412\r\n   6:     0x55a2a50b25de - std::sys_common::backtrace::_print::h8a6df0fa81d6af62\r\n                               at src/libstd/sys_common/backtrace.rs:65\r\n   7:     0x55a2a50b25de - std::sys_common::backtrace::print::h6f05b4733407e509\r\n                               at src/libstd/sys_common/backtrace.rs:50\r\n   8:     0x55a2a50b25de - std::panicking::default_hook::{{closure}}::h0d0a23bd02315dd8\r\n                               at src/libstd/panicking.rs:188\r\n   9:     0x55a2a50b22d1 - std::panicking::default_hook::h8d15a9aecb4efac6\r\n                               at src/libstd/panicking.rs:205\r\n  10:     0x55a2a50b2cdb - std::panicking::rust_panic_with_hook::hbe174577402a475d\r\n                               at src/libstd/panicking.rs:464\r\n  11:     0x55a2a50b287e - std::panicking::continue_panic_fmt::h4d855dad868accf3\r\n                               at src/libstd/panicking.rs:373\r\n  12:     0x55a2a50b2766 - rust_begin_unwind\r\n                               at src/libstd/panicking.rs:302\r\n  13:     0x55a2a50d3d5e - core::panicking::panic_fmt::hdeb7979ab6591473\r\n                               at src/libcore/panicking.rs:139\r\n  14:     0x55a2a50d3d25 - core::panicking::panic_bounds_check::h48b559825fef6c92\r\n                               at src/libcore/panicking.rs:96\r\n  15:     0x55a2a4a80c87 - <usize as core::slice::SliceIndex<[T]>>::index::hc410d46bc70d82fb\r\n                               at /rustc/73528e339aae0f17a15ffa49a8ac608f50c6cf14/src/libcore/slice/mod.rs:2796\r\n  16:     0x55a2a4a7d998 - core::slice::<impl core::ops::index::Index<I> for [T]>::index::h5f7b1ea8808eca8e\r\n                               at /rustc/73528e339aae0f17a15ffa49a8ac608f50c6cf14/src/libcore/slice/mod.rs:2647\r\n  17:     0x55a2a4a744cb - <alloc::vec::Vec<T> as core::ops::index::Index<I>>::index::he3db410d2d651c7e\r\n                               at /rustc/73528e339aae0f17a15ffa49a8ac608f50c6cf14/src/liballoc/vec.rs:1861\r\n  18:     0x55a2a4a6d211 - <alacritty_terminal::grid::row::Row<T> as core::ops::index::Index<alacritty_terminal::index::Column>>::index::h381b58882d66ac85\r\n                               at alacritty_terminal/src/grid/row.rs:184\r\n  19:     0x55a2a4274d32 - alacritty_terminal::selection::Selection::range_expand_fullwidth::{{closure}}::ha6987a8f8a3ed1e6\r\n                               at /home/kchibisov/Developer/rust/forks/alacritty-workspace/alacritty/alacritty_terminal/src/selection.rs:216\r\n  20:     0x55a2a4274a64 - alacritty_terminal::selection::Selection::range_expand_fullwidth::h5c5d3f9b07d428f9\r\n                               at /home/kchibisov/Developer/rust/forks/alacritty-workspace/alacritty/alacritty_terminal/src/selection.rs:246\r\n  21:     0x55a2a4275514 - alacritty_terminal::selection::Selection::to_range::{{closure}}::h291332495c41cda2\r\n                               at /home/kchibisov/Developer/rust/forks/alacritty-workspace/alacritty/alacritty_terminal/src/selection.rs:206\r\n  22:     0x55a2a444652a - core::option::Option<T>::map::hdf63d703ebe4b386\r\n                               at /rustc/73528e339aae0f17a15ffa49a8ac608f50c6cf14/src/libcore/option.rs:447\r\n  23:     0x55a2a42754b4 - alacritty_terminal::selection::Selection::to_range::h36810d4072756d78\r\n                               at /home/kchibisov/Developer/rust/forks/alacritty-workspace/alacritty/alacritty_terminal/src/selection.rs:206\r\n  24:     0x55a2a4383607 - alacritty_terminal::term::Term<T>::renderable_cells::{{closure}}::h84ceaea1b35b8546\r\n                               at /home/kchibisov/Developer/rust/forks/alacritty-workspace/alacritty/alacritty_terminal/src/term/mod.rs:1051\r\n  25:     0x55a2a4450055 - core::option::Option<T>::and_then::hd3c811c5e7087271\r\n                               at /rustc/73528e339aae0f17a15ffa49a8ac608f50c6cf14/src/libcore/option.rs:655\r\n  26:     0x55a2a43834cb - alacritty_terminal::term::Term<T>::renderable_cells::hfabbfc31a3a4f024\r\n                               at /home/kchibisov/Developer/rust/forks/alacritty-workspace/alacritty/alacritty_terminal/src/term/mod.rs:1051\r\n  27:     0x55a2a42b4023 - alacritty::display::Display::draw::habf7b4740bfd4a04\r\n                               at alacritty/src/display.rs:359\r\n  28:     0x55a2a4558c2a - alacritty::event::Processor<N>::run::{{closure}}::hc2d5361466aa31bd\r\n                               at alacritty/src/event.rs:438\r\n  29:     0x55a2a429dbad - winit::platform_impl::platform::sticky_exit_callback::hc952b1832dc1eb5c\r\n                               at /home/kchibisov/.cargo/registry/src/github.com-1ecc6299db9ec823/winit-0.20.0/src/platform_impl/linux/mod.rs:697\r\n  30:     0x55a2a42a0d21 - winit::platform_impl::platform::wayland::event_loop::EventLoop<T>::run_return::h09f76b597a394ba2\r\n                               at /home/kchibisov/.cargo/registry/src/github.com-1ecc6299db9ec823/winit-0.20.0/src/platform_impl/linux/wayland/event_loop.rs:527\r\n  31:     0x55a2a429cb6d - winit::platform_impl::platform::EventLoop<T>::run_return::he6da89e5940f3596\r\n                               at /home/kchibisov/.cargo/registry/src/github.com-1ecc6299db9ec823/winit-0.20.0/src/platform_impl/linux/mod.rs:633\r\n  32:     0x55a2a44d76d5 - <winit::event_loop::EventLoop<T> as winit::platform::desktop::EventLoopExtDesktop>::run_return::ha237bfaedfded6ad\r\n                               at /home/kchibisov/.cargo/registry/src/github.com-1ecc6299db9ec823/winit-0.20.0/src/platform/desktop.rs:51\r\n  33:     0x55a2a4557fdb - alacritty::event::Processor<N>::run::h9b908826e9e7d009\r\n                               at alacritty/src/event.rs:349\r\n  34:     0x55a2a449d451 - alacritty::run::h33a1039697e27b33\r\n                               at alacritty/src/main.rs:204\r\n  35:     0x55a2a449bf3b - alacritty::main::h9cff650252b9a664\r\n                               at alacritty/src/main.rs:112\r\n  36:     0x55a2a453aa30 - std::rt::lang_start::{{closure}}::h0d1eacd6e899f96c\r\n                               at /rustc/73528e339aae0f17a15ffa49a8ac608f50c6cf14/src/libstd/rt.rs:61\r\n  37:     0x55a2a50b2703 - std::rt::lang_start_internal::{{closure}}::h6ea535ec5c50fc3e\r\n                               at src/libstd/rt.rs:48\r\n  38:     0x55a2a50b2703 - std::panicking::try::do_call::h631c6408dfccc6f5\r\n                               at src/libstd/panicking.rs:287\r\n  39:     0x55a2a50bb60a - __rust_maybe_catch_panic\r\n                               at src/libpanic_unwind/lib.rs:78\r\n  40:     0x55a2a50b31bd - std::panicking::try::hab539b2d1255d635\r\n                               at src/libstd/panicking.rs:265\r\n  41:     0x55a2a50b31bd - std::panic::catch_unwind::hd5e0a26424bd7f34\r\n                               at src/libstd/panic.rs:396\r\n  42:     0x55a2a50b31bd - std::rt::lang_start_internal::h3bdc4c7d98181bf9\r\n                               at src/libstd/rt.rs:47\r\n  43:     0x55a2a453aa09 - std::rt::lang_start::h8659aae7c76ade19\r\n                               at /rustc/73528e339aae0f17a15ffa49a8ac608f50c6cf14/src/libstd/rt.rs:61\r\n  44:     0x55a2a449da1a - main\r\n  45:     0x7fd3d0ce1f1b - __libc_start_main\r\n                               at ../csu/libc-start.c:308\r\n  46:     0x55a2a42711aa - _start\r\n  47:                0x0 - <unknown>\r\n\r\n```","closed_by":{"login":"chrisduerr","id":8886672,"node_id":"MDQ6VXNlcjg4ODY2NzI=","avatar_url":"https://avatars.githubusercontent.com/u/8886672?v=4","gravatar_id":"","url":"https://api.github.com/users/chrisduerr","html_url":"https://github.com/chrisduerr","followers_url":"https://api.github.com/users/chrisduerr/followers","following_url":"https://api.github.com/users/chrisduerr/following{/other_user}","gists_url":"https://api.github.com/users/chrisduerr/gists{/gist_id}","starred_url":"https://api.github.com/users/chrisduerr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrisduerr/subscriptions","organizations_url":"https://api.github.com/users/chrisduerr/orgs","repos_url":"https://api.github.com/users/chrisduerr/repos","events_url":"https://api.github.com/users/chrisduerr/events{/privacy}","received_events_url":"https://api.github.com/users/chrisduerr/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/alacritty/alacritty/issues/3233/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/alacritty/alacritty/issues/3233/timeline","performed_via_github_app":null,"state_reason":"completed"}