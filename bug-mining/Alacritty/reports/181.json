{"url":"https://api.github.com/repos/alacritty/alacritty/issues/4617","repository_url":"https://api.github.com/repos/alacritty/alacritty","labels_url":"https://api.github.com/repos/alacritty/alacritty/issues/4617/labels{/name}","comments_url":"https://api.github.com/repos/alacritty/alacritty/issues/4617/comments","events_url":"https://api.github.com/repos/alacritty/alacritty/issues/4617/events","html_url":"https://github.com/alacritty/alacritty/issues/4617","id":775164749,"node_id":"MDU6SXNzdWU3NzUxNjQ3NDk=","number":4617,"title":"Windows: panic due to DirectWrite errors, seemingly related to attempting to render missing glyphs","user":{"login":"r-c-f","id":18584749,"node_id":"MDQ6VXNlcjE4NTg0NzQ5","avatar_url":"https://avatars.githubusercontent.com/u/18584749?v=4","gravatar_id":"","url":"https://api.github.com/users/r-c-f","html_url":"https://github.com/r-c-f","followers_url":"https://api.github.com/users/r-c-f/followers","following_url":"https://api.github.com/users/r-c-f/following{/other_user}","gists_url":"https://api.github.com/users/r-c-f/gists{/gist_id}","starred_url":"https://api.github.com/users/r-c-f/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r-c-f/subscriptions","organizations_url":"https://api.github.com/users/r-c-f/orgs","repos_url":"https://api.github.com/users/r-c-f/repos","events_url":"https://api.github.com/users/r-c-f/events{/privacy}","received_events_url":"https://api.github.com/users/r-c-f/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":327960155,"node_id":"MDU6TGFiZWwzMjc5NjAxNTU=","url":"https://api.github.com/repos/alacritty/alacritty/labels/B%20-%20bug","name":"B - bug","color":"c6071e","default":false,"description":""},{"id":502685388,"node_id":"MDU6TGFiZWw1MDI2ODUzODg=","url":"https://api.github.com/repos/alacritty/alacritty/labels/S%20-%20font","name":"S - font","color":"5319e7","default":false,"description":null},{"id":513181155,"node_id":"MDU6TGFiZWw1MTMxODExNTU=","url":"https://api.github.com/repos/alacritty/alacritty/labels/P%20-%20high","name":"P - high","color":"f9d0c4","default":false,"description":null},{"id":638297569,"node_id":"MDU6TGFiZWw2MzgyOTc1Njk=","url":"https://api.github.com/repos/alacritty/alacritty/labels/B%20-%20crash","name":"B - crash","color":"c6071e","default":false,"description":""},{"id":638350258,"node_id":"MDU6TGFiZWw2MzgzNTAyNTg=","url":"https://api.github.com/repos/alacritty/alacritty/labels/H%20-%20windows","name":"H - windows","color":"000000","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"chrisduerr","id":8886672,"node_id":"MDQ6VXNlcjg4ODY2NzI=","avatar_url":"https://avatars.githubusercontent.com/u/8886672?v=4","gravatar_id":"","url":"https://api.github.com/users/chrisduerr","html_url":"https://github.com/chrisduerr","followers_url":"https://api.github.com/users/chrisduerr/followers","following_url":"https://api.github.com/users/chrisduerr/following{/other_user}","gists_url":"https://api.github.com/users/chrisduerr/gists{/gist_id}","starred_url":"https://api.github.com/users/chrisduerr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrisduerr/subscriptions","organizations_url":"https://api.github.com/users/chrisduerr/orgs","repos_url":"https://api.github.com/users/chrisduerr/repos","events_url":"https://api.github.com/users/chrisduerr/events{/privacy}","received_events_url":"https://api.github.com/users/chrisduerr/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"chrisduerr","id":8886672,"node_id":"MDQ6VXNlcjg4ODY2NzI=","avatar_url":"https://avatars.githubusercontent.com/u/8886672?v=4","gravatar_id":"","url":"https://api.github.com/users/chrisduerr","html_url":"https://github.com/chrisduerr","followers_url":"https://api.github.com/users/chrisduerr/followers","following_url":"https://api.github.com/users/chrisduerr/following{/other_user}","gists_url":"https://api.github.com/users/chrisduerr/gists{/gist_id}","starred_url":"https://api.github.com/users/chrisduerr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrisduerr/subscriptions","organizations_url":"https://api.github.com/users/chrisduerr/orgs","repos_url":"https://api.github.com/users/chrisduerr/repos","events_url":"https://api.github.com/users/chrisduerr/events{/privacy}","received_events_url":"https://api.github.com/users/chrisduerr/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/alacritty/alacritty/milestones/16","html_url":"https://github.com/alacritty/alacritty/milestone/16","labels_url":"https://api.github.com/repos/alacritty/alacritty/milestones/16/labels","id":5838448,"node_id":"MDk6TWlsZXN0b25lNTgzODQ0OA==","number":16,"title":"Version 0.7.0","description":"","creator":{"login":"chrisduerr","id":8886672,"node_id":"MDQ6VXNlcjg4ODY2NzI=","avatar_url":"https://avatars.githubusercontent.com/u/8886672?v=4","gravatar_id":"","url":"https://api.github.com/users/chrisduerr","html_url":"https://github.com/chrisduerr","followers_url":"https://api.github.com/users/chrisduerr/followers","following_url":"https://api.github.com/users/chrisduerr/following{/other_user}","gists_url":"https://api.github.com/users/chrisduerr/gists{/gist_id}","starred_url":"https://api.github.com/users/chrisduerr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrisduerr/subscriptions","organizations_url":"https://api.github.com/users/chrisduerr/orgs","repos_url":"https://api.github.com/users/chrisduerr/repos","events_url":"https://api.github.com/users/chrisduerr/events{/privacy}","received_events_url":"https://api.github.com/users/chrisduerr/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":24,"state":"closed","created_at":"2020-09-02T21:08:33Z","updated_at":"2021-01-08T15:42:57Z","due_on":null,"closed_at":"2021-01-08T15:42:57Z"},"comments":3,"created_at":"2020-12-28T03:08:05Z","updated_at":"2020-12-29T00:05:18Z","closed_at":"2020-12-29T00:05:18Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Found this while working on a separate patch for crossfont and discovering that even vanilla master alacritty (with the default crossfont release and default Consolas font) will crash given the cargo output from attempting to build itself. This might be more suited to crossfont itself, though the fact that the error (which is supremely unhelpful on the Win32 side) is handled earlier in the log suggests that an alacritty fix might also be feasible. \r\n\r\n### System\r\n\r\nOS: Windows\r\nVersion: alacritty 0.7.0-dev (fdc10d2) \r\nLinux/BSD: X11/Wayland, DE or Compositor and WM\r\nDoesn't say anything about ConPTY or WinPTY in any output, unfortunately. \r\n\r\n### Logs\r\nLog output for `.\\target\\debug\\alacritty.exe -vv --print-events -e 'cargo build'`:\r\n```\r\n[2020-12-27 20:42:59.835461700] [INFO ] [alacritty] Welcome to Alacritty\r\n[2020-12-27 20:42:59.837467500] [INFO ] [alacritty] Configuration files loaded from:\r\n                                                      \"C:\\\\Users\\\\Ryan Farley\\\\AppData\\\\Roaming\\\\alacritty\\\\alacritty.yml\"\r\n[2020-12-27 20:42:59.841461800] [DEBUG] [alacritty] Estimated DPR: 1\r\n[2020-12-27 20:42:59.841461800] [DEBUG] [alacritty] Estimated window size: Some(PhysicalSize { width: 404, height: 292 })\r\n[2020-12-27 20:42:59.842461800] [DEBUG] [alacritty] Estimated cell size: 5 x 12\r\n[2020-12-27 20:43:00.137178500] [INFO ] [alacritty] Device pixel ratio: 1\r\n[2020-12-27 20:43:00.143201600] [INFO ] [alacritty] Initializing glyph cache...\r\n[2020-12-27 20:43:00.144178200] [DEBUG] [alacritty] a DirectWrite rendering error occurred: 80070057\r\n[2020-12-27 20:43:00.144178200] [DEBUG] [alacritty] a DirectWrite rendering error occurred: 80070057\r\n[2020-12-27 20:43:00.160177900] [DEBUG] [alacritty] a DirectWrite rendering error occurred: 80070057\r\n[2020-12-27 20:43:00.160177900] [DEBUG] [alacritty] a DirectWrite rendering error occurred: 80070057\r\n[2020-12-27 20:43:00.167177400] [DEBUG] [alacritty] a DirectWrite rendering error occurred: 80070057\r\n[2020-12-27 20:43:00.167177400] [DEBUG] [alacritty] a DirectWrite rendering error occurred: 80070057\r\n[2020-12-27 20:43:00.173177700] [DEBUG] [alacritty] a DirectWrite rendering error occurred: 80070057\r\n[2020-12-27 20:43:00.174178300] [DEBUG] [alacritty] a DirectWrite rendering error occurred: 80070057\r\n[2020-12-27 20:43:00.180176200] [INFO ] [alacritty] ... finished initializing glyph cache in 0.0366141s\r\n[2020-12-27 20:43:00.181178300] [INFO ] [alacritty] Estimated DPR correctly, skipping resize\r\n[2020-12-27 20:43:00.181178300] [INFO ] [alacritty] Cell size: 5 x 12\r\n[2020-12-27 20:43:00.181178300] [INFO ] [alacritty] Padding: 2 x 2\r\n[2020-12-27 20:43:00.181178300] [INFO ] [alacritty] Width: 404, Height: 292\r\n[2020-12-27 20:43:00.205179600] [INFO ] [alacritty] PTY dimensions: Line(24) x Column(80)\r\n[2020-12-27 20:43:00.213180300] [INFO ] [alacritty] Initialisation complete\r\n[2020-12-27 20:43:00.213180300] [INFO ] [alacritty] glutin event: NewEvents(Init)\r\n[2020-12-27 20:43:00.214179800] [INFO ] [alacritty] glutin event: WindowEvent { window_id: WindowId(WindowId(0x120772)), event: Focused(true) }\r\n[2020-12-27 20:43:00.214179800] [INFO ] [alacritty] glutin event: WindowEvent { window_id: WindowId(WindowId(0x120772)), event: Resized(PhysicalSize { width: 404, height: 292 }) }\r\n[2020-12-27 20:43:00.215179000] [INFO ] [alacritty] glutin event: WindowEvent { window_id: WindowId(WindowId(0xc80668)), event: Destroyed }\r\n[2020-12-27 20:43:00.219179800] [INFO ] [alacritty] glutin event: DeviceEvent { device_id: DeviceId(DeviceId(0)), event: Key(KeyboardInput { scancode: 28, state: Released, virtual_keycode: Some(Return), modifiers: (empty) }) }\r\n[2020-12-27 20:43:00.221179000] [INFO ] [alacritty] glutin event: WindowEvent { window_id: WindowId(WindowId(0x120772)), event: CursorEntered { device_id: DeviceId(DeviceId(0)) } }\r\n[2020-12-27 20:43:00.221179000] [INFO ] [alacritty] glutin event: WindowEvent { window_id: WindowId(WindowId(0x120772)), event: CursorMoved { device_id: DeviceId(DeviceId(0)), position: PhysicalPosition { x: 202.0, y: 134.0 }, modifiers: (empty) } }\r\n[2020-12-27 20:43:00.224179400] [INFO ] [alacritty] glutin event: MainEventsCleared\r\n[2020-12-27 20:43:00.225179800] [INFO ] [alacritty] glutin event: RedrawRequested(WindowId(WindowId(0x120772)))\r\n[2020-12-27 20:43:00.226179300] [INFO ] [alacritty] glutin event: RedrawEventsCleared\r\n[2020-12-27 20:43:00.227178300] [DEBUG] [alacritty_terminal] Term::resize dimensions unchanged\r\n[2020-12-27 20:43:00.228179800] [INFO ] [alacritty] Padding: 2 x 2\r\n[2020-12-27 20:43:00.229178200] [INFO ] [alacritty] Width: 404, Height: 292\r\n[2020-12-27 20:43:00.702178400] [INFO ] [alacritty] glutin event: NewEvents(WaitCancelled { start: Instant { t: 48906.9751658s }, requested_resume: None })\r\n[2020-12-27 20:43:00.702178400] [INFO ] [alacritty] glutin event: UserEvent(TerminalEvent(Title(C:\\Users\\Ryan Farley\\.cargo\\bin\\cargo.exe)))\r\n[2020-12-27 20:43:00.704180100] [INFO ] [alacritty] glutin event: UserEvent(TerminalEvent(Wakeup))\r\n[2020-12-27 20:43:00.705178400] [DEBUG] [alacritty_terminal] [Unhandled CSI] action='l', params=[25], intermediates=[]\r\n[2020-12-27 20:43:00.705178400] [INFO ] [alacritty] glutin event: MainEventsCleared\r\n[2020-12-27 20:43:00.707179900] [INFO ] [alacritty] glutin event: RedrawEventsCleared\r\n[2020-12-27 20:43:00.720283200] [DEBUG] [alacritty_terminal] [Unhandled CSI] action='l', params=[25], intermediates=[]\r\n[2020-12-27 20:43:00.735283000] [DEBUG] [alacritty_terminal] [Unhandled CSI] action='l', params=[25], intermediates=[]\r\n[2020-12-27 20:43:00.750282000] [DEBUG] [alacritty_terminal] [Unhandled CSI] action='l', params=[25], intermediates=[]\r\n[2020-12-27 20:43:00.765281200] [DEBUG] [alacritty_terminal] [Unhandled CSI] action='l', params=[25], intermediates=[]\r\n```\r\nat which point it panics with \r\n```\r\n---------------------------\r\nAlacritty: Runtime Error\r\n---------------------------\r\npanicked at 'no 'missing' glyph: PlatformError(\"a DirectWrite rendering error occurred: 80070057\")', alacritty\\src\\renderer\\mod.rs:926:65\r\n\r\nPress Ctrl-C to Copy\r\n---------------------------\r\nOK   \r\n---------------------------\r\n```\r\n","closed_by":{"login":"chrisduerr","id":8886672,"node_id":"MDQ6VXNlcjg4ODY2NzI=","avatar_url":"https://avatars.githubusercontent.com/u/8886672?v=4","gravatar_id":"","url":"https://api.github.com/users/chrisduerr","html_url":"https://github.com/chrisduerr","followers_url":"https://api.github.com/users/chrisduerr/followers","following_url":"https://api.github.com/users/chrisduerr/following{/other_user}","gists_url":"https://api.github.com/users/chrisduerr/gists{/gist_id}","starred_url":"https://api.github.com/users/chrisduerr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrisduerr/subscriptions","organizations_url":"https://api.github.com/users/chrisduerr/orgs","repos_url":"https://api.github.com/users/chrisduerr/repos","events_url":"https://api.github.com/users/chrisduerr/events{/privacy}","received_events_url":"https://api.github.com/users/chrisduerr/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/alacritty/alacritty/issues/4617/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/alacritty/alacritty/issues/4617/timeline","performed_via_github_app":null,"state_reason":"completed"}