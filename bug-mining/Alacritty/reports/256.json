{"url":"https://api.github.com/repos/alacritty/alacritty/issues/6862","repository_url":"https://api.github.com/repos/alacritty/alacritty","labels_url":"https://api.github.com/repos/alacritty/alacritty/issues/6862/labels{/name}","comments_url":"https://api.github.com/repos/alacritty/alacritty/issues/6862/comments","events_url":"https://api.github.com/repos/alacritty/alacritty/issues/6862/events","html_url":"https://github.com/alacritty/alacritty/issues/6862","id":1668876547,"node_id":"I_kwDOAxkop85jeQkD","number":6862,"title":"Crash during live search","user":{"login":"kchibisov","id":27620401,"node_id":"MDQ6VXNlcjI3NjIwNDAx","avatar_url":"https://avatars.githubusercontent.com/u/27620401?v=4","gravatar_id":"","url":"https://api.github.com/users/kchibisov","html_url":"https://github.com/kchibisov","followers_url":"https://api.github.com/users/kchibisov/followers","following_url":"https://api.github.com/users/kchibisov/following{/other_user}","gists_url":"https://api.github.com/users/kchibisov/gists{/gist_id}","starred_url":"https://api.github.com/users/kchibisov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchibisov/subscriptions","organizations_url":"https://api.github.com/users/kchibisov/orgs","repos_url":"https://api.github.com/users/kchibisov/repos","events_url":"https://api.github.com/users/kchibisov/events{/privacy}","received_events_url":"https://api.github.com/users/kchibisov/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":638297569,"node_id":"MDU6TGFiZWw2MzgyOTc1Njk=","url":"https://api.github.com/repos/alacritty/alacritty/labels/B%20-%20crash","name":"B - crash","color":"c6071e","default":false,"description":""},{"id":1217212231,"node_id":"MDU6TGFiZWwxMjE3MjEyMjMx","url":"https://api.github.com/repos/alacritty/alacritty/labels/B%20-%20regression","name":"B - regression","color":"c6071e","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/alacritty/alacritty/milestones/25","html_url":"https://github.com/alacritty/alacritty/milestone/25","labels_url":"https://api.github.com/repos/alacritty/alacritty/milestones/25/labels","id":8988484,"node_id":"MI_kwDOAxkop84AiSdE","number":25,"title":"Version 0.13.0","description":"","creator":{"login":"kchibisov","id":27620401,"node_id":"MDQ6VXNlcjI3NjIwNDAx","avatar_url":"https://avatars.githubusercontent.com/u/27620401?v=4","gravatar_id":"","url":"https://api.github.com/users/kchibisov","html_url":"https://github.com/kchibisov","followers_url":"https://api.github.com/users/kchibisov/followers","following_url":"https://api.github.com/users/kchibisov/following{/other_user}","gists_url":"https://api.github.com/users/kchibisov/gists{/gist_id}","starred_url":"https://api.github.com/users/kchibisov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchibisov/subscriptions","organizations_url":"https://api.github.com/users/kchibisov/orgs","repos_url":"https://api.github.com/users/kchibisov/repos","events_url":"https://api.github.com/users/kchibisov/events{/privacy}","received_events_url":"https://api.github.com/users/kchibisov/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":37,"state":"closed","created_at":"2023-01-31T21:00:09Z","updated_at":"2023-12-28T09:21:40Z","due_on":null,"closed_at":"2023-12-28T09:21:40Z"},"comments":0,"created_at":"2023-04-14T19:56:05Z","updated_at":"2023-06-17T21:55:14Z","closed_at":"2023-06-17T21:55:13Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Alacritty will crash if you do the following from the repo:\r\n\r\n1. `cargo run -- --config-file=/dev/null`\r\n2. `cat -v /dev/urandom`\r\n3. Start a search `Ctrl + Shift + F`.\r\n4. Type `.` into it, so all characters will match\r\n5. Do a fast resize to make it 1 cell width o closer.\r\n\r\n\r\nIt's a regression from the 3bd5ac221ab3b122962063edd1f4c10f9f2d117f (Unify the grid line indexing types).\r\n\r\nBacktrace from the latest commit\r\n\r\n```\r\nthread 'main' panicked at 'assertion failed: positive < self.len', alacritty_terminal/src/grid/storage.rs:223:9\r\nstack backtrace:\r\n   0:     0x55fb5cc766fa - std::backtrace_rs::backtrace::libunwind::trace::ha271a8a7e1f3d4ef\r\n                               at /rustc/9eb3afe9ebe9c7d2b84b71002d44f4a0edac95e0/library/std/src/../../backtrace/src/backtrace/libunwind.rs:93:5\r\n   1:     0x55fb5cc766fa - std::backtrace_rs::backtrace::trace_unsynchronized::h85739da0352c791a\r\n                               at /rustc/9eb3afe9ebe9c7d2b84b71002d44f4a0edac95e0/library/std/src/../../backtrace/src/backtrace/mod.rs:66:5\r\n   2:     0x55fb5cc766fa - std::sys_common::backtrace::_print_fmt::hbc6ebcfb2910b329\r\n                               at /rustc/9eb3afe9ebe9c7d2b84b71002d44f4a0edac95e0/library/std/src/sys_common/backtrace.rs:65:5\r\n   3:     0x55fb5cc766fa - <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt::he1c117e52d53614f\r\n                               at /rustc/9eb3afe9ebe9c7d2b84b71002d44f4a0edac95e0/library/std/src/sys_common/backtrace.rs:44:22\r\n   4:     0x55fb5cc9e1ae - core::fmt::write::h25eb51b9526b8e0c\r\n                               at /rustc/9eb3afe9ebe9c7d2b84b71002d44f4a0edac95e0/library/core/src/fmt/mod.rs:1213:17\r\n   5:     0x55fb5cc70f65 - std::io::Write::write_fmt::ha9edec5fb1621933\r\n                               at /rustc/9eb3afe9ebe9c7d2b84b71002d44f4a0edac95e0/library/std/src/io/mod.rs:1682:15\r\n   6:     0x55fb5cc764c5 - std::sys_common::backtrace::_print::hf8657cd429fc3452\r\n                               at /rustc/9eb3afe9ebe9c7d2b84b71002d44f4a0edac95e0/library/std/src/sys_common/backtrace.rs:47:5\r\n   7:     0x55fb5cc764c5 - std::sys_common::backtrace::print::h41b9b18ed86f86bd\r\n                               at /rustc/9eb3afe9ebe9c7d2b84b71002d44f4a0edac95e0/library/std/src/sys_common/backtrace.rs:34:9\r\n   8:     0x55fb5cc77e4f - std::panicking::default_hook::{{closure}}::h22a91871f4454152\r\n                               at /rustc/9eb3afe9ebe9c7d2b84b71002d44f4a0edac95e0/library/std/src/panicking.rs:267:22\r\n   9:     0x55fb5cc77b8b - std::panicking::default_hook::h21ddc36de0cd4ae7\r\n                               at /rustc/9eb3afe9ebe9c7d2b84b71002d44f4a0edac95e0/library/std/src/panicking.rs:286:9\r\n  10:     0x55fb5cc78559 - std::panicking::rust_panic_with_hook::h5059419d6d59b3d0\r\n                               at /rustc/9eb3afe9ebe9c7d2b84b71002d44f4a0edac95e0/library/std/src/panicking.rs:688:13\r\n  11:     0x55fb5cc782b2 - std::panicking::begin_panic_handler::{{closure}}::h0f383c291cd78343\r\n                               at /rustc/9eb3afe9ebe9c7d2b84b71002d44f4a0edac95e0/library/std/src/panicking.rs:577:13\r\n  12:     0x55fb5cc76bac - std::sys_common::backtrace::__rust_end_short_backtrace::h70ab22f2ad318cdd\r\n                               at /rustc/9eb3afe9ebe9c7d2b84b71002d44f4a0edac95e0/library/std/src/sys_common/backtrace.rs:137:18\r\n  13:     0x55fb5cc78002 - rust_begin_unwind\r\n                               at /rustc/9eb3afe9ebe9c7d2b84b71002d44f4a0edac95e0/library/std/src/panicking.rs:575:5\r\n  14:     0x55fb5bf34703 - core::panicking::panic_fmt::hd1d46bcde3c61d72\r\n                               at /rustc/9eb3afe9ebe9c7d2b84b71002d44f4a0edac95e0/library/core/src/panicking.rs:64:14\r\n  15:     0x55fb5bf3479d - core::panicking::panic::h056c466ab4571cf2\r\n                               at /rustc/9eb3afe9ebe9c7d2b84b71002d44f4a0edac95e0/library/core/src/panicking.rs:114:5\r\n  16:     0x55fb5c59cccb - alacritty_terminal::grid::storage::Storage<T>::compute_index::h2bf3fffa020bd056\r\n                               at /home/kchibisov/src/rust/alacritty-workspace/fork/alacritty_terminal/src/grid/storage.rs:223:9\r\n  17:     0x55fb5c1cd41c - <alacritty_terminal::grid::storage::Storage<T> as core::ops::index::Index<alacritty_terminal::index::Line>>::index::h7dae7e379b5d99ae\r\n                               at /home/kchibisov/src/rust/alacritty-workspace/fork/alacritty_terminal/src/grid/storage.rs:255:21\r\n  18:     0x55fb5c153262 - <alacritty_terminal::grid::Grid<T> as core::ops::index::Index<alacritty_terminal::index::Line>>::index::h5324d578f53095ac\r\n                               at /home/kchibisov/src/rust/alacritty-workspace/fork/alacritty_terminal/src/grid/mod.rs:448:10\r\n  19:     0x55fb5c1532a6 - <alacritty_terminal::grid::Grid<T> as core::ops::index::Index<alacritty_terminal::index::Point>>::index::hea7d862d0c30809f\r\n                               at /home/kchibisov/src/rust/alacritty-workspace/fork/alacritty_terminal/src/grid/mod.rs:464:10\r\n  20:     0x55fb5c1555ee - alacritty_terminal::grid::GridIterator<T>::cell::h223935dc2ce0c6c4\r\n                               at /home/kchibisov/src/rust/alacritty-workspace/fork/alacritty_terminal/src/grid/mod.rs:578:10\r\n  21:     0x55fb5c038393 - alacritty_terminal::term::search::<impl alacritty_terminal::term::Term<T>>::regex_search::h5686ba0cbfb42766\r\n                               at /home/kchibisov/src/rust/alacritty-workspace/fork/alacritty_terminal/src/term/search.rs:210:24\r\n  22:     0x55fb5c039932 - alacritty_terminal::term::search::<impl alacritty_terminal::term::Term<T>>::regex_search_right::h70b9f53fd7314b80\r\n                               at /home/kchibisov/src/rust/alacritty-workspace/fork/alacritty_terminal/src/term/search.rs:178:25\r\n  23:     0x55fb5c0a4cb8 - alacritty_terminal::term::search::RegexIter<T>::next_match::h3e696dd721f7033e\r\n                               at /home/kchibisov/src/rust/alacritty-workspace/fork/alacritty_terminal/src/term/search.rs:473:33\r\n  24:     0x55fb5c0a4b51 - <alacritty_terminal::term::search::RegexIter<T> as core::iter::traits::iterator::Iterator>::next::h99c522a26fba65ab\r\n                               at /home/kchibisov/src/rust/alacritty-workspace/fork/alacritty_terminal/src/term/search.rs:492:27\r\n  25:     0x55fb5c0a51ed - core::iter::traits::iterator::Iterator::try_fold::h4910d519242f9d2d\r\n                               at /rustc/9eb3afe9ebe9c7d2b84b71002d44f4a0edac95e0/library/core/src/iter/traits/iterator.rs:2261:29\r\n  26:     0x55fb5c0a5155 - core::iter::traits::iterator::Iterator::find::h56603ea4e84469f5\r\n                               at /rustc/9eb3afe9ebe9c7d2b84b71002d44f4a0edac95e0/library/core/src/iter/traits/iterator.rs:2724:9\r\n  27:     0x55fb5c01cebc - <core::iter::adapters::skip_while::SkipWhile<I,P> as core::iter::traits::iterator::Iterator>::next::h14bcbc4c25ee700a\r\n                               at /rustc/9eb3afe9ebe9c7d2b84b71002d44f4a0edac95e0/library/core/src/iter/adapters/skip_while.rs:59:9\r\n  28:     0x55fb5c181453 - <core::iter::adapters::take_while::TakeWhile<I,P> as core::iter::traits::iterator::Iterator>::next::h702936e264b3acb2\r\n                               at /rustc/9eb3afe9ebe9c7d2b84b71002d44f4a0edac95e0/library/core/src/iter/adapters/take_while.rs:46:21\r\n  29:     0x55fb5c085758 - <alloc::vec::Vec<T> as alloc::vec::spec_from_iter_nested::SpecFromIterNested<T,I>>::from_iter::hff8212cd925f72e4\r\n                               at /rustc/9eb3afe9ebe9c7d2b84b71002d44f4a0edac95e0/library/alloc/src/vec/spec_from_iter_nested.rs:26:32\r\n  30:     0x55fb5c09b32a - <alloc::vec::Vec<T> as alloc::vec::spec_from_iter::SpecFromIter<T,I>>::from_iter::h13fc96cc9d96aca9\r\n                               at /rustc/9eb3afe9ebe9c7d2b84b71002d44f4a0edac95e0/library/alloc/src/vec/spec_from_iter.rs:33:9\r\n  31:     0x55fb5c09a9fe - <alloc::vec::Vec<T> as core::iter::traits::collect::FromIterator<T>>::from_iter::h82be14a9415545c2\r\n                               at /rustc/9eb3afe9ebe9c7d2b84b71002d44f4a0edac95e0/library/alloc/src/vec/mod.rs:2753:9\r\n  32:     0x55fb5c181a4a - core::iter::traits::iterator::Iterator::collect::hd7a5fc65fbdcda29\r\n                               at /rustc/9eb3afe9ebe9c7d2b84b71002d44f4a0edac95e0/library/core/src/iter/traits/iterator.rs:1860:9\r\n  33:     0x55fb5bf8bbb9 - alacritty::display::content::HintMatches::visible_regex_matches::h766129d419d24d72\r\n                               at /home/kchibisov/src/rust/alacritty-workspace/fork/alacritty/src/display/content.rs:482:23\r\n  34:     0x55fb5bf8b70f - alacritty::display::content::RenderableContent::new::{{closure}}::h548b4e0ab27cdc8f\r\n                               at /home/kchibisov/src/rust/alacritty-workspace/fork/alacritty/src/display/content.rs:46:53\r\n  35:     0x55fb5c142e80 - core::option::Option<T>::map::hefb6c6b315f2ceae\r\n                               at /rustc/9eb3afe9ebe9c7d2b84b71002d44f4a0edac95e0/library/core/src/option.rs:970:29\r\n  36:     0x55fb5bf8b286 - alacritty::display::content::RenderableContent::new::h44e8bc73b433f55f\r\n                               at /home/kchibisov/src/rust/alacritty-workspace/fork/alacritty/src/display/content.rs:46:22\r\n  37:     0x55fb5bfce174 - alacritty::display::Display::draw::h5fe7e51711389e20\r\n                               at /home/kchibisov/src/rust/alacritty-workspace/fork/alacritty/src/display/mod.rs:767:27\r\n  38:     0x55fb5c032d1c - alacritty::window_context::WindowContext::handle_event::hb2efb38472c03112\r\n                               at /home/kchibisov/src/rust/alacritty-workspace/fork/alacritty/src/window_context.rs:509:13\r\n  39:     0x55fb5c1c5387 - alacritty::event::Processor::run::{{closure}}::h20e4400783c574c4\r\n                               at /home/kchibisov/src/rust/alacritty-workspace/fork/alacritty/src/event.rs:1565:25\r\n  40:     0x55fb5c044e3b - winit::platform_impl::platform::sticky_exit_callback::h6c6322b5e008ae25\r\n                               at /home/kchibisov/.cargo/registry/src/github.com-1ecc6299db9ec823/winit-0.28.3/src/platform_impl/linux/mod.rs:884:9\r\n  41:     0x55fb5c15c467 - winit::platform_impl::platform::wayland::event_loop::EventLoop<T>::run_return::h305bc03fa6517843\r\n                               at /home/kchibisov/.cargo/registry/src/github.com-1ecc6299db9ec823/winit-0.28.3/src/platform_impl/linux/wayland/event_loop/mod.rs:559:13\r\n  42:     0x55fb5c04420e - winit::platform_impl::platform::EventLoop<T>::run_return::hc202220b2a5ab73d\r\n                               at /home/kchibisov/.cargo/registry/src/github.com-1ecc6299db9ec823/winit-0.28.3/src/platform_impl/linux/mod.rs:785:56\r\n  43:     0x55fb5c1f0e60 - <winit::event_loop::EventLoop<T> as winit::platform::run_return::EventLoopExtRunReturn>::run_return::hbc3798c3ca789bdb\r\n                               at /home/kchibisov/.cargo/registry/src/github.com-1ecc6299db9ec823/winit-0.28.3/src/platform/run_return.rs:51:9\r\n  44:     0x55fb5bfd6a8b - alacritty::event::Processor::run::h44a02600ce887faf\r\n                               at /home/kchibisov/src/rust/alacritty-workspace/fork/alacritty/src/event.rs:1495:25\r\n  45:     0x55fb5c0b8d7a - alacritty::alacritty::hc86bc0076a60d4ba\r\n                               at /home/kchibisov/src/rust/alacritty-workspace/fork/alacritty/src/main.rs:189:18\r\n  46:     0x55fb5c0b7ed4 - alacritty::main::h857053fd4ec6384d\r\n                               at /home/kchibisov/src/rust/alacritty-workspace/fork/alacritty/src/main.rs:83:17\r\n  47:     0x55fb5bfad5bb - core::ops::function::FnOnce::call_once::h82d992e1fd444058\r\n                               at /rustc/9eb3afe9ebe9c7d2b84b71002d44f4a0edac95e0/library/core/src/ops/function.rs:250:5\r\n  48:     0x55fb5bfa3eae - std::sys_common::backtrace::__rust_begin_short_backtrace::h001b60a7a90f874d\r\n                               at /rustc/9eb3afe9ebe9c7d2b84b71002d44f4a0edac95e0/library/std/src/sys_common/backtrace.rs:121:18\r\n  49:     0x55fb5bfd9b51 - std::rt::lang_start::{{closure}}::h670444546114d799\r\n                               at /rustc/9eb3afe9ebe9c7d2b84b71002d44f4a0edac95e0/library/std/src/rt.rs:166:18\r\n  50:     0x55fb5cc6adac - core::ops::function::impls::<impl core::ops::function::FnOnce<A> for &F>::call_once::h203afb3af230319a\r\n                               at /rustc/9eb3afe9ebe9c7d2b84b71002d44f4a0edac95e0/library/core/src/ops/function.rs:287:13\r\n  51:     0x55fb5cc6adac - std::panicking::try::do_call::hf68e87013b70f3c5\r\n                               at /rustc/9eb3afe9ebe9c7d2b84b71002d44f4a0edac95e0/library/std/src/panicking.rs:483:40\r\n  52:     0x55fb5cc6adac - std::panicking::try::h040ea8f298390ba2\r\n                               at /rustc/9eb3afe9ebe9c7d2b84b71002d44f4a0edac95e0/library/std/src/panicking.rs:447:19\r\n  53:     0x55fb5cc6adac - std::panic::catch_unwind::h1e17b198887a05fa\r\n                               at /rustc/9eb3afe9ebe9c7d2b84b71002d44f4a0edac95e0/library/std/src/panic.rs:140:14\r\n  54:     0x55fb5cc6adac - std::rt::lang_start_internal::{{closure}}::hfb902d8927e51b86\r\n                               at /rustc/9eb3afe9ebe9c7d2b84b71002d44f4a0edac95e0/library/std/src/rt.rs:148:48\r\n  55:     0x55fb5cc6adac - std::panicking::try::do_call::h354e6eb41f2e7d42\r\n                               at /rustc/9eb3afe9ebe9c7d2b84b71002d44f4a0edac95e0/library/std/src/panicking.rs:483:40\r\n  56:     0x55fb5cc6adac - std::panicking::try::h4a39749cd018228c\r\n                               at /rustc/9eb3afe9ebe9c7d2b84b71002d44f4a0edac95e0/library/std/src/panicking.rs:447:19\r\n  57:     0x55fb5cc6adac - std::panic::catch_unwind::h30bce83b8de61cca\r\n                               at /rustc/9eb3afe9ebe9c7d2b84b71002d44f4a0edac95e0/library/std/src/panic.rs:140:14\r\n  58:     0x55fb5cc6adac - std::rt::lang_start_internal::h8f7e70b1a2558118\r\n                               at /rustc/9eb3afe9ebe9c7d2b84b71002d44f4a0edac95e0/library/std/src/rt.rs:148:20\r\n  59:     0x55fb5bfd9b2a - std::rt::lang_start::h787e306eb70df079\r\n                               at /rustc/9eb3afe9ebe9c7d2b84b71002d44f4a0edac95e0/library/std/src/rt.rs:165:17\r\n  60:     0x55fb5c0b939e - main\r\n  61:     0x7fa511970ace - __libc_start_call_main\r\n  62:     0x7fa511970b89 - __libc_start_main@@GLIBC_2.34\r\n  63:     0x55fb5bf34d95 - _start\r\n  64:                0x0 - <unknown>\r\n\r\n```","closed_by":{"login":"kchibisov","id":27620401,"node_id":"MDQ6VXNlcjI3NjIwNDAx","avatar_url":"https://avatars.githubusercontent.com/u/27620401?v=4","gravatar_id":"","url":"https://api.github.com/users/kchibisov","html_url":"https://github.com/kchibisov","followers_url":"https://api.github.com/users/kchibisov/followers","following_url":"https://api.github.com/users/kchibisov/following{/other_user}","gists_url":"https://api.github.com/users/kchibisov/gists{/gist_id}","starred_url":"https://api.github.com/users/kchibisov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchibisov/subscriptions","organizations_url":"https://api.github.com/users/kchibisov/orgs","repos_url":"https://api.github.com/users/kchibisov/repos","events_url":"https://api.github.com/users/kchibisov/events{/privacy}","received_events_url":"https://api.github.com/users/kchibisov/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/alacritty/alacritty/issues/6862/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/alacritty/alacritty/issues/6862/timeline","performed_via_github_app":null,"state_reason":"completed"}