{"url":"https://api.github.com/repos/alacritty/alacritty/issues/4120","repository_url":"https://api.github.com/repos/alacritty/alacritty","labels_url":"https://api.github.com/repos/alacritty/alacritty/issues/4120/labels{/name}","comments_url":"https://api.github.com/repos/alacritty/alacritty/issues/4120/comments","events_url":"https://api.github.com/repos/alacritty/alacritty/issues/4120/events","html_url":"https://github.com/alacritty/alacritty/issues/4120","id":678304358,"node_id":"MDU6SXNzdWU2NzgzMDQzNTg=","number":4120,"title":"Crash when try to select message bar.","user":{"login":"kchibisov","id":27620401,"node_id":"MDQ6VXNlcjI3NjIwNDAx","avatar_url":"https://avatars.githubusercontent.com/u/27620401?v=4","gravatar_id":"","url":"https://api.github.com/users/kchibisov","html_url":"https://github.com/kchibisov","followers_url":"https://api.github.com/users/kchibisov/followers","following_url":"https://api.github.com/users/kchibisov/following{/other_user}","gists_url":"https://api.github.com/users/kchibisov/gists{/gist_id}","starred_url":"https://api.github.com/users/kchibisov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchibisov/subscriptions","organizations_url":"https://api.github.com/users/kchibisov/orgs","repos_url":"https://api.github.com/users/kchibisov/repos","events_url":"https://api.github.com/users/kchibisov/events{/privacy}","received_events_url":"https://api.github.com/users/kchibisov/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":327960155,"node_id":"MDU6TGFiZWwzMjc5NjAxNTU=","url":"https://api.github.com/repos/alacritty/alacritty/labels/B%20-%20bug","name":"B - bug","color":"c6071e","default":false,"description":""},{"id":638297569,"node_id":"MDU6TGFiZWw2MzgyOTc1Njk=","url":"https://api.github.com/repos/alacritty/alacritty/labels/B%20-%20crash","name":"B - crash","color":"c6071e","default":false,"description":""},{"id":1217212231,"node_id":"MDU6TGFiZWwxMjE3MjEyMjMx","url":"https://api.github.com/repos/alacritty/alacritty/labels/B%20-%20regression","name":"B - regression","color":"c6071e","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/alacritty/alacritty/milestones/15","html_url":"https://github.com/alacritty/alacritty/milestone/15","labels_url":"https://api.github.com/repos/alacritty/alacritty/milestones/15/labels","id":5744808,"node_id":"MDk6TWlsZXN0b25lNTc0NDgwOA==","number":15,"title":"Version 0.5.1","description":"","creator":{"login":"kchibisov","id":27620401,"node_id":"MDQ6VXNlcjI3NjIwNDAx","avatar_url":"https://avatars.githubusercontent.com/u/27620401?v=4","gravatar_id":"","url":"https://api.github.com/users/kchibisov","html_url":"https://github.com/kchibisov","followers_url":"https://api.github.com/users/kchibisov/followers","following_url":"https://api.github.com/users/kchibisov/following{/other_user}","gists_url":"https://api.github.com/users/kchibisov/gists{/gist_id}","starred_url":"https://api.github.com/users/kchibisov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchibisov/subscriptions","organizations_url":"https://api.github.com/users/kchibisov/orgs","repos_url":"https://api.github.com/users/kchibisov/repos","events_url":"https://api.github.com/users/kchibisov/events{/privacy}","received_events_url":"https://api.github.com/users/kchibisov/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":9,"state":"closed","created_at":"2020-08-07T21:52:21Z","updated_at":"2020-11-13T19:32:18Z","due_on":null,"closed_at":"2020-11-13T19:32:18Z"},"comments":3,"created_at":"2020-08-13T09:45:54Z","updated_at":"2020-08-14T07:26:43Z","closed_at":"2020-08-14T07:26:43Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"To repro: make alacritty render message bar, then start selecting, and move your mouse over it, alacritty should crash. \r\n\r\n```\r\nthread 'main' panicked at 'attempt to subtract with overflow', /home/kchibisov/src/rust/alacritty-workspace/fork/alacritty_terminal/src/grid/mod.rs:359:23\r\nstack backtrace:\r\n   0: backtrace::backtrace::libunwind::trace\r\n             at /cargo/registry/src/github.com-1ecc6299db9ec823/backtrace-0.3.46/src/backtrace/libunwind.rs:86\r\n   1: backtrace::backtrace::trace_unsynchronized\r\n             at /cargo/registry/src/github.com-1ecc6299db9ec823/backtrace-0.3.46/src/backtrace/mod.rs:66\r\n   2: std::sys_common::backtrace::_print_fmt\r\n             at src/libstd/sys_common/backtrace.rs:78\r\n   3: <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt\r\n             at src/libstd/sys_common/backtrace.rs:59\r\n   4: core::fmt::write\r\n             at src/libcore/fmt/mod.rs:1076\r\n   5: std::io::Write::write_fmt\r\n             at src/libstd/io/mod.rs:1537\r\n   6: std::sys_common::backtrace::_print\r\n             at src/libstd/sys_common/backtrace.rs:62\r\n   7: std::sys_common::backtrace::print\r\n             at src/libstd/sys_common/backtrace.rs:49\r\n   8: std::panicking::default_hook::{{closure}}\r\n             at src/libstd/panicking.rs:198\r\n   9: std::panicking::default_hook\r\n             at src/libstd/panicking.rs:218\r\n  10: std::panicking::rust_panic_with_hook\r\n             at src/libstd/panicking.rs:486\r\n  11: rust_begin_unwind\r\n             at src/libstd/panicking.rs:388\r\n  12: core::panicking::panic_fmt\r\n             at src/libcore/panicking.rs:101\r\n  13: core::panicking::panic\r\n             at src/libcore/panicking.rs:56\r\n  14: alacritty_terminal::grid::Grid<T>::visible_to_buffer\r\n             at ./alacritty_terminal/src/grid/mod.rs:359\r\n  15: alacritty_terminal::term::Term<T>::visible_to_buffer\r\n             at ./alacritty_terminal/src/term/mod.rs:938\r\n  16: <alacritty::event::ActionContext<N,T> as alacritty::input::ActionContext<T>>::update_selection\r\n             at alacritty/src/event.rs:199\r\n  17: <alacritty::event::ActionContext<N,T> as alacritty::input::ActionContext<T>>::scroll\r\n             at alacritty/src/event.rs:177\r\n  18: alacritty::event::Processor<N>::handle_event\r\n             at alacritty/src/event.rs:901\r\n  19: alacritty::event::Processor<N>::run::{{closure}}\r\n             at alacritty/src/event.rs:829\r\n  20: winit::platform_impl::platform::sticky_exit_callback\r\n             at /home/kchibisov/.cargo/registry/src/github.com-1ecc6299db9ec823/winit-0.22.2/src/platform_impl/linux/mod.rs:698\r\n  21: winit::platform_impl::platform::wayland::event_loop::EventLoop<T>::run_return\r\n             at /home/kchibisov/.cargo/registry/src/github.com-1ecc6299db9ec823/winit-0.22.2/src/platform_impl/linux/wayland/event_loop.rs:537\r\n  22: winit::platform_impl::platform::EventLoop<T>::run_return\r\n             at /home/kchibisov/.cargo/registry/src/github.com-1ecc6299db9ec823/winit-0.22.2/src/platform_impl/linux/mod.rs:634\r\n  23: <winit::event_loop::EventLoop<T> as winit::platform::desktop::EventLoopExtDesktop>::run_return\r\n             at /home/kchibisov/.cargo/registry/src/github.com-1ecc6299db9ec823/winit-0.22.2/src/platform/desktop.rs:51\r\n  24: alacritty::event::Processor<N>::run\r\n             at alacritty/src/event.rs:756\r\n  25: alacritty::run\r\n             at alacritty/src/main.rs:198\r\n  26: alacritty::main\r\n             at alacritty/src/main.rs:104\r\n  27: std::rt::lang_start::{{closure}}\r\n             at /home/kchibisov/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/src/libstd/rt.rs:67\r\n  28: std::rt::lang_start_internal::{{closure}}\r\n             at src/libstd/rt.rs:52\r\n  29: std::panicking::try::do_call\r\n             at src/libstd/panicking.rs:297\r\n  30: std::panicking::try\r\n             at src/libstd/panicking.rs:274\r\n  31: std::panic::catch_unwind\r\n             at src/libstd/panic.rs:394\r\n  32: std::rt::lang_start_internal\r\n             at src/libstd/rt.rs:51\r\n  33: std::rt::lang_start\r\n             at /home/kchibisov/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/src/libstd/rt.rs:67\r\n  34: main\r\n  35: __libc_start_main\r\n             at ../csu/libc-start.c:308\r\n  36: _start\r\nnote: Some details are omitted, run with `RUST_BACKTRACE=full` for a verbose backtrace.\r\n```","closed_by":{"login":"kchibisov","id":27620401,"node_id":"MDQ6VXNlcjI3NjIwNDAx","avatar_url":"https://avatars.githubusercontent.com/u/27620401?v=4","gravatar_id":"","url":"https://api.github.com/users/kchibisov","html_url":"https://github.com/kchibisov","followers_url":"https://api.github.com/users/kchibisov/followers","following_url":"https://api.github.com/users/kchibisov/following{/other_user}","gists_url":"https://api.github.com/users/kchibisov/gists{/gist_id}","starred_url":"https://api.github.com/users/kchibisov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchibisov/subscriptions","organizations_url":"https://api.github.com/users/kchibisov/orgs","repos_url":"https://api.github.com/users/kchibisov/repos","events_url":"https://api.github.com/users/kchibisov/events{/privacy}","received_events_url":"https://api.github.com/users/kchibisov/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/alacritty/alacritty/issues/4120/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/alacritty/alacritty/issues/4120/timeline","performed_via_github_app":null,"state_reason":"completed"}