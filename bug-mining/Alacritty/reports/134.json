{"url":"https://api.github.com/repos/alacritty/alacritty/issues/3446","repository_url":"https://api.github.com/repos/alacritty/alacritty","labels_url":"https://api.github.com/repos/alacritty/alacritty/issues/3446/labels{/name}","comments_url":"https://api.github.com/repos/alacritty/alacritty/issues/3446/comments","events_url":"https://api.github.com/repos/alacritty/alacritty/issues/3446/events","html_url":"https://github.com/alacritty/alacritty/issues/3446","id":579525452,"node_id":"MDU6SXNzdWU1Nzk1MjU0NTI=","number":3446,"title":"Index out of bounds panic when highlighting.","user":{"login":"tjnitram","id":8924863,"node_id":"MDQ6VXNlcjg5MjQ4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/8924863?v=4","gravatar_id":"","url":"https://api.github.com/users/tjnitram","html_url":"https://github.com/tjnitram","followers_url":"https://api.github.com/users/tjnitram/followers","following_url":"https://api.github.com/users/tjnitram/following{/other_user}","gists_url":"https://api.github.com/users/tjnitram/gists{/gist_id}","starred_url":"https://api.github.com/users/tjnitram/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tjnitram/subscriptions","organizations_url":"https://api.github.com/users/tjnitram/orgs","repos_url":"https://api.github.com/users/tjnitram/repos","events_url":"https://api.github.com/users/tjnitram/events{/privacy}","received_events_url":"https://api.github.com/users/tjnitram/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":513181155,"node_id":"MDU6TGFiZWw1MTMxODExNTU=","url":"https://api.github.com/repos/alacritty/alacritty/labels/P%20-%20high","name":"P - high","color":"f9d0c4","default":false,"description":null},{"id":638280637,"node_id":"MDU6TGFiZWw2MzgyODA2Mzc=","url":"https://api.github.com/repos/alacritty/alacritty/labels/S%20-%20selection","name":"S - selection","color":"5319e7","default":false,"description":null},{"id":638297569,"node_id":"MDU6TGFiZWw2MzgyOTc1Njk=","url":"https://api.github.com/repos/alacritty/alacritty/labels/B%20-%20crash","name":"B - crash","color":"c6071e","default":false,"description":""},{"id":1217212231,"node_id":"MDU6TGFiZWwxMjE3MjEyMjMx","url":"https://api.github.com/repos/alacritty/alacritty/labels/B%20-%20regression","name":"B - regression","color":"c6071e","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"chrisduerr","id":8886672,"node_id":"MDQ6VXNlcjg4ODY2NzI=","avatar_url":"https://avatars.githubusercontent.com/u/8886672?v=4","gravatar_id":"","url":"https://api.github.com/users/chrisduerr","html_url":"https://github.com/chrisduerr","followers_url":"https://api.github.com/users/chrisduerr/followers","following_url":"https://api.github.com/users/chrisduerr/following{/other_user}","gists_url":"https://api.github.com/users/chrisduerr/gists{/gist_id}","starred_url":"https://api.github.com/users/chrisduerr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrisduerr/subscriptions","organizations_url":"https://api.github.com/users/chrisduerr/orgs","repos_url":"https://api.github.com/users/chrisduerr/repos","events_url":"https://api.github.com/users/chrisduerr/events{/privacy}","received_events_url":"https://api.github.com/users/chrisduerr/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"chrisduerr","id":8886672,"node_id":"MDQ6VXNlcjg4ODY2NzI=","avatar_url":"https://avatars.githubusercontent.com/u/8886672?v=4","gravatar_id":"","url":"https://api.github.com/users/chrisduerr","html_url":"https://github.com/chrisduerr","followers_url":"https://api.github.com/users/chrisduerr/followers","following_url":"https://api.github.com/users/chrisduerr/following{/other_user}","gists_url":"https://api.github.com/users/chrisduerr/gists{/gist_id}","starred_url":"https://api.github.com/users/chrisduerr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrisduerr/subscriptions","organizations_url":"https://api.github.com/users/chrisduerr/orgs","repos_url":"https://api.github.com/users/chrisduerr/repos","events_url":"https://api.github.com/users/chrisduerr/events{/privacy}","received_events_url":"https://api.github.com/users/chrisduerr/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/alacritty/alacritty/milestones/12","html_url":"https://github.com/alacritty/alacritty/milestone/12","labels_url":"https://api.github.com/repos/alacritty/alacritty/milestones/12/labels","id":4928157,"node_id":"MDk6TWlsZXN0b25lNDkyODE1Nw==","number":12,"title":"Version 0.4.2","description":"","creator":{"login":"chrisduerr","id":8886672,"node_id":"MDQ6VXNlcjg4ODY2NzI=","avatar_url":"https://avatars.githubusercontent.com/u/8886672?v=4","gravatar_id":"","url":"https://api.github.com/users/chrisduerr","html_url":"https://github.com/chrisduerr","followers_url":"https://api.github.com/users/chrisduerr/followers","following_url":"https://api.github.com/users/chrisduerr/following{/other_user}","gists_url":"https://api.github.com/users/chrisduerr/gists{/gist_id}","starred_url":"https://api.github.com/users/chrisduerr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrisduerr/subscriptions","organizations_url":"https://api.github.com/users/chrisduerr/orgs","repos_url":"https://api.github.com/users/chrisduerr/repos","events_url":"https://api.github.com/users/chrisduerr/events{/privacy}","received_events_url":"https://api.github.com/users/chrisduerr/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":33,"state":"closed","created_at":"2019-12-13T14:19:37Z","updated_at":"2020-03-14T15:40:54Z","due_on":null,"closed_at":"2020-03-14T15:40:54Z"},"comments":1,"created_at":"2020-03-11T20:25:37Z","updated_at":"2020-03-12T19:42:06Z","closed_at":"2020-03-12T00:14:01Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"It seems like a regression of #3233. Reproduce it by clicking and dragging inside the window and releasing outside the window, but only if the cursor is above and to the right of the starting position.\r\n\r\nAfter bisecting, it looks like 6832b86aa7a9adb386394e1caaf373e65297be4e is the culprit.\r\n\r\n### System\r\nOS: Linux\r\nVersion: alacritty 0.4.2-dev (bb0a214)\r\nLinux/BSD: Wayland/Sway\r\n\r\n### Logs\r\n\r\n```\r\nthread 'main' panicked at 'index out of bounds: the len is 105 but the index is 105', /rustc/f3e1a954d2ead4e2fc197c7da7d71e6c61bad196/src/libcore/slice/mod.rs:2806:10\r\nstack backtrace:\r\n   0:     0x5583769f74d4 - backtrace::backtrace::libunwind::trace::he25250f78ba1020d\r\n                               at /cargo/registry/src/github.com-1ecc6299db9ec823/backtrace-0.3.40/src/backtrace/libunwind.rs:88\r\n   1:     0x5583769f74d4 - backtrace::backtrace::trace_unsynchronized::hd7e25f35da233a1e\r\n                               at /cargo/registry/src/github.com-1ecc6299db9ec823/backtrace-0.3.40/src/backtrace/mod.rs:66\r\n   2:     0x5583769f74d4 - std::sys_common::backtrace::_print_fmt::h5578a566a4c2ae4e\r\n                               at src/libstd/sys_common/backtrace.rs:84\r\n   3:     0x5583769f74d4 - <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt::hd4f87054ec86e936\r\n                               at src/libstd/sys_common/backtrace.rs:61\r\n   4:     0x558376a1e88c - core::fmt::write::h393d55821fa8e2cb\r\n                               at src/libcore/fmt/mod.rs:1025\r\n   5:     0x5583769f40c7 - std::io::Write::write_fmt::hc6645302c23e4504\r\n                               at src/libstd/io/mod.rs:1426\r\n   6:     0x5583769f97ce - std::sys_common::backtrace::_print::he8a0a3ebec70e1d6\r\n                               at src/libstd/sys_common/backtrace.rs:65\r\n   7:     0x5583769f97ce - std::sys_common::backtrace::print::hc2635fd6c7743ade\r\n                               at src/libstd/sys_common/backtrace.rs:50\r\n   8:     0x5583769f97ce - std::panicking::default_hook::{{closure}}::h9849388798b72b2b\r\n                               at src/libstd/panicking.rs:193\r\n   9:     0x5583769f94c1 - std::panicking::default_hook::h66e3afff11b02e47\r\n                               at src/libstd/panicking.rs:210\r\n  10:     0x5583769f9eab - std::panicking::rust_panic_with_hook::hf6d05969fcffff03\r\n                               at src/libstd/panicking.rs:471\r\n  11:     0x5583769f9a5e - rust_begin_unwind\r\n                               at src/libstd/panicking.rs:375\r\n  12:     0x558376a1ac3e - core::panicking::panic_fmt::he794217b0df3f806\r\n                               at src/libcore/panicking.rs:84\r\n  13:     0x558376a1ac05 - core::panicking::panic_bounds_check::ha320684dc0fd21e4\r\n                               at src/libcore/panicking.rs:62\r\n  14:     0x558376422d37 - <usize as core::slice::SliceIndex<[T]>>::index::h9a418357440600f2\r\n                               at /rustc/f3e1a954d2ead4e2fc197c7da7d71e6c61bad196/src/libcore/slice/mod.rs:2806\r\n  15:     0x55837641bbc8 - core::slice::<impl core::ops::index::Index<I> for [T]>::index::h009d01a722862def\r\n                               at /rustc/f3e1a954d2ead4e2fc197c7da7d71e6c61bad196/src/libcore/slice/mod.rs:2657\r\n  16:     0x55837642936b - <alloc::vec::Vec<T> as core::ops::index::Index<I>>::index::h9efae8ea21296d55\r\n                               at /rustc/f3e1a954d2ead4e2fc197c7da7d71e6c61bad196/src/liballoc/vec.rs:1871\r\n  17:     0x55837640f841 - <alacritty_terminal::grid::row::Row<T> as core::ops::index::Index<alacritty_terminal::index::Column>>::index::h56b7f751864926eb\r\n                               at alacritty_terminal/src/grid/row.rs:184\r\n  18:     0x558375e68418 - alacritty_terminal::term::Term<T>::line_to_string::hcd1799424544a60e\r\n                               at /home/tom/src/alacritty/alacritty_terminal/src/term/mod.rs:1017\r\n  19:     0x558375e69062 - alacritty_terminal::term::Term<T>::bounds_to_string::hf2d722a1a22b15a8\r\n                               at /home/tom/src/alacritty/alacritty_terminal/src/term/mod.rs:998\r\n  20:     0x558375e697ee - alacritty_terminal::term::Term<T>::selection_to_string::ha8f0c43654ae4f2e\r\n                               at /home/tom/src/alacritty/alacritty_terminal/src/term/mod.rs:984\r\n  21:     0x558375ed5550 - <alacritty::event::ActionContext<N,T> as alacritty::input::ActionContext<T>>::copy_selection::h348713f4efc7c375\r\n                               at alacritty/src/event.rs:98\r\n  22:     0x558375e45541 - alacritty::input::Processor<T,A>::copy_selection::h14d534540ea508e5\r\n                               at alacritty/src/input.rs:722\r\n  23:     0x558375e4301a - alacritty::input::Processor<T,A>::on_mouse_release::hcf1054f6c97d4950\r\n                               at alacritty/src/input.rs:446\r\n  24:     0x558375e446bc - alacritty::input::Processor<T,A>::mouse_input::h51f20d6c25ab3a3f\r\n                               at alacritty/src/input.rs:586\r\n  25:     0x558375ed865a - alacritty::event::Processor<N>::handle_event::h035ed1f8ff095582\r\n                               at alacritty/src/event.rs:553\r\n  26:     0x558375ed7b29 - alacritty::event::Processor<N>::run::{{closure}}::h2ec86c80b7485994\r\n                               at alacritty/src/event.rs:423\r\n  27:     0x558375d3d88d - winit::platform_impl::platform::sticky_exit_callback::he781859785474044\r\n                               at /home/tom/.cargo/registry/src/github.com-1ecc6299db9ec823/winit-0.21.0/src/platform_impl/linux/mod.rs:697\r\n  28:     0x558375cf3991 - winit::platform_impl::platform::wayland::event_loop::EventLoop<T>::run_return::h1537d289b108de40\r\n                               at /home/tom/.cargo/registry/src/github.com-1ecc6299db9ec823/winit-0.21.0/src/platform_impl/linux/wayland/event_loop.rs:527\r\n  29:     0x558375d3c82d - winit::platform_impl::platform::EventLoop<T>::run_return::h339f35ded9981b53\r\n                               at /home/tom/.cargo/registry/src/github.com-1ecc6299db9ec823/winit-0.21.0/src/platform_impl/linux/mod.rs:633\r\n  30:     0x558375cb2e05 - <winit::event_loop::EventLoop<T> as winit::platform::desktop::EventLoopExtDesktop>::run_return::he39b9718045b2846\r\n                               at /home/tom/.cargo/registry/src/github.com-1ecc6299db9ec823/winit-0.21.0/src/platform/desktop.rs:51\r\n  31:     0x558375ed6b9b - alacritty::event::Processor<N>::run::ha5d100ccbfe7d8b6\r\n                               at alacritty/src/event.rs:356\r\n  32:     0x558375cf1f55 - alacritty::run::h6895cfcbce406cd8\r\n                               at alacritty/src/main.rs:206\r\n  33:     0x558375cf090b - alacritty::main::h3464407a4b55797c\r\n                               at alacritty/src/main.rs:112\r\n  34:     0x558375ebef20 - std::rt::lang_start::{{closure}}::ha5f115a6c0114bd5\r\n                               at /rustc/f3e1a954d2ead4e2fc197c7da7d71e6c61bad196/src/libstd/rt.rs:67\r\n  35:     0x5583769f98f3 - std::rt::lang_start_internal::{{closure}}::h4aedff5d9863b36b\r\n                               at src/libstd/rt.rs:52\r\n  36:     0x5583769f98f3 - std::panicking::try::do_call::h0630fe3da32a089b\r\n                               at src/libstd/panicking.rs:292\r\n  37:     0x558376a0290a - __rust_maybe_catch_panic\r\n                               at src/libpanic_unwind/lib.rs:78\r\n  38:     0x5583769fa340 - std::panicking::try::hdfbe2fd873ac646c\r\n                               at src/libstd/panicking.rs:270\r\n  39:     0x5583769fa340 - std::panic::catch_unwind::hd7a9c10fa2bee1bc\r\n                               at src/libstd/panic.rs:394\r\n  40:     0x5583769fa340 - std::rt::lang_start_internal::hb8081e0e7e42ac0d\r\n                               at src/libstd/rt.rs:51\r\n  41:     0x558375ebeef9 - std::rt::lang_start::h8ffbbc372f2f8095\r\n                               at /rustc/f3e1a954d2ead4e2fc197c7da7d71e6c61bad196/src/libstd/rt.rs:67\r\n  42:     0x558375cf251a - main\r\n  43:     0x7f2029819023 - __libc_start_main\r\n  44:     0x558375c8919e - _start\r\n  45:                0x0 - <unknown>\r\n```\r\n","closed_by":{"login":"kchibisov","id":27620401,"node_id":"MDQ6VXNlcjI3NjIwNDAx","avatar_url":"https://avatars.githubusercontent.com/u/27620401?v=4","gravatar_id":"","url":"https://api.github.com/users/kchibisov","html_url":"https://github.com/kchibisov","followers_url":"https://api.github.com/users/kchibisov/followers","following_url":"https://api.github.com/users/kchibisov/following{/other_user}","gists_url":"https://api.github.com/users/kchibisov/gists{/gist_id}","starred_url":"https://api.github.com/users/kchibisov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchibisov/subscriptions","organizations_url":"https://api.github.com/users/kchibisov/orgs","repos_url":"https://api.github.com/users/kchibisov/repos","events_url":"https://api.github.com/users/kchibisov/events{/privacy}","received_events_url":"https://api.github.com/users/kchibisov/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/alacritty/alacritty/issues/3446/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/alacritty/alacritty/issues/3446/timeline","performed_via_github_app":null,"state_reason":"completed"}