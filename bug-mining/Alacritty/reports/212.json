{"url":"https://api.github.com/repos/alacritty/alacritty/issues/5315","repository_url":"https://api.github.com/repos/alacritty/alacritty","labels_url":"https://api.github.com/repos/alacritty/alacritty/issues/5315/labels{/name}","comments_url":"https://api.github.com/repos/alacritty/alacritty/issues/5315/comments","events_url":"https://api.github.com/repos/alacritty/alacritty/issues/5315/events","html_url":"https://github.com/alacritty/alacritty/issues/5315","id":940255715,"node_id":"MDU6SXNzdWU5NDAyNTU3MTU=","number":5315,"title":"Debug mode crash in hint update","user":{"login":"chrisduerr","id":8886672,"node_id":"MDQ6VXNlcjg4ODY2NzI=","avatar_url":"https://avatars.githubusercontent.com/u/8886672?v=4","gravatar_id":"","url":"https://api.github.com/users/chrisduerr","html_url":"https://github.com/chrisduerr","followers_url":"https://api.github.com/users/chrisduerr/followers","following_url":"https://api.github.com/users/chrisduerr/following{/other_user}","gists_url":"https://api.github.com/users/chrisduerr/gists{/gist_id}","starred_url":"https://api.github.com/users/chrisduerr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrisduerr/subscriptions","organizations_url":"https://api.github.com/users/chrisduerr/orgs","repos_url":"https://api.github.com/users/chrisduerr/repos","events_url":"https://api.github.com/users/chrisduerr/events{/privacy}","received_events_url":"https://api.github.com/users/chrisduerr/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":327960155,"node_id":"MDU6TGFiZWwzMjc5NjAxNTU=","url":"https://api.github.com/repos/alacritty/alacritty/labels/B%20-%20bug","name":"B - bug","color":"c6071e","default":false,"description":""},{"id":1217212231,"node_id":"MDU6TGFiZWwxMjE3MjEyMjMx","url":"https://api.github.com/repos/alacritty/alacritty/labels/B%20-%20regression","name":"B - regression","color":"c6071e","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"chrisduerr","id":8886672,"node_id":"MDQ6VXNlcjg4ODY2NzI=","avatar_url":"https://avatars.githubusercontent.com/u/8886672?v=4","gravatar_id":"","url":"https://api.github.com/users/chrisduerr","html_url":"https://github.com/chrisduerr","followers_url":"https://api.github.com/users/chrisduerr/followers","following_url":"https://api.github.com/users/chrisduerr/following{/other_user}","gists_url":"https://api.github.com/users/chrisduerr/gists{/gist_id}","starred_url":"https://api.github.com/users/chrisduerr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrisduerr/subscriptions","organizations_url":"https://api.github.com/users/chrisduerr/orgs","repos_url":"https://api.github.com/users/chrisduerr/repos","events_url":"https://api.github.com/users/chrisduerr/events{/privacy}","received_events_url":"https://api.github.com/users/chrisduerr/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"chrisduerr","id":8886672,"node_id":"MDQ6VXNlcjg4ODY2NzI=","avatar_url":"https://avatars.githubusercontent.com/u/8886672?v=4","gravatar_id":"","url":"https://api.github.com/users/chrisduerr","html_url":"https://github.com/chrisduerr","followers_url":"https://api.github.com/users/chrisduerr/followers","following_url":"https://api.github.com/users/chrisduerr/following{/other_user}","gists_url":"https://api.github.com/users/chrisduerr/gists{/gist_id}","starred_url":"https://api.github.com/users/chrisduerr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrisduerr/subscriptions","organizations_url":"https://api.github.com/users/chrisduerr/orgs","repos_url":"https://api.github.com/users/chrisduerr/repos","events_url":"https://api.github.com/users/chrisduerr/events{/privacy}","received_events_url":"https://api.github.com/users/chrisduerr/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/alacritty/alacritty/milestones/19","html_url":"https://github.com/alacritty/alacritty/milestone/19","labels_url":"https://api.github.com/repos/alacritty/alacritty/milestones/19/labels","id":6381659,"node_id":"MDk6TWlsZXN0b25lNjM4MTY1OQ==","number":19,"title":"Version 0.9.0","description":"","creator":{"login":"chrisduerr","id":8886672,"node_id":"MDQ6VXNlcjg4ODY2NzI=","avatar_url":"https://avatars.githubusercontent.com/u/8886672?v=4","gravatar_id":"","url":"https://api.github.com/users/chrisduerr","html_url":"https://github.com/chrisduerr","followers_url":"https://api.github.com/users/chrisduerr/followers","following_url":"https://api.github.com/users/chrisduerr/following{/other_user}","gists_url":"https://api.github.com/users/chrisduerr/gists{/gist_id}","starred_url":"https://api.github.com/users/chrisduerr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrisduerr/subscriptions","organizations_url":"https://api.github.com/users/chrisduerr/orgs","repos_url":"https://api.github.com/users/chrisduerr/repos","events_url":"https://api.github.com/users/chrisduerr/events{/privacy}","received_events_url":"https://api.github.com/users/chrisduerr/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":15,"state":"closed","created_at":"2021-02-02T09:38:02Z","updated_at":"2021-08-04T22:34:00Z","due_on":null,"closed_at":"2021-08-04T22:34:00Z"},"comments":0,"created_at":"2021-07-08T22:06:56Z","updated_at":"2021-07-13T23:58:33Z","closed_at":"2021-07-12T01:22:49Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"It seems like searching in vi mode with history present causes Alacritty to crash in debug mode and freeze in release.\r\n\r\n<details>\r\n<summary>Backtrace</summary>\r\n\r\n```\r\nthread 'main' panicked at 'assertion failed: requested.0 < self.visible_lines as i32', alacritty_terminal/src/grid/storage.rs:218:9\r\nstack backtrace:\r\n   0: rust_begin_unwind\r\n             at /rustc/d2b04f075c0ce010758c4c8674152ff89d1d73f3/library/std/src/panicking.rs:515:5\r\n   1: core::panicking::panic_fmt\r\n             at /rustc/d2b04f075c0ce010758c4c8674152ff89d1d73f3/library/core/src/panicking.rs:92:14\r\n   2: core::panicking::panic\r\n             at /rustc/d2b04f075c0ce010758c4c8674152ff89d1d73f3/library/core/src/panicking.rs:50:5\r\n   3: alacritty_terminal::grid::storage::Storage<T>::compute_index\r\n             at ./alacritty_terminal/src/grid/storage.rs:218:9\r\n   4: <alacritty_terminal::grid::storage::Storage<T> as core::ops::index::Index<alacritty_terminal::index::Line>>::index\r\n             at ./alacritty_terminal/src/grid/storage.rs:254:21\r\n   5: <alacritty_terminal::grid::Grid<T> as core::ops::index::Index<alacritty_terminal::index::Line>>::index\r\n             at ./alacritty_terminal/src/grid/mod.rs:448:10\r\n   6: <alacritty_terminal::grid::Grid<T> as core::ops::index::Index<alacritty_terminal::index::Point>>::index\r\n             at ./alacritty_terminal/src/grid/mod.rs:464:10\r\n   7: alacritty_terminal::grid::GridIterator<T>::cell\r\n             at ./alacritty_terminal/src/grid/mod.rs:578:10\r\n   8: alacritty_terminal::term::search::<impl alacritty_terminal::term::Term<T>>::regex_search\r\n             at ./alacritty_terminal/src/term/search.rs:209:24\r\n   9: alacritty_terminal::term::search::<impl alacritty_terminal::term::Term<T>>::regex_search_right\r\n             at ./alacritty_terminal/src/term/search.rs:178:25\r\n  10: alacritty_terminal::term::search::RegexIter<T>::next_match\r\n             at ./alacritty_terminal/src/term/search.rs:467:33\r\n  11: <alacritty_terminal::term::search::RegexIter<T> as core::iter::traits::iterator::Iterator>::next\r\n             at ./alacritty_terminal/src/term/search.rs:486:27\r\n  12: core::iter::traits::iterator::Iterator::try_fold\r\n             at /rustc/d2b04f075c0ce010758c4c8674152ff89d1d73f3/library/core/src/iter/traits/iterator.rs:1996:29\r\n  13: core::iter::traits::iterator::Iterator::find\r\n             at /rustc/d2b04f075c0ce010758c4c8674152ff89d1d73f3/library/core/src/iter/traits/iterator.rs:2385:9\r\n  14: alacritty::display::hint::highlighted_at::{{closure}}::{{closure}}\r\n             at ./alacritty/src/display/hint.rs:274:31\r\n  15: alacritty::config::ui_config::LazyRegex::with_compiled\r\n             at ./alacritty/src/config/ui_config.rs:368:9\r\n  16: alacritty::display::hint::highlighted_at::{{closure}}\r\n             at ./alacritty/src/display/hint.rs:262:9\r\n  17: <core::slice::iter::Iter<T> as core::iter::traits::iterator::Iterator>::find_map\r\n             at /rustc/d2b04f075c0ce010758c4c8674152ff89d1d73f3/library/core/src/slice/iter/macros.rs:268:38\r\n  18: alacritty::display::hint::highlighted_at\r\n             at ./alacritty/src/display/hint.rs:251:5\r\n  19: alacritty::display::Display::update_highlighted_hints\r\n             at ./alacritty/src/display/mod.rs:673:13\r\n  20: alacritty::event::Processor<N>::run::{{closure}}\r\n             at ./alacritty/src/event.rs:1117:31\r\n  21: winit::platform_impl::platform::sticky_exit_callback\r\n             at /home/undeadleech/.cargo/registry/src/github.com-1ecc6299db9ec823/winit-0.24.0/src/platform_impl/linux/mod.rs:736:5\r\n  22: winit::platform_impl::platform::x11::EventLoop<T>::run_return\r\n             at /home/undeadleech/.cargo/registry/src/github.com-1ecc6299db9ec823/winit-0.24.0/src/platform_impl/linux/x11/mod.rs:330:17\r\n  23: winit::platform_impl::platform::EventLoop<T>::run_return\r\n             at /home/undeadleech/.cargo/registry/src/github.com-1ecc6299db9ec823/winit-0.24.0/src/platform_impl/linux/mod.rs:645:56\r\n  24: <winit::event_loop::EventLoop<T> as winit::platform::run_return::EventLoopExtRunReturn>::run_return\r\n             at /home/undeadleech/.cargo/registry/src/github.com-1ecc6299db9ec823/winit-0.24.0/src/platform/run_return.rs:56:9\r\n  25: alacritty::event::Processor<N>::run\r\n             at ./alacritty/src/event.rs:1029:9\r\n  26: alacritty::run\r\n             at ./alacritty/src/main.rs:204:5\r\n  27: alacritty::main\r\n             at ./alacritty/src/main.rs:102:23\r\n  28: core::ops::function::FnOnce::call_once\r\n             at /rustc/d2b04f075c0ce010758c4c8674152ff89d1d73f3/library/core/src/ops/function.rs:227:5\r\nnote: Some details are omitted, run with `RUST_BACKTRACE=full` for a verbose backtrace.\r\n```\r\n\r\n</details>","closed_by":{"login":"chrisduerr","id":8886672,"node_id":"MDQ6VXNlcjg4ODY2NzI=","avatar_url":"https://avatars.githubusercontent.com/u/8886672?v=4","gravatar_id":"","url":"https://api.github.com/users/chrisduerr","html_url":"https://github.com/chrisduerr","followers_url":"https://api.github.com/users/chrisduerr/followers","following_url":"https://api.github.com/users/chrisduerr/following{/other_user}","gists_url":"https://api.github.com/users/chrisduerr/gists{/gist_id}","starred_url":"https://api.github.com/users/chrisduerr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrisduerr/subscriptions","organizations_url":"https://api.github.com/users/chrisduerr/orgs","repos_url":"https://api.github.com/users/chrisduerr/repos","events_url":"https://api.github.com/users/chrisduerr/events{/privacy}","received_events_url":"https://api.github.com/users/chrisduerr/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/alacritty/alacritty/issues/5315/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/alacritty/alacritty/issues/5315/timeline","performed_via_github_app":null,"state_reason":"completed"}