{"url":"https://api.github.com/repos/alacritty/alacritty/issues/7146","repository_url":"https://api.github.com/repos/alacritty/alacritty","labels_url":"https://api.github.com/repos/alacritty/alacritty/issues/7146/labels{/name}","comments_url":"https://api.github.com/repos/alacritty/alacritty/issues/7146/comments","events_url":"https://api.github.com/repos/alacritty/alacritty/issues/7146/events","html_url":"https://github.com/alacritty/alacritty/issues/7146","id":1853307285,"node_id":"I_kwDOAxkop85udzmV","number":7146,"title":"alacritty crashes when closed. Hyprland, Wayland","user":{"login":"pd2s","id":114729498,"node_id":"U_kgDOBtaiGg","avatar_url":"https://avatars.githubusercontent.com/u/114729498?v=4","gravatar_id":"","url":"https://api.github.com/users/pd2s","html_url":"https://github.com/pd2s","followers_url":"https://api.github.com/users/pd2s/followers","following_url":"https://api.github.com/users/pd2s/following{/other_user}","gists_url":"https://api.github.com/users/pd2s/gists{/gist_id}","starred_url":"https://api.github.com/users/pd2s/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pd2s/subscriptions","organizations_url":"https://api.github.com/users/pd2s/orgs","repos_url":"https://api.github.com/users/pd2s/repos","events_url":"https://api.github.com/users/pd2s/events{/privacy}","received_events_url":"https://api.github.com/users/pd2s/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":327960158,"node_id":"MDU6TGFiZWwzMjc5NjAxNTg=","url":"https://api.github.com/repos/alacritty/alacritty/labels/help%20wanted","name":"help wanted","color":"159818","default":true,"description":null},{"id":638297569,"node_id":"MDU6TGFiZWw2MzgyOTc1Njk=","url":"https://api.github.com/repos/alacritty/alacritty/labels/B%20-%20crash","name":"B - crash","color":"c6071e","default":false,"description":""},{"id":677589047,"node_id":"MDU6TGFiZWw2Nzc1ODkwNDc=","url":"https://api.github.com/repos/alacritty/alacritty/labels/DS%20-%20Wayland","name":"DS - Wayland","color":"63789b","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/alacritty/alacritty/milestones/25","html_url":"https://github.com/alacritty/alacritty/milestone/25","labels_url":"https://api.github.com/repos/alacritty/alacritty/milestones/25/labels","id":8988484,"node_id":"MI_kwDOAxkop84AiSdE","number":25,"title":"Version 0.13.0","description":"","creator":{"login":"kchibisov","id":27620401,"node_id":"MDQ6VXNlcjI3NjIwNDAx","avatar_url":"https://avatars.githubusercontent.com/u/27620401?v=4","gravatar_id":"","url":"https://api.github.com/users/kchibisov","html_url":"https://github.com/kchibisov","followers_url":"https://api.github.com/users/kchibisov/followers","following_url":"https://api.github.com/users/kchibisov/following{/other_user}","gists_url":"https://api.github.com/users/kchibisov/gists{/gist_id}","starred_url":"https://api.github.com/users/kchibisov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchibisov/subscriptions","organizations_url":"https://api.github.com/users/kchibisov/orgs","repos_url":"https://api.github.com/users/kchibisov/repos","events_url":"https://api.github.com/users/kchibisov/events{/privacy}","received_events_url":"https://api.github.com/users/kchibisov/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":37,"state":"closed","created_at":"2023-01-31T21:00:09Z","updated_at":"2023-12-28T09:21:40Z","due_on":null,"closed_at":"2023-12-28T09:21:40Z"},"comments":50,"created_at":"2023-08-16T13:57:15Z","updated_at":"2023-10-21T19:00:16Z","closed_at":"2023-10-21T18:56:23Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Steps to reproduce\r\n1. open alacritty\r\n2. close alacritty\r\n\r\n### Expected behavior\r\nAlacritty closes\r\n\r\n### Actual behavior\r\ncrash\r\n\r\n### System\r\nOS: Arch Linux (kernel 6.4.10-zen2-1-zen)\r\nVersion: alacritty 0.12.2 (9d9982df)\r\nCompositor: Hyprland\r\n\r\n### Logs\r\nCreated log file at \"/tmp/Alacritty-3985.log\"\r\n[0.000000870s] [INFO ] [alacritty] Welcome to Alacritty\r\n[0.000026360s] [INFO ] [alacritty] Version 0.12.2 (9d9982df)\r\n[0.000031220s] [INFO ] [alacritty] Running on Wayland\r\n[0.000183220s] [INFO ] [alacritty] Configuration files loaded from:\r\n                                     \"/home/user/.config/alacritty/alacritty.yml\"\r\n[0.049363487s] [INFO ] [alacritty] Using EGL 1.5\r\n[0.051254478s] [ERROR] [sctk_adwaita] XDG Settings Portal did not return response in time: timeout: 100ms, key: color-scheme\r\n[0.058066502s] [TRACE] [crossfont] Number of fonts is 167\r\n[0.058088242s] [TRACE] [crossfont] Got font path=\"/usr/share/fonts/noto/NotoSans-Bold.ttf\", index=0\r\n[0.058133342s] [DEBUG] [crossfont] Loaded Face Face { ft_face: Font Face: Bold, load_flags: TARGET_LIGHT, render_mode: \"Lcd\", lcd_filter: 1 }\r\n[0.062155994s] [INFO ] [alacritty] Window scale factor: 1\r\n[0.098153124s] [DEBUG] [alacritty] Loading \"Cascadia Mono\" font\r\n[0.098748704s] [TRACE] [crossfont] Number of fonts is 169\r\n[0.098766484s] [TRACE] [crossfont] Got font path=\"/usr/share/fonts/TTF/CascadiaMono.ttf\", index=0\r\n[0.098802854s] [DEBUG] [crossfont] Loaded Face Face { ft_face: Font Face: Regular, load_flags: TARGET_LIGHT, render_mode: \"Lcd\", lcd_filter: 1 }\r\n[0.100419245s] [TRACE] [crossfont] Number of fonts is 167\r\n[0.100434975s] [TRACE] [crossfont] Got font path=\"/usr/share/fonts/TTF/CascadiaMono.ttf\", index=393216\r\n[0.100478015s] [DEBUG] [crossfont] Loaded Face Face { ft_face: Font Face: Bold, load_flags: TARGET_LIGHT, render_mode: \"Lcd\", lcd_filter: 1 }\r\n[0.102089356s] [TRACE] [crossfont] Number of fonts is 170\r\n[0.102104266s] [TRACE] [crossfont] Got font path=\"/usr/share/fonts/TTF/CascadiaMonoItalic.ttf\", index=0\r\n[0.102135896s] [DEBUG] [crossfont] Loaded Face Face { ft_face: Font Face: Italic, load_flags: TARGET_LIGHT, render_mode: \"Lcd\", lcd_filter: 1 }\r\n[0.103806807s] [TRACE] [crossfont] Number of fonts is 168\r\n[0.103821397s] [TRACE] [crossfont] Got font path=\"/usr/share/fonts/TTF/CascadiaMonoItalic.ttf\", index=393216\r\n[0.103857297s] [DEBUG] [crossfont] Loaded Face Face { ft_face: Font Face: Bold Italic, load_flags: TARGET_LIGHT, render_mode: \"Lcd\", lcd_filter: 1 }\r\n[0.163398790s] [INFO ] [alacritty] Running on NVIDIA GeForce RTX 3070 Ti/PCIe/SSE2\r\n[0.163411160s] [INFO ] [alacritty] Using OpenGL 3.3 renderer\r\n[0.164833451s] [DEBUG] [alacritty] Filling glyph cache with common glyphs\r\n[0.169027953s] [INFO ] [alacritty] Cell size: 19 x 38\r\n[0.169037493s] [INFO ] [alacritty] Padding: 0 x 0\r\n[0.169041903s] [INFO ] [alacritty] Width: 800, Height: 600\r\n[0.169150793s] [TRACE] [alacritty_terminal] Scaling RGB by 0.66 from Rgb { r: 182, g: 182, b: 182 } to Rgb { r: 120, g: 120, b: 120 }\r\n[0.169159753s] [TRACE] [alacritty] Deriving dim colors from normal colors\r\n[0.169163543s] [TRACE] [alacritty_terminal] Scaling RGB by 0.66 from Rgb { r: 0, g: 0, b: 0 } to Rgb { r: 0, g: 0, b: 0 }\r\n[0.169167693s] [TRACE] [alacritty_terminal] Scaling RGB by 0.66 from Rgb { r: 153, g: 0, b: 0 } to Rgb { r: 100, g: 0, b: 0 }\r\n[0.169171533s] [TRACE] [alacritty_terminal] Scaling RGB by 0.66 from Rgb { r: 0, g: 166, b: 0 } to Rgb { r: 0, g: 109, b: 0 }\r\n[0.169175923s] [TRACE] [alacritty_terminal] Scaling RGB by 0.66 from Rgb { r: 153, g: 153, b: 0 } to Rgb { r: 100, g: 100, b: 0 }\r\n[0.169180113s] [TRACE] [alacritty_terminal] Scaling RGB by 0.66 from Rgb { r: 0, g: 0, b: 178 } to Rgb { r: 0, g: 0, b: 117 }\r\n[0.169184303s] [TRACE] [alacritty_terminal] Scaling RGB by 0.66 from Rgb { r: 178, g: 0, b: 178 } to Rgb { r: 117, g: 0, b: 117 }\r\n[0.169188443s] [TRACE] [alacritty_terminal] Scaling RGB by 0.66 from Rgb { r: 0, g: 166, b: 178 } to Rgb { r: 0, g: 109, b: 117 }\r\n[0.169192483s] [TRACE] [alacritty_terminal] Scaling RGB by 0.66 from Rgb { r: 191, g: 191, b: 191 } to Rgb { r: 126, g: 126, b: 126 }\r\n[0.169197293s] [INFO ] [alacritty] PTY dimensions: 15 x 42\r\n[0.170674494s] [INFO ] [alacritty] Initialisation complete\r\n[0.171534584s] [TRACE] [crossfont] Number of fonts is 169\r\n[0.172085635s] [TRACE] [crossfont] Number of fonts is 167\r\n[0.172631735s] [TRACE] [crossfont] Number of fonts is 170\r\n[0.173176275s] [TRACE] [crossfont] Number of fonts is 168\r\n[0.173223045s] [INFO ] [alacritty] Font size changed to Size(48) with scale factor of 1\r\n[0.173229555s] [INFO ] [alacritty] Cell size: 19 x 38\r\n[0.173242155s] [DEBUG] [alacritty_terminal] New num_cols is 42 and num_lines is 10\r\n[0.176676017s] [INFO ] [alacritty] Padding: 0 x 0\r\n[0.176684147s] [INFO ] [alacritty] Width: 800, Height: 600\r\n[0.176699347s] [TRACE] [alacritty_terminal] Carriage return\r\n[0.176713667s] [TRACE] [alacritty_terminal] Linefeed\r\n[0.177474488s] [TRACE] [alacritty_terminal] Setting mode: BracketedPaste\r\n[0.182479500s] [TRACE] [alacritty_terminal] Setting title to 'Some(\"~\")'\r\n[0.182490000s] [TRACE] [alacritty_terminal] Setting attribute: Foreground(Named(Black))\r\n[0.182495820s] [TRACE] [alacritty_terminal] Configuring charset G0 as Ascii\r\n[0.182500170s] [TRACE] [alacritty_terminal] Setting attribute: Reset\r\n[0.182504660s] [TRACE] [alacritty_terminal] Carriage return\r\n[0.182510380s] [TRACE] [alacritty_terminal] Setting attribute: Foreground(Named(BrightGreen))\r\n[0.182515370s] [TRACE] [alacritty_terminal] Configuring charset G0 as Ascii\r\n[0.182519660s] [TRACE] [alacritty_terminal] Setting attribute: Reset\r\n[0.182524140s] [TRACE] [alacritty_terminal] Configuring charset G0 as Ascii\r\n[0.182528390s] [TRACE] [alacritty_terminal] Setting attribute: Reset\r\n[0.182532600s] [TRACE] [alacritty_terminal] Configuring charset G0 as Ascii\r\n[0.182536690s] [TRACE] [alacritty_terminal] Setting attribute: Reset\r\n[0.182540720s] [TRACE] [alacritty_terminal] Setting attribute: Foreground(Named(Green))\r\n[0.182547600s] [TRACE] [alacritty_terminal] Configuring charset G0 as Ascii\r\n[0.182551790s] [TRACE] [alacritty_terminal] Setting attribute: Reset\r\n[0.182556110s] [TRACE] [alacritty_terminal] Configuring charset G0 as Ascii\r\n[0.182560440s] [TRACE] [alacritty_terminal] Setting attribute: Reset\r\n[0.182564960s] [TRACE] [alacritty_terminal] Clearing line: Right\r\n[0.182569380s] [TRACE] [alacritty_terminal] Carriage return\r\n[0.182573800s] [TRACE] [alacritty_terminal] Moving forward: 11\r\n[0.220945411s] [TRACE] [crossfont] Number of fonts is 169\r\n[0.221510242s] [TRACE] [crossfont] Number of fonts is 167\r\n[0.222062092s] [TRACE] [crossfont] Number of fonts is 170\r\n[0.222611072s] [TRACE] [crossfont] Number of fonts is 168\r\n[0.222647892s] [INFO ] [alacritty] Font size changed to Size(48) with scale factor of 1\r\n[0.222654052s] [INFO ] [alacritty] Cell size: 19 x 38\r\n[0.222663382s] [DEBUG] [alacritty_terminal] New num_cols is 50 and num_lines is 10\r\n[0.228502306s] [INFO ] [alacritty] Padding: 0 x 0\r\n[0.228512126s] [INFO ] [alacritty] Width: 958, Height: 538\r\nwarning: queue 0x7f5d78000ca0 destroyed while proxies still attached:\r\n  zwp_primary_selection_offer_v1@4278190082 still attached\r\n  wl_data_offer@4278190080 still attached\r\n  zwp_primary_selection_device_v1@26 still attached\r\n  zwp_primary_selection_device_manager_v1@22 still attached\r\n  wl_data_device@25 still attached\r\n  wl_seat@24 still attached\r\n  wl_data_device_manager@23 still attached\r\n  wl_registry@21 still attached\r\nwarning: queue 0x55963971e5c0 destroyed while proxies still attached:\r\n  xdg_wm_base@38 still attached\r\n  wl_output@16 still attached\r\n  wl_output@15 still attached\r\n  wp_fractional_scale_manager_v1@14 still attached\r\n  xdg_activation_v1@13 still attached\r\n  zwp_text_input_manager_v3@12 still attached\r\n  zwp_relative_pointer_manager_v1@11 still attached\r\n  zwp_pointer_constraints_v1@10 still attached\r\n  zxdg_decoration_manager_v1@9 still attached\r\n  wl_seat@8 still attached\r\n  wp_viewporter@7 still attached\r\n  wl_subcompositor@6 still attached\r\n  wl_compositor@5 still attached\r\n  wl_shm@4 still attached\r\n  wl_registry@2 still attached\r\n[3.401194155s] [INFO ] [alacritty] Goodbye\r\nDeleted log file at \"/tmp/Alacritty-3985.log\"\r\nfish: Job 1, 'alacritty -vvv' terminated by signal SIGSEGV (Address boundary error)\r\n\r\n### Coredump\r\n[core.alacritty.1000.b9e9f6d8863e44978041ef467da814e5.3985.1692193963000000.zip](https://github.com/alacritty/alacritty/files/12360166/core.alacritty.1000.b9e9f6d8863e44978041ef467da814e5.3985.1692193963000000.zip)\r\n\r\n                Stack trace of thread 3985:\r\n                #0  0x00007f5d7e15c415 n/a (libwayland-client.so + 0x8415)\r\n                #1  0x00007f5d7e15c573 n/a (libwayland-client.so + 0x8573)\r\n                #2  0x00007f5d7e15e132 wl_proxy_marshal_array_flags (libwayland-client.so + 0xa132)\r\n                #3  0x00007f5d7e15ebda wl_proxy_marshal_flags (libwayland-client.so + 0xabda)\r\n                #4  0x00007f5d7d5a452f n/a (libnvidia-egl-wayland.so.1 + 0x852f)\r\n                #5  0x00007f5d7d5a710f n/a (libnvidia-egl-wayland.so.1 + 0xb10f)\r\n                #6  0x00007f5d7d2acdd0 n/a (libEGL_nvidia.so.0 + 0xacdd0)\r\n                #7  0x00007f5d7d2a2c20 n/a (libEGL_nvidia.so.0 + 0xa2c20)\r\n                #8  0x00007f5d7dc40cc6 n/a (libc.so.6 + 0x40cc6)\r\n                #9  0x00007f5d7dc40e10 exit (libc.so.6 + 0x40e10)\r\n                #10 0x00007f5d7dc27cd7 n/a (libc.so.6 + 0x27cd7)\r\n                #11 0x00007f5d7dc27d8a __libc_start_main (libc.so.6 + 0x27d8a)\r\n                #12 0x00005596383a01b5 n/a (alacritty + 0x8a1b5)\r\n\r\n                Stack trace of thread 4008:\r\n                #0  0x00007f5d7dd039df __poll (libc.so.6 + 0x1039df)\r\n                #1  0x00007f5d76934caf n/a (libnvidia-eglcore.so.535.98 + 0x1534caf)\r\n                #2  0x00007f5d7693361a n/a (libnvidia-eglcore.so.535.98 + 0x153361a)\r\n                #3  0x00007f5d7dc8c9eb n/a (libc.so.6 + 0x8c9eb)\r\n                #4  0x00007f5d7dd1123c n/a (libc.so.6 + 0x11123c)\r\n                ELF object binary architecture: AMD x86-64","closed_by":{"login":"kchibisov","id":27620401,"node_id":"MDQ6VXNlcjI3NjIwNDAx","avatar_url":"https://avatars.githubusercontent.com/u/27620401?v=4","gravatar_id":"","url":"https://api.github.com/users/kchibisov","html_url":"https://github.com/kchibisov","followers_url":"https://api.github.com/users/kchibisov/followers","following_url":"https://api.github.com/users/kchibisov/following{/other_user}","gists_url":"https://api.github.com/users/kchibisov/gists{/gist_id}","starred_url":"https://api.github.com/users/kchibisov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchibisov/subscriptions","organizations_url":"https://api.github.com/users/kchibisov/orgs","repos_url":"https://api.github.com/users/kchibisov/repos","events_url":"https://api.github.com/users/kchibisov/events{/privacy}","received_events_url":"https://api.github.com/users/kchibisov/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/alacritty/alacritty/issues/7146/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/alacritty/alacritty/issues/7146/timeline","performed_via_github_app":null,"state_reason":"completed"}