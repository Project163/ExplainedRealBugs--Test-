{"url":"https://api.github.com/repos/alacritty/alacritty/issues/4206","repository_url":"https://api.github.com/repos/alacritty/alacritty","labels_url":"https://api.github.com/repos/alacritty/alacritty/issues/4206/labels{/name}","comments_url":"https://api.github.com/repos/alacritty/alacritty/issues/4206/comments","events_url":"https://api.github.com/repos/alacritty/alacritty/issues/4206/events","html_url":"https://github.com/alacritty/alacritty/issues/4206","id":694418623,"node_id":"MDU6SXNzdWU2OTQ0MTg2MjM=","number":4206,"title":"[wayland-client error] Attempted to dispatch unknown opcode 0 for wl_shm, aborting.","user":{"login":"grumpey","id":61189565,"node_id":"MDQ6VXNlcjYxMTg5NTY1","avatar_url":"https://avatars.githubusercontent.com/u/61189565?v=4","gravatar_id":"","url":"https://api.github.com/users/grumpey","html_url":"https://github.com/grumpey","followers_url":"https://api.github.com/users/grumpey/followers","following_url":"https://api.github.com/users/grumpey/following{/other_user}","gists_url":"https://api.github.com/users/grumpey/gists{/gist_id}","starred_url":"https://api.github.com/users/grumpey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/grumpey/subscriptions","organizations_url":"https://api.github.com/users/grumpey/orgs","repos_url":"https://api.github.com/users/grumpey/repos","events_url":"https://api.github.com/users/grumpey/events{/privacy}","received_events_url":"https://api.github.com/users/grumpey/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":638297569,"node_id":"MDU6TGFiZWw2MzgyOTc1Njk=","url":"https://api.github.com/repos/alacritty/alacritty/labels/B%20-%20crash","name":"B - crash","color":"c6071e","default":false,"description":""},{"id":677589047,"node_id":"MDU6TGFiZWw2Nzc1ODkwNDc=","url":"https://api.github.com/repos/alacritty/alacritty/labels/DS%20-%20Wayland","name":"DS - Wayland","color":"63789b","default":false,"description":null},{"id":1954290149,"node_id":"MDU6TGFiZWwxOTU0MjkwMTQ5","url":"https://api.github.com/repos/alacritty/alacritty/labels/C%20-%20waiting%20on%20dependency","name":"C - waiting on dependency","color":"2fb56d","default":false,"description":""}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":30,"created_at":"2020-09-06T15:19:11Z","updated_at":"2020-10-12T17:41:15Z","closed_at":"2020-10-07T14:40:51Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":"resolved","sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Alacritty does not launch in Gnome on a wayland session. \r\nWorks in Gnome X11 and in sway session on same machine. \r\n\r\nOS: Fedora 33 Pre-Release\r\nGnome: 3.37.90\r\nWayland: 1.18.0-2\r\nVersion: 0.5.0 and 0.6.0-dev commit 5ee7ae8a274fcc58754aa5a91a14b1dedbb87583\r\n\r\n<details><summary> logs</summary>\r\n \r\n```\r\n> Output of: RUST_BACKTRACE=FULL WAYLAND_DEBUG=1 alacritty -vvv --print-events `\r\n> [2394944.123]  -> wl_display@1.get_registry(new id wl_registry@2)\r\n> [2394944.295]  -> wl_display@1.sync(new id wl_callback@3)\r\n> [2394944.648] wl_display@1.delete_id(3)\r\n> [2394944.760] wl_registry@2.global(1, \"wl_drm\", 2)\r\n> [2394944.878] wl_registry@2.global(2, \"wl_compositor\", 4)\r\n> [2394944.976]  -> wl_registry@2.bind(2, \"wl_compositor\", 4, new id [unknown]@4)\r\n> [2394945.112] wl_registry@2.global(3, \"wl_shm\", 1)\r\n> [2394945.203]  -> wl_registry@2.bind(3, \"wl_shm\", 1, new id [unknown]@5)\r\n> [2394945.751] wl_registry@2.global(4, \"wl_output\", 2)\r\n> [2394945.875]  -> wl_registry@2.bind(4, \"wl_output\", 2, new id [unknown]@6)\r\n> [2394946.038] wl_registry@2.global(5, \"zxdg_output_manager_v1\", 3)\r\n> [2394946.159] wl_registry@2.global(6, \"wl_data_device_manager\", 3)\r\n> [2394946.263] wl_registry@2.global(7, \"zwp_primary_selection_device_manager_v1\", 1)\r\n> [2394946.377] wl_registry@2.global(8, \"gtk_primary_selection_device_manager\", 1)\r\n> [2394946.493] wl_registry@2.global(9, \"wl_subcompositor\", 1)\r\n> [2394946.621] wl_registry@2.global(10, \"xdg_wm_base\", 3)\r\n> [2394946.740] wl_registry@2.global(11, \"zxdg_shell_v6\", 1)\r\n> [2394946.853] wl_registry@2.global(12, \"wl_shell\", 1)\r\n> [2394946.971] wl_registry@2.global(13, \"gtk_shell1\", 3)\r\n> [2394947.086] wl_registry@2.global(14, \"wp_viewporter\", 1)\r\n> [2394947.204] wl_registry@2.global(15, \"zwp_pointer_gestures_v1\", 1)\r\n> [2394947.299] wl_registry@2.global(16, \"zwp_tablet_manager_v2\", 1)\r\n> [2394947.389] wl_registry@2.global(17, \"wl_seat\", 5)\r\n> [2394947.518]  -> wl_registry@2.bind(17, \"wl_seat\", 5, new id [unknown]@7)\r\n> [2394947.678] wl_registry@2.global(18, \"zwp_relative_pointer_manager_v1\", 1)\r\n> [2394947.774]  -> wl_registry@2.bind(18, \"zwp_relative_pointer_manager_v1\", 1, new id [unknown]@8)\r\n> [2394947.904] wl_registry@2.global(19, \"zwp_pointer_constraints_v1\", 1)\r\n> [2394947.998]  -> wl_registry@2.bind(19, \"zwp_pointer_constraints_v1\", 1, new id [unknown]@9)\r\n> [2394948.128] wl_registry@2.global(20, \"zxdg_exporter_v1\", 1)\r\n> [2394948.220] wl_registry@2.global(21, \"zxdg_importer_v1\", 1)\r\n> [2394948.311] wl_registry@2.global(22, \"zwp_linux_dmabuf_v1\", 3)\r\n> [2394948.403] wl_registry@2.global(23, \"zwp_keyboard_shortcuts_inhibit_manager_v1\", 1)\r\n> [2394948.506] wl_registry@2.global(24, \"zwp_text_input_manager_v3\", 1)\r\n> [2394948.757] wl_registry@2.global(25, \"gtk_text_input_manager\", 1)\r\n> [2394948.849] wl_callback@3.done(7585)\r\n> [2394948.896]  -> wl_display@1.sync(new id wl_callback@3)\r\n> [2394949.401] wl_display@1.delete_id(3)\r\n> [2394949.502] wl_shm@5.format(0)\r\n> [2394949.553] wl_shm@5.format(1)\r\n> [2394949.602] wl_shm@5.format(909199186)\r\n> [2394949.672] wl_shm@5.format(808669761)\r\n> [2394949.720] wl_shm@5.format(808669784)\r\n> [2394949.769] wl_shm@5.format(808665665)\r\n> [2394949.817] wl_shm@5.format(808665688)\r\n> [2394949.865] wl_shm@5.format(1211388481)\r\n> [wayland-client error] Attempted to dispatch unknown opcode 0 for wl_shm, aborting.\r\n</details>\r\n```\r\n<details>\r\n<summary>stack trace</summary>\r\n\r\nMessage: Process 21749 (alacritty) of user 1000 dumped core.\r\n                \r\n                Stack trace of thread 21749:\r\n                #0  0x00007f881894dbc5 raise (libc.so.6 + 0x3dbc5)\r\n                #1  0x00007f88189368a4 abort (libc.so.6 + 0x268a4)\r\n                #2  0x0000560b447dc50d _ZN14wayland_client3imp5proxy16proxy_dispatcher17h337ff8d0d37a0733E (alacritty + 0x1a750d)\r\n                #3  0x00007f881853ef33 dispatch_event.isra.0 (libwayland-client.so.0 + 0x6f33)\r\n                #4  0x00007f881853f19c wl_display_dispatch_queue_pending (libwayland-client.so.0 + 0x719c)\r\n                #5  0x00007f88185416ef wl_display_roundtrip_queue (libwayland-client.so.0 + 0x96ef)\r\n                #6  0x0000560b449e2b23 _ZN14wayland_client11event_queue10EventQueue14sync_roundtrip17h99b292052c928c16E (alacritty + 0x3adb23)\r\n                #7  0x0000560b446fa61d _ZN22smithay_client_toolkit3env11Environment20from_display_with_cb17h27cf1234e65d2ffeE (alacritty + 0xc561d)\r\n                #8  0x0000560b447c75f6 _ZN5winit13platform_impl8platform7wayland10event_loop18EventLoop$LT$T$GT$3new17h09c7387da55e48c6E (alacritty + 0x1925f6)\r\n                #9  0x0000560b44745e1d _ZN9alacritty4main17h5d705b9366cf9fb5E (alacritty + 0x110e1d)\r\n                #10 0x0000560b449c1e33 _ZN3std10sys_common9backtrace28__rust_begin_short_backtrace17h07251042be723e2aE (alacritty + 0x38ce33)\r\n                #11 0x0000560b44745a2d main (alacritty + 0x110a2d)\r\n                #12 0x00007f88189381a2 __libc_start_main (libc.so.6 + 0x281a2)\r\n                #13 0x0000560b4469925e _start (alacritty + 0x6425e)\r\n```\r\n","closed_by":{"login":"kchibisov","id":27620401,"node_id":"MDQ6VXNlcjI3NjIwNDAx","avatar_url":"https://avatars.githubusercontent.com/u/27620401?v=4","gravatar_id":"","url":"https://api.github.com/users/kchibisov","html_url":"https://github.com/kchibisov","followers_url":"https://api.github.com/users/kchibisov/followers","following_url":"https://api.github.com/users/kchibisov/following{/other_user}","gists_url":"https://api.github.com/users/kchibisov/gists{/gist_id}","starred_url":"https://api.github.com/users/kchibisov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kchibisov/subscriptions","organizations_url":"https://api.github.com/users/kchibisov/orgs","repos_url":"https://api.github.com/users/kchibisov/repos","events_url":"https://api.github.com/users/kchibisov/events{/privacy}","received_events_url":"https://api.github.com/users/kchibisov/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/alacritty/alacritty/issues/4206/reactions","total_count":8,"+1":8,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/alacritty/alacritty/issues/4206/timeline","performed_via_github_app":null,"state_reason":"completed"}