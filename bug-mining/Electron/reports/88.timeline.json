[{"id":2588527001,"node_id":"MDEyOkxhYmVsZWRFdmVudDI1ODg1MjcwMDE=","url":"https://api.github.com/repos/electron/electron/issues/events/2588527001","actor":{"login":"sofianguy","id":2138661,"node_id":"MDQ6VXNlcjIxMzg2NjE=","avatar_url":"https://avatars.githubusercontent.com/u/2138661?v=4","gravatar_id":"","url":"https://api.github.com/users/sofianguy","html_url":"https://github.com/sofianguy","followers_url":"https://api.github.com/users/sofianguy/followers","following_url":"https://api.github.com/users/sofianguy/following{/other_user}","gists_url":"https://api.github.com/users/sofianguy/gists{/gist_id}","starred_url":"https://api.github.com/users/sofianguy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sofianguy/subscriptions","organizations_url":"https://api.github.com/users/sofianguy/orgs","repos_url":"https://api.github.com/users/sofianguy/repos","events_url":"https://api.github.com/users/sofianguy/events{/privacy}","received_events_url":"https://api.github.com/users/sofianguy/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2019-08-27T21:19:35Z","label":{"name":"4-2-x","color":"8d9ee8"},"performed_via_github_app":null},{"id":2588527004,"node_id":"MDEyOkxhYmVsZWRFdmVudDI1ODg1MjcwMDQ=","url":"https://api.github.com/repos/electron/electron/issues/events/2588527004","actor":{"login":"sofianguy","id":2138661,"node_id":"MDQ6VXNlcjIxMzg2NjE=","avatar_url":"https://avatars.githubusercontent.com/u/2138661?v=4","gravatar_id":"","url":"https://api.github.com/users/sofianguy","html_url":"https://github.com/sofianguy","followers_url":"https://api.github.com/users/sofianguy/followers","following_url":"https://api.github.com/users/sofianguy/following{/other_user}","gists_url":"https://api.github.com/users/sofianguy/gists{/gist_id}","starred_url":"https://api.github.com/users/sofianguy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sofianguy/subscriptions","organizations_url":"https://api.github.com/users/sofianguy/orgs","repos_url":"https://api.github.com/users/sofianguy/repos","events_url":"https://api.github.com/users/sofianguy/events{/privacy}","received_events_url":"https://api.github.com/users/sofianguy/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2019-08-27T21:19:35Z","label":{"name":"bug :beetle:","color":"fbca04"},"performed_via_github_app":null},{"id":2588527005,"node_id":"MDEyOkxhYmVsZWRFdmVudDI1ODg1MjcwMDU=","url":"https://api.github.com/repos/electron/electron/issues/events/2588527005","actor":{"login":"sofianguy","id":2138661,"node_id":"MDQ6VXNlcjIxMzg2NjE=","avatar_url":"https://avatars.githubusercontent.com/u/2138661?v=4","gravatar_id":"","url":"https://api.github.com/users/sofianguy","html_url":"https://github.com/sofianguy","followers_url":"https://api.github.com/users/sofianguy/followers","following_url":"https://api.github.com/users/sofianguy/following{/other_user}","gists_url":"https://api.github.com/users/sofianguy/gists{/gist_id}","starred_url":"https://api.github.com/users/sofianguy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sofianguy/subscriptions","organizations_url":"https://api.github.com/users/sofianguy/orgs","repos_url":"https://api.github.com/users/sofianguy/repos","events_url":"https://api.github.com/users/sofianguy/events{/privacy}","received_events_url":"https://api.github.com/users/sofianguy/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2019-08-27T21:19:35Z","label":{"name":"platform/linux","color":"c7def8"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/electron/electron/issues/comments/527741399","html_url":"https://github.com/electron/electron/issues/19908#issuecomment-527741399","issue_url":"https://api.github.com/repos/electron/electron/issues/19908","id":527741399,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNzc0MTM5OQ==","user":{"login":"CapOM","id":570739,"node_id":"MDQ6VXNlcjU3MDczOQ==","avatar_url":"https://avatars.githubusercontent.com/u/570739?v=4","gravatar_id":"","url":"https://api.github.com/users/CapOM","html_url":"https://github.com/CapOM","followers_url":"https://api.github.com/users/CapOM/followers","following_url":"https://api.github.com/users/CapOM/following{/other_user}","gists_url":"https://api.github.com/users/CapOM/gists{/gist_id}","starred_url":"https://api.github.com/users/CapOM/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CapOM/subscriptions","organizations_url":"https://api.github.com/users/CapOM/orgs","repos_url":"https://api.github.com/users/CapOM/repos","events_url":"https://api.github.com/users/CapOM/events{/privacy}","received_events_url":"https://api.github.com/users/CapOM/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-04T05:05:15Z","updated_at":"2019-09-04T05:05:15Z","body":"Can you try with electron 4.2.10 ?\r\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/electron/electron/issues/comments/527741399/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"CapOM","id":570739,"node_id":"MDQ6VXNlcjU3MDczOQ==","avatar_url":"https://avatars.githubusercontent.com/u/570739?v=4","gravatar_id":"","url":"https://api.github.com/users/CapOM","html_url":"https://github.com/CapOM","followers_url":"https://api.github.com/users/CapOM/followers","following_url":"https://api.github.com/users/CapOM/following{/other_user}","gists_url":"https://api.github.com/users/CapOM/gists{/gist_id}","starred_url":"https://api.github.com/users/CapOM/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CapOM/subscriptions","organizations_url":"https://api.github.com/users/CapOM/orgs","repos_url":"https://api.github.com/users/CapOM/repos","events_url":"https://api.github.com/users/CapOM/events{/privacy}","received_events_url":"https://api.github.com/users/CapOM/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2615869673,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDI2MTU4Njk2NzM=","url":"https://api.github.com/repos/electron/electron/issues/events/2615869673","actor":{"login":"loc","id":1815863,"node_id":"MDQ6VXNlcjE4MTU4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1815863?v=4","gravatar_id":"","url":"https://api.github.com/users/loc","html_url":"https://github.com/loc","followers_url":"https://api.github.com/users/loc/followers","following_url":"https://api.github.com/users/loc/following{/other_user}","gists_url":"https://api.github.com/users/loc/gists{/gist_id}","starred_url":"https://api.github.com/users/loc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/loc/subscriptions","organizations_url":"https://api.github.com/users/loc/orgs","repos_url":"https://api.github.com/users/loc/repos","events_url":"https://api.github.com/users/loc/events{/privacy}","received_events_url":"https://api.github.com/users/loc/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"951cb1a690162b80c06abf0c7915f28e80af7112","commit_url":"https://api.github.com/repos/loc/electron/commits/951cb1a690162b80c06abf0c7915f28e80af7112","created_at":"2019-09-07T00:15:25Z","performed_via_github_app":null},{"actor":{"login":"loc","id":1815863,"node_id":"MDQ6VXNlcjE4MTU4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1815863?v=4","gravatar_id":"","url":"https://api.github.com/users/loc","html_url":"https://github.com/loc","followers_url":"https://api.github.com/users/loc/followers","following_url":"https://api.github.com/users/loc/following{/other_user}","gists_url":"https://api.github.com/users/loc/gists{/gist_id}","starred_url":"https://api.github.com/users/loc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/loc/subscriptions","organizations_url":"https://api.github.com/users/loc/orgs","repos_url":"https://api.github.com/users/loc/repos","events_url":"https://api.github.com/users/loc/events{/privacy}","received_events_url":"https://api.github.com/users/loc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-07T00:30:53Z","updated_at":"2019-09-07T00:30:53Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/electron/electron/issues/20156","repository_url":"https://api.github.com/repos/electron/electron","labels_url":"https://api.github.com/repos/electron/electron/issues/20156/labels{/name}","comments_url":"https://api.github.com/repos/electron/electron/issues/20156/comments","events_url":"https://api.github.com/repos/electron/electron/issues/20156/events","html_url":"https://github.com/electron/electron/pull/20156","id":490569079,"node_id":"MDExOlB1bGxSZXF1ZXN0MzE1MTUwNTU3","number":20156,"title":"fix: free screen capturers immediately after we're finished with them","user":{"login":"loc","id":1815863,"node_id":"MDQ6VXNlcjE4MTU4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1815863?v=4","gravatar_id":"","url":"https://api.github.com/users/loc","html_url":"https://github.com/loc","followers_url":"https://api.github.com/users/loc/followers","following_url":"https://api.github.com/users/loc/following{/other_user}","gists_url":"https://api.github.com/users/loc/gists{/gist_id}","starred_url":"https://api.github.com/users/loc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/loc/subscriptions","organizations_url":"https://api.github.com/users/loc/orgs","repos_url":"https://api.github.com/users/loc/repos","events_url":"https://api.github.com/users/loc/events{/privacy}","received_events_url":"https://api.github.com/users/loc/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2019-09-07T00:30:52Z","updated_at":"2019-11-01T18:47:51Z","closed_at":"2019-09-17T16:48:32Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":9384267,"node_id":"MDEwOlJlcG9zaXRvcnk5Mzg0MjY3","name":"electron","full_name":"electron/electron","private":false,"owner":{"login":"electron","id":13409222,"node_id":"MDEyOk9yZ2FuaXphdGlvbjEzNDA5MjIy","avatar_url":"https://avatars.githubusercontent.com/u/13409222?v=4","gravatar_id":"","url":"https://api.github.com/users/electron","html_url":"https://github.com/electron","followers_url":"https://api.github.com/users/electron/followers","following_url":"https://api.github.com/users/electron/following{/other_user}","gists_url":"https://api.github.com/users/electron/gists{/gist_id}","starred_url":"https://api.github.com/users/electron/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/electron/subscriptions","organizations_url":"https://api.github.com/users/electron/orgs","repos_url":"https://api.github.com/users/electron/repos","events_url":"https://api.github.com/users/electron/events{/privacy}","received_events_url":"https://api.github.com/users/electron/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/electron/electron","description":":electron: Build cross-platform desktop apps with JavaScript, HTML, and CSS","fork":false,"url":"https://api.github.com/repos/electron/electron","forks_url":"https://api.github.com/repos/electron/electron/forks","keys_url":"https://api.github.com/repos/electron/electron/keys{/key_id}","collaborators_url":"https://api.github.com/repos/electron/electron/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/electron/electron/teams","hooks_url":"https://api.github.com/repos/electron/electron/hooks","issue_events_url":"https://api.github.com/repos/electron/electron/issues/events{/number}","events_url":"https://api.github.com/repos/electron/electron/events","assignees_url":"https://api.github.com/repos/electron/electron/assignees{/user}","branches_url":"https://api.github.com/repos/electron/electron/branches{/branch}","tags_url":"https://api.github.com/repos/electron/electron/tags","blobs_url":"https://api.github.com/repos/electron/electron/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/electron/electron/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/electron/electron/git/refs{/sha}","trees_url":"https://api.github.com/repos/electron/electron/git/trees{/sha}","statuses_url":"https://api.github.com/repos/electron/electron/statuses/{sha}","languages_url":"https://api.github.com/repos/electron/electron/languages","stargazers_url":"https://api.github.com/repos/electron/electron/stargazers","contributors_url":"https://api.github.com/repos/electron/electron/contributors","subscribers_url":"https://api.github.com/repos/electron/electron/subscribers","subscription_url":"https://api.github.com/repos/electron/electron/subscription","commits_url":"https://api.github.com/repos/electron/electron/commits{/sha}","git_commits_url":"https://api.github.com/repos/electron/electron/git/commits{/sha}","comments_url":"https://api.github.com/repos/electron/electron/comments{/number}","issue_comment_url":"https://api.github.com/repos/electron/electron/issues/comments{/number}","contents_url":"https://api.github.com/repos/electron/electron/contents/{+path}","compare_url":"https://api.github.com/repos/electron/electron/compare/{base}...{head}","merges_url":"https://api.github.com/repos/electron/electron/merges","archive_url":"https://api.github.com/repos/electron/electron/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/electron/electron/downloads","issues_url":"https://api.github.com/repos/electron/electron/issues{/number}","pulls_url":"https://api.github.com/repos/electron/electron/pulls{/number}","milestones_url":"https://api.github.com/repos/electron/electron/milestones{/number}","notifications_url":"https://api.github.com/repos/electron/electron/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/electron/electron/labels{/name}","releases_url":"https://api.github.com/repos/electron/electron/releases{/id}","deployments_url":"https://api.github.com/repos/electron/electron/deployments","created_at":"2013-04-12T01:47:36Z","updated_at":"2025-12-12T22:27:51Z","pushed_at":"2025-12-12T23:46:08Z","git_url":"git://github.com/electron/electron.git","ssh_url":"git@github.com:electron/electron.git","clone_url":"https://github.com/electron/electron.git","svn_url":"https://github.com/electron/electron","homepage":"https://electronjs.org","size":185954,"stargazers_count":119361,"watchers_count":119361,"language":"C++","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":16786,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":880,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["c-plus-plus","chrome","css","electron","html","javascript","nodejs","v8","works-with-codespaces"],"visibility":"public","forks":16786,"open_issues":880,"watchers":119361,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/electron/electron/pulls/20156","html_url":"https://github.com/electron/electron/pull/20156","diff_url":"https://github.com/electron/electron/pull/20156.diff","patch_url":"https://github.com/electron/electron/pull/20156.patch","merged_at":"2019-09-17T16:48:31Z"},"body":"#### Description of Change\r\nFixes #17937 and #19908 \r\n\r\nOriginally fixed in #10223, but regressed in #14835, the fix here is to make sure our one-shot DesktopCapturer class destroys its `DesktopMediaList` instances (which in turn hold the real capturers) after it finishes gathering the thumbnails. If you'll recall, we use `DesktopMediaList` in a way that's different from Chrome; theirs is longer lived and capable of updating the thumbnails, ours is single-use, with the periodic thumbnail update overridden in a patch.\r\n\r\nFor good hygiene, we now send the reference to the cpp DesktopCapturer out to pasture after we're done with it (although after this change, a leak of DesktopCapturer would be much less costly, given the `DesktopMediaList`s are being reset).\r\n<!--\r\nThank you for your Pull Request. Please provide a description above and review\r\nthe requirements below.\r\n\r\nContributors guide: https://github.com/electron/electron/blob/master/CONTRIBUTING.md\r\n-->\r\n\r\n#### Checklist\r\n<!-- Remove items that do not apply. For completed items, change [ ] to [x]. -->\r\n\r\n- [x] PR description included and stakeholders cc'd\r\n- [ ] `npm test` passes\r\n- [ ] tests are [changed or added](https://github.com/electron/electron/blob/master/docs/development/testing.md)\r\n- [ ] relevant documentation is changed or added\r\n- [x] PR title follows semantic [commit guidelines](https://github.com/electron/electron/blob/master/docs/development/pull-requests.md#commit-message-guidelines)\r\n- [x] [PR release notes](https://github.com/electron/clerk/blob/master/README.md) describe the change in a way relevant to app developers, and are [capitalized, punctuated, and past tense](https://github.com/electron/clerk/blob/master/README.md#examples).\r\n\r\n#### Release Notes\r\n\r\nNotes: Fixed desktopCapturer leak.\r\n<!-- Please add a one-line description for app developers to read in the release notes, or `no-notes` if no notes relevant to app developers. Examples and help on special cases: https://github.com/electron/clerk/blob/master/README.md#examples -->\r\n","reactions":{"url":"https://api.github.com/repos/electron/electron/issues/20156/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/electron/electron/issues/20156/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":2640597584,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDI2NDA1OTc1ODQ=","url":"https://api.github.com/repos/electron/electron/issues/events/2640597584","actor":{"login":"MarshallOfSound","id":6634592,"node_id":"MDQ6VXNlcjY2MzQ1OTI=","avatar_url":"https://avatars.githubusercontent.com/u/6634592?v=4","gravatar_id":"","url":"https://api.github.com/users/MarshallOfSound","html_url":"https://github.com/MarshallOfSound","followers_url":"https://api.github.com/users/MarshallOfSound/followers","following_url":"https://api.github.com/users/MarshallOfSound/following{/other_user}","gists_url":"https://api.github.com/users/MarshallOfSound/gists{/gist_id}","starred_url":"https://api.github.com/users/MarshallOfSound/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MarshallOfSound/subscriptions","organizations_url":"https://api.github.com/users/MarshallOfSound/orgs","repos_url":"https://api.github.com/users/MarshallOfSound/repos","events_url":"https://api.github.com/users/MarshallOfSound/events{/privacy}","received_events_url":"https://api.github.com/users/MarshallOfSound/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"d2a94e6b1374809fdcda9bbf41fa16dfd56848c8","commit_url":"https://api.github.com/repos/electron/electron/commits/d2a94e6b1374809fdcda9bbf41fa16dfd56848c8","created_at":"2019-09-17T16:48:33Z","performed_via_github_app":null},{"id":2640598381,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDI2NDA1OTgzODE=","url":"https://api.github.com/repos/electron/electron/issues/events/2640598381","actor":{"login":"trop[bot]","id":37223003,"node_id":"MDM6Qm90MzcyMjMwMDM=","avatar_url":"https://avatars.githubusercontent.com/in/9879?v=4","gravatar_id":"","url":"https://api.github.com/users/trop%5Bbot%5D","html_url":"https://github.com/apps/trop","followers_url":"https://api.github.com/users/trop%5Bbot%5D/followers","following_url":"https://api.github.com/users/trop%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/trop%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/trop%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trop%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/trop%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/trop%5Bbot%5D/repos","events_url":"https://api.github.com/users/trop%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/trop%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"d7acfa880e08ac96490cd0c570bac4f2b6d49597","commit_url":"https://api.github.com/repos/electron/electron/commits/d7acfa880e08ac96490cd0c570bac4f2b6d49597","created_at":"2019-09-17T16:48:51Z","performed_via_github_app":null},{"id":2645207044,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDI2NDUyMDcwNDQ=","url":"https://api.github.com/repos/electron/electron/issues/events/2645207044","actor":{"login":"codebytere","id":2036040,"node_id":"MDQ6VXNlcjIwMzYwNDA=","avatar_url":"https://avatars.githubusercontent.com/u/2036040?v=4","gravatar_id":"","url":"https://api.github.com/users/codebytere","html_url":"https://github.com/codebytere","followers_url":"https://api.github.com/users/codebytere/followers","following_url":"https://api.github.com/users/codebytere/following{/other_user}","gists_url":"https://api.github.com/users/codebytere/gists{/gist_id}","starred_url":"https://api.github.com/users/codebytere/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codebytere/subscriptions","organizations_url":"https://api.github.com/users/codebytere/orgs","repos_url":"https://api.github.com/users/codebytere/repos","events_url":"https://api.github.com/users/codebytere/events{/privacy}","received_events_url":"https://api.github.com/users/codebytere/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"7da461061a27e64a8b32cd645983d2f044d8cb05","commit_url":"https://api.github.com/repos/electron/electron/commits/7da461061a27e64a8b32cd645983d2f044d8cb05","created_at":"2019-09-18T23:22:25Z","performed_via_github_app":null},{"id":2661846820,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDI2NjE4NDY4MjA=","url":"https://api.github.com/repos/electron/electron/issues/events/2661846820","actor":{"login":"jkleinsc","id":609052,"node_id":"MDQ6VXNlcjYwOTA1Mg==","avatar_url":"https://avatars.githubusercontent.com/u/609052?v=4","gravatar_id":"","url":"https://api.github.com/users/jkleinsc","html_url":"https://github.com/jkleinsc","followers_url":"https://api.github.com/users/jkleinsc/followers","following_url":"https://api.github.com/users/jkleinsc/following{/other_user}","gists_url":"https://api.github.com/users/jkleinsc/gists{/gist_id}","starred_url":"https://api.github.com/users/jkleinsc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jkleinsc/subscriptions","organizations_url":"https://api.github.com/users/jkleinsc/orgs","repos_url":"https://api.github.com/users/jkleinsc/repos","events_url":"https://api.github.com/users/jkleinsc/events{/privacy}","received_events_url":"https://api.github.com/users/jkleinsc/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"325bdfaf23fa99cf25895de61a3d0078f8883534","commit_url":"https://api.github.com/repos/electron/electron/commits/325bdfaf23fa99cf25895de61a3d0078f8883534","created_at":"2019-09-25T14:10:48Z","performed_via_github_app":null},{"id":2746932690,"node_id":"MDExOkNsb3NlZEV2ZW50Mjc0NjkzMjY5MA==","url":"https://api.github.com/repos/electron/electron/issues/events/2746932690","actor":{"login":"miniak","id":1281234,"node_id":"MDQ6VXNlcjEyODEyMzQ=","avatar_url":"https://avatars.githubusercontent.com/u/1281234?v=4","gravatar_id":"","url":"https://api.github.com/users/miniak","html_url":"https://github.com/miniak","followers_url":"https://api.github.com/users/miniak/followers","following_url":"https://api.github.com/users/miniak/following{/other_user}","gists_url":"https://api.github.com/users/miniak/gists{/gist_id}","starred_url":"https://api.github.com/users/miniak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/miniak/subscriptions","organizations_url":"https://api.github.com/users/miniak/orgs","repos_url":"https://api.github.com/users/miniak/repos","events_url":"https://api.github.com/users/miniak/events{/privacy}","received_events_url":"https://api.github.com/users/miniak/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-10-27T22:20:44Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/electron/electron/issues/comments/546740967","html_url":"https://github.com/electron/electron/issues/19908#issuecomment-546740967","issue_url":"https://api.github.com/repos/electron/electron/issues/19908","id":546740967,"node_id":"MDEyOklzc3VlQ29tbWVudDU0Njc0MDk2Nw==","user":{"login":"miniak","id":1281234,"node_id":"MDQ6VXNlcjEyODEyMzQ=","avatar_url":"https://avatars.githubusercontent.com/u/1281234?v=4","gravatar_id":"","url":"https://api.github.com/users/miniak","html_url":"https://github.com/miniak","followers_url":"https://api.github.com/users/miniak/followers","following_url":"https://api.github.com/users/miniak/following{/other_user}","gists_url":"https://api.github.com/users/miniak/gists{/gist_id}","starred_url":"https://api.github.com/users/miniak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/miniak/subscriptions","organizations_url":"https://api.github.com/users/miniak/orgs","repos_url":"https://api.github.com/users/miniak/repos","events_url":"https://api.github.com/users/miniak/events{/privacy}","received_events_url":"https://api.github.com/users/miniak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-27T22:22:56Z","updated_at":"2019-10-27T22:22:56Z","body":"```\r\nElectron v4.2.12 started.\r\nrss=45.309952MB, heapTotal=12.324864MB, heapUsed=6.795056MB, external=0.161429MB\r\nrss=130.891776MB, heapTotal=12.849152MB, heapUsed=6.774888MB, external=2.81488MB\r\nrss=131.09248MB, heapTotal=13.37344MB, heapUsed=7.04888MB, external=2.81488MB\r\nrss=131.096576MB, heapTotal=13.37344MB, heapUsed=7.052816MB, external=2.81488MB\r\nrss=131.436544MB, heapTotal=13.37344MB, heapUsed=7.055904MB, external=2.81488MB\r\nrss=131.473408MB, heapTotal=13.37344MB, heapUsed=7.058992MB, external=2.81488MB\r\nElectron exited with code 0.\r\n```","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/electron/electron/issues/comments/546740967/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"miniak","id":1281234,"node_id":"MDQ6VXNlcjEyODEyMzQ=","avatar_url":"https://avatars.githubusercontent.com/u/1281234?v=4","gravatar_id":"","url":"https://api.github.com/users/miniak","html_url":"https://github.com/miniak","followers_url":"https://api.github.com/users/miniak/followers","following_url":"https://api.github.com/users/miniak/following{/other_user}","gists_url":"https://api.github.com/users/miniak/gists{/gist_id}","starred_url":"https://api.github.com/users/miniak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/miniak/subscriptions","organizations_url":"https://api.github.com/users/miniak/orgs","repos_url":"https://api.github.com/users/miniak/repos","events_url":"https://api.github.com/users/miniak/events{/privacy}","received_events_url":"https://api.github.com/users/miniak/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"Senasiko","id":14193002,"node_id":"MDQ6VXNlcjE0MTkzMDAy","avatar_url":"https://avatars.githubusercontent.com/u/14193002?v=4","gravatar_id":"","url":"https://api.github.com/users/Senasiko","html_url":"https://github.com/Senasiko","followers_url":"https://api.github.com/users/Senasiko/followers","following_url":"https://api.github.com/users/Senasiko/following{/other_user}","gists_url":"https://api.github.com/users/Senasiko/gists{/gist_id}","starred_url":"https://api.github.com/users/Senasiko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Senasiko/subscriptions","organizations_url":"https://api.github.com/users/Senasiko/orgs","repos_url":"https://api.github.com/users/Senasiko/repos","events_url":"https://api.github.com/users/Senasiko/events{/privacy}","received_events_url":"https://api.github.com/users/Senasiko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-17T09:54:23Z","updated_at":"2019-12-17T09:54:23Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/electron/electron/issues/21555","repository_url":"https://api.github.com/repos/electron/electron","labels_url":"https://api.github.com/repos/electron/electron/issues/21555/labels{/name}","comments_url":"https://api.github.com/repos/electron/electron/issues/21555/comments","events_url":"https://api.github.com/repos/electron/electron/issues/21555/events","html_url":"https://github.com/electron/electron/issues/21555","id":538956431,"node_id":"MDU6SXNzdWU1Mzg5NTY0MzE=","number":21555,"title":"desktopCapturer.getSources memory leaks","user":{"login":"Senasiko","id":14193002,"node_id":"MDQ6VXNlcjE0MTkzMDAy","avatar_url":"https://avatars.githubusercontent.com/u/14193002?v=4","gravatar_id":"","url":"https://api.github.com/users/Senasiko","html_url":"https://github.com/Senasiko","followers_url":"https://api.github.com/users/Senasiko/followers","following_url":"https://api.github.com/users/Senasiko/following{/other_user}","gists_url":"https://api.github.com/users/Senasiko/gists{/gist_id}","starred_url":"https://api.github.com/users/Senasiko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Senasiko/subscriptions","organizations_url":"https://api.github.com/users/Senasiko/orgs","repos_url":"https://api.github.com/users/Senasiko/repos","events_url":"https://api.github.com/users/Senasiko/events{/privacy}","received_events_url":"https://api.github.com/users/Senasiko/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":97403549,"node_id":"MDU6TGFiZWw5NzQwMzU0OQ==","url":"https://api.github.com/repos/electron/electron/labels/platform/windows","name":"platform/windows","color":"c7def8","default":false,"description":null},{"id":97403606,"node_id":"MDU6TGFiZWw5NzQwMzYwNg==","url":"https://api.github.com/repos/electron/electron/labels/platform/macOS","name":"platform/macOS","color":"c7def8","default":false,"description":null},{"id":520323169,"node_id":"MDU6TGFiZWw1MjAzMjMxNjk=","url":"https://api.github.com/repos/electron/electron/labels/bug%20:beetle:","name":"bug :beetle:","color":"fbca04","default":false,"description":""},{"id":1482096496,"node_id":"MDU6TGFiZWwxNDgyMDk2NDk2","url":"https://api.github.com/repos/electron/electron/labels/8-x-y","name":"8-x-y","color":"ededed","default":false,"description":""},{"id":1630185126,"node_id":"MDU6TGFiZWwxNjMwMTg1MTI2","url":"https://api.github.com/repos/electron/electron/labels/6-1-x","name":"6-1-x","color":"ededed","default":false,"description":""},{"id":2303357178,"node_id":"MDU6TGFiZWwyMzAzMzU3MTc4","url":"https://api.github.com/repos/electron/electron/labels/11-x-y","name":"11-x-y","color":"ededed","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":10,"created_at":"2019-12-17T09:54:23Z","updated_at":"2020-12-17T00:11:40Z","closed_at":"2020-12-17T00:11:40Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":9384267,"node_id":"MDEwOlJlcG9zaXRvcnk5Mzg0MjY3","name":"electron","full_name":"electron/electron","private":false,"owner":{"login":"electron","id":13409222,"node_id":"MDEyOk9yZ2FuaXphdGlvbjEzNDA5MjIy","avatar_url":"https://avatars.githubusercontent.com/u/13409222?v=4","gravatar_id":"","url":"https://api.github.com/users/electron","html_url":"https://github.com/electron","followers_url":"https://api.github.com/users/electron/followers","following_url":"https://api.github.com/users/electron/following{/other_user}","gists_url":"https://api.github.com/users/electron/gists{/gist_id}","starred_url":"https://api.github.com/users/electron/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/electron/subscriptions","organizations_url":"https://api.github.com/users/electron/orgs","repos_url":"https://api.github.com/users/electron/repos","events_url":"https://api.github.com/users/electron/events{/privacy}","received_events_url":"https://api.github.com/users/electron/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/electron/electron","description":":electron: Build cross-platform desktop apps with JavaScript, HTML, and CSS","fork":false,"url":"https://api.github.com/repos/electron/electron","forks_url":"https://api.github.com/repos/electron/electron/forks","keys_url":"https://api.github.com/repos/electron/electron/keys{/key_id}","collaborators_url":"https://api.github.com/repos/electron/electron/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/electron/electron/teams","hooks_url":"https://api.github.com/repos/electron/electron/hooks","issue_events_url":"https://api.github.com/repos/electron/electron/issues/events{/number}","events_url":"https://api.github.com/repos/electron/electron/events","assignees_url":"https://api.github.com/repos/electron/electron/assignees{/user}","branches_url":"https://api.github.com/repos/electron/electron/branches{/branch}","tags_url":"https://api.github.com/repos/electron/electron/tags","blobs_url":"https://api.github.com/repos/electron/electron/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/electron/electron/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/electron/electron/git/refs{/sha}","trees_url":"https://api.github.com/repos/electron/electron/git/trees{/sha}","statuses_url":"https://api.github.com/repos/electron/electron/statuses/{sha}","languages_url":"https://api.github.com/repos/electron/electron/languages","stargazers_url":"https://api.github.com/repos/electron/electron/stargazers","contributors_url":"https://api.github.com/repos/electron/electron/contributors","subscribers_url":"https://api.github.com/repos/electron/electron/subscribers","subscription_url":"https://api.github.com/repos/electron/electron/subscription","commits_url":"https://api.github.com/repos/electron/electron/commits{/sha}","git_commits_url":"https://api.github.com/repos/electron/electron/git/commits{/sha}","comments_url":"https://api.github.com/repos/electron/electron/comments{/number}","issue_comment_url":"https://api.github.com/repos/electron/electron/issues/comments{/number}","contents_url":"https://api.github.com/repos/electron/electron/contents/{+path}","compare_url":"https://api.github.com/repos/electron/electron/compare/{base}...{head}","merges_url":"https://api.github.com/repos/electron/electron/merges","archive_url":"https://api.github.com/repos/electron/electron/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/electron/electron/downloads","issues_url":"https://api.github.com/repos/electron/electron/issues{/number}","pulls_url":"https://api.github.com/repos/electron/electron/pulls{/number}","milestones_url":"https://api.github.com/repos/electron/electron/milestones{/number}","notifications_url":"https://api.github.com/repos/electron/electron/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/electron/electron/labels{/name}","releases_url":"https://api.github.com/repos/electron/electron/releases{/id}","deployments_url":"https://api.github.com/repos/electron/electron/deployments","created_at":"2013-04-12T01:47:36Z","updated_at":"2025-12-12T22:27:51Z","pushed_at":"2025-12-12T23:46:08Z","git_url":"git://github.com/electron/electron.git","ssh_url":"git@github.com:electron/electron.git","clone_url":"https://github.com/electron/electron.git","svn_url":"https://github.com/electron/electron","homepage":"https://electronjs.org","size":185954,"stargazers_count":119361,"watchers_count":119361,"language":"C++","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":16786,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":880,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["c-plus-plus","chrome","css","electron","html","javascript","nodejs","v8","works-with-codespaces"],"visibility":"public","forks":16786,"open_issues":880,"watchers":119361,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"<!--  As an open source project with a dedicated but small maintainer team, it can sometimes take a long time for issues to be addressed so please be patient and we will get back to you as soon as we can.\r\n-->\r\n\r\n### Preflight Checklist\r\n<!-- Please ensure you've completed the following steps by replacing [ ] with [x]-->\r\n\r\n* [x] I have read the [Contributing Guidelines](https://github.com/electron/electron/blob/master/CONTRIBUTING.md) for this project.\r\n* [x] I agree to follow the [Code of Conduct](https://github.com/electron/electron/blob/master/CODE_OF_CONDUCT.md) that this project adheres to.\r\n* [x] I have searched the issue tracker for an issue that matches the one I want to file, without success.\r\n\r\n### Issue Details\r\n\r\n* **Electron Version:**\r\n  * <!-- (output of `node_modules/.bin/electron --version`) e.g. 4.0.3 -->6.1.6\r\n* **Operating System:**\r\n  * <!-- (Platform and Version) e.g. macOS 10.13.6 / Windows 10 (1803) / Ubuntu 18.04 x64 -->macOs 10.14.6\r\n\r\n### Expected Behavior\r\n<!-- A clear and concise description of what you expected to happen. -->\r\nThe Resident set size of the Main process when using desktopCapturer.getSources not growing.\r\n### Actual Behavior\r\n<!-- A clear and concise description of what actually happened. -->\r\nMemory leak in the Main process (rss memory growing) when using the desktopCapturer.getSources method in the Rendering process.\r\n### To Reproduce\r\n<!--\r\nYour best chance of getting this bug looked at quickly is to provide an example.\r\n-->\r\nI just run the code that same with [#19908](https://github.com/electron/electron/issues/19908) in v6.1.6 , and it's well in v4.2.10\r\n#### log in v6.1.6\r\n```\r\nrss=44.941312MB, heapTotal=8.82688MB, heapUsed=4.591224MB, external=1.092509MB\r\nrss=118.259712MB, heapTotal=6.20544MB, heapUsed=4.078576MB, external=1.032391MB\r\nrss=128.548864MB, heapTotal=6.47168MB, heapUsed=4.555952MB, external=1.032391MB\r\nrss=138.698752MB, heapTotal=6.47168MB, heapUsed=4.76792MB, external=1.032391MB\r\nrss=158.441472MB, heapTotal=6.47168MB, heapUsed=4.97628MB, external=1.032391MB\r\nrss=169.381888MB, heapTotal=7.258112MB, heapUsed=5.267584MB, external=1.032391MB\r\nrss=189.546496MB, heapTotal=7.258112MB, heapUsed=5.69024MB, external=1.032391MB\r\nrss=199.540736MB, heapTotal=7.7824MB, heapUsed=5.799064MB, external=1.032391MB\r\nrss=219.68896MB, heapTotal=7.7824MB, heapUsed=6.22848MB, external=1.032391MB\r\n```\r\n#### log in v4.2.10\r\n```\r\nrss=45.207552MB, heapTotal=12.324864MB, heapUsed=6.852656MB, external=0.161429MB\r\nrss=150.91712MB, heapTotal=12.849152MB, heapUsed=6.633424MB, external=1.22608MB\r\nrss=150.892544MB, heapTotal=12.849152MB, heapUsed=6.641872MB, external=1.22608MB\r\nrss=150.859776MB, heapTotal=12.849152MB, heapUsed=6.64536MB, external=1.22608MB\r\n```\r\n> main.js\r\n```js\r\nconst {\r\n    app,\r\n    BrowserWindow\r\n} = require('electron');\r\nconst url = require('url');\r\nconst path = require('path');\r\n\r\nlet win;\r\n\r\nconst logBytes = x => `${x[0]}=${x[1] / (1000.0 * 1000)}MB`;\r\n\r\nconst logMemory = () => {\r\n    console.log(\r\n        Object.entries(process.memoryUsage())\r\n        .map(logBytes)\r\n        .join(', ')\r\n    );\r\n};\r\n\r\nconst createWindow = () => {\r\n    win = new BrowserWindow();\r\n    win.loadURL(url.format({\r\n        pathname: path.join(__dirname, 'index.html'),\r\n        protocol: 'file:',\r\n        slashes: true\r\n    }));\r\n};\r\n\r\ntry {\r\n    app.on('ready', createWindow);\r\n} catch (e) {\r\n    console.err(e);\r\n}\r\n\r\nlogMemory();\r\nsetInterval(logMemory, 10000);\r\n```\r\n> index.html\r\n```html\r\n<!DOCTYPE html>\r\n<html>\r\n  <head>\r\n    <meta charset=\"UTF-8\">\r\n    <title>Hello World!</title>\r\n  </head>\r\n  <body>\r\n    <h1>Hello World!</h1>\r\n    We are using Node.js <span id=\"node-version\"></span>,\r\n    Chromium <span id=\"chrome-version\"></span>,\r\n    and Electron <span id=\"electron-version\"></span>.\r\n\r\n    <!-- You can also require other files to run in this process -->\r\n    <script src=\"./renderer.js\"></script>\r\n  </body>\r\n```\r\n> renderer.js\r\n```js\r\nconst electron = require('electron');\r\nconst desktopCapturer = electron.desktopCapturer;\r\n\r\nconst getSourcesLoop = () => {\r\n    console.log('getSources() call');\r\n    desktopCapturer.getSources({\r\n        types: ['screen', 'window']\r\n    }).then(sources => {\r\n        console.log('getSources() success', sources);\r\n        setTimeout(getSourcesLoop, 5000);\r\n    });\r\n};\r\ngetSourcesLoop();\r\n```\r\n<!--\r\nFor bugs that can be encapsulated in a small experiment, you can use Electron Fiddle (https://github.com/electron/fiddle) to publish your example to a GitHub Gist and link it your bug report.\r\n-->\r\n\r\n<!--\r\nIf Fiddle is insufficient to produce an example, please provide an example REPOSITORY that can be cloned and run. You can fork electron-quick-start (https://github.com/electron/electron-quick-start) and include a link to the branch with your changes.\r\n-->\r\n\r\n<!--\r\nIf you provide a URL, please list the commands required to clone/setup/run your repo e.g.\r\n```sh\r\n$ git clone $YOUR_URL -b $BRANCH\r\n$ npm install\r\n$ npm start || electron .\r\n```\r\n-->\r\n\r\n","reactions":{"url":"https://api.github.com/repos/electron/electron/issues/21555/reactions","total_count":6,"+1":6,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/electron/electron/issues/21555/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"}]