{"url":"https://api.github.com/repos/electron/electron/issues/18502","repository_url":"https://api.github.com/repos/electron/electron","labels_url":"https://api.github.com/repos/electron/electron/issues/18502/labels{/name}","comments_url":"https://api.github.com/repos/electron/electron/issues/18502/comments","events_url":"https://api.github.com/repos/electron/electron/issues/18502/events","html_url":"https://github.com/electron/electron/issues/18502","id":449656316,"node_id":"MDU6SXNzdWU0NDk2NTYzMTY=","number":18502,"title":"MacOS modal focus","user":{"login":"zarubond","id":6961047,"node_id":"MDQ6VXNlcjY5NjEwNDc=","avatar_url":"https://avatars.githubusercontent.com/u/6961047?v=4","gravatar_id":"","url":"https://api.github.com/users/zarubond","html_url":"https://github.com/zarubond","followers_url":"https://api.github.com/users/zarubond/followers","following_url":"https://api.github.com/users/zarubond/following{/other_user}","gists_url":"https://api.github.com/users/zarubond/gists{/gist_id}","starred_url":"https://api.github.com/users/zarubond/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zarubond/subscriptions","organizations_url":"https://api.github.com/users/zarubond/orgs","repos_url":"https://api.github.com/users/zarubond/repos","events_url":"https://api.github.com/users/zarubond/events{/privacy}","received_events_url":"https://api.github.com/users/zarubond/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":97403606,"node_id":"MDU6TGFiZWw5NzQwMzYwNg==","url":"https://api.github.com/repos/electron/electron/labels/platform/macOS","name":"platform/macOS","color":"c7def8","default":false,"description":null},{"id":520323169,"node_id":"MDU6TGFiZWw1MjAzMjMxNjk=","url":"https://api.github.com/repos/electron/electron/labels/bug%20:beetle:","name":"bug :beetle:","color":"fbca04","default":false,"description":""},{"id":1133156478,"node_id":"MDU6TGFiZWwxMTMzMTU2NDc4","url":"https://api.github.com/repos/electron/electron/labels/5-0-x","name":"5-0-x","color":"ededed","default":false,"description":""},{"id":1146066475,"node_id":"MDU6TGFiZWwxMTQ2MDY2NDc1","url":"https://api.github.com/repos/electron/electron/labels/3-1-x","name":"3-1-x","color":"ededed","default":false,"description":""},{"id":1263100839,"node_id":"MDU6TGFiZWwxMjYzMTAwODM5","url":"https://api.github.com/repos/electron/electron/labels/6-0-x","name":"6-0-x","color":"ededed","default":false,"description":""},{"id":1630185126,"node_id":"MDU6TGFiZWwxNjMwMTg1MTI2","url":"https://api.github.com/repos/electron/electron/labels/6-1-x","name":"6-1-x","color":"ededed","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"codebytere","id":2036040,"node_id":"MDQ6VXNlcjIwMzYwNDA=","avatar_url":"https://avatars.githubusercontent.com/u/2036040?v=4","gravatar_id":"","url":"https://api.github.com/users/codebytere","html_url":"https://github.com/codebytere","followers_url":"https://api.github.com/users/codebytere/followers","following_url":"https://api.github.com/users/codebytere/following{/other_user}","gists_url":"https://api.github.com/users/codebytere/gists{/gist_id}","starred_url":"https://api.github.com/users/codebytere/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codebytere/subscriptions","organizations_url":"https://api.github.com/users/codebytere/orgs","repos_url":"https://api.github.com/users/codebytere/repos","events_url":"https://api.github.com/users/codebytere/events{/privacy}","received_events_url":"https://api.github.com/users/codebytere/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"codebytere","id":2036040,"node_id":"MDQ6VXNlcjIwMzYwNDA=","avatar_url":"https://avatars.githubusercontent.com/u/2036040?v=4","gravatar_id":"","url":"https://api.github.com/users/codebytere","html_url":"https://github.com/codebytere","followers_url":"https://api.github.com/users/codebytere/followers","following_url":"https://api.github.com/users/codebytere/following{/other_user}","gists_url":"https://api.github.com/users/codebytere/gists{/gist_id}","starred_url":"https://api.github.com/users/codebytere/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codebytere/subscriptions","organizations_url":"https://api.github.com/users/codebytere/orgs","repos_url":"https://api.github.com/users/codebytere/repos","events_url":"https://api.github.com/users/codebytere/events{/privacy}","received_events_url":"https://api.github.com/users/codebytere/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":0,"created_at":"2019-05-29T08:03:49Z","updated_at":"2020-06-29T20:15:29Z","closed_at":"2020-06-29T20:15:29Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"On MacOS (Windows/Linux work fine) I am opening a modal window. The modal window opens up fine but focus behavior is broken. When I click on the main window (outside of modal) it gains the focus (which should not happen) and then the modal window gains focus (which is correct), but right after that the modal gains blur (which is wrong). Now if I try to focus the modal with mouse it does not do anything as the main window is focused. \r\n\r\nHere I have created a demo which prints out to console which window is focused. \r\n[https://github.com/zarubond/electron-quick-start/tree/modal_focus](https://github.com/zarubond/electron-quick-start/tree/modal_focus)\r\n\r\n\r\n### Preflight Checklist\r\n* [x] I have read the [Contributing Guidelines](https://github.com/electron/electron/blob/master/CONTRIBUTING.md) for this project.\r\n* [x] I agree to follow the [Code of Conduct](https://github.com/electron/electron/blob/master/CODE_OF_CONDUCT.md) that this project adheres to.\r\n* [x] I have searched the issue tracker for an issue that matches the one I want to file, without success.\r\n\r\n### Issue Details\r\n\r\n* **Electron Version:**\r\nTested on Electron 3, 5, 6-beta4\r\n* **Operating System:**\r\nMacOS 10.13 (Windows 10 and Ubuntu 18.04 work fine)\r\n* **Last Known Working Electron version:**\r\nNone\r\n\r\n### Expected Behavior\r\nMain window should never get focused if the modal window is opened\r\n\r\n### Actual Behavior\r\nMain window gains focused event if the modal window is opened.\r\n\r\n### To Reproduce\r\nOpen up the console to see which windows are getting focused and the open the modal with open button.\r\n\r\n[https://github.com/zarubond/electron-quick-start/tree/modal_focus](https://github.com/zarubond/electron-quick-start/tree/modal_focus)\r\n\r\n### Screenshots\r\n![image](https://user-images.githubusercontent.com/6961047/58539950-b3cdeb00-81f8-11e9-8678-da33f1b09b46.png)\r\n(ignore the last line, I had to switch to screen-short program)\r\n","closed_by":{"login":"codebytere","id":2036040,"node_id":"MDQ6VXNlcjIwMzYwNDA=","avatar_url":"https://avatars.githubusercontent.com/u/2036040?v=4","gravatar_id":"","url":"https://api.github.com/users/codebytere","html_url":"https://github.com/codebytere","followers_url":"https://api.github.com/users/codebytere/followers","following_url":"https://api.github.com/users/codebytere/following{/other_user}","gists_url":"https://api.github.com/users/codebytere/gists{/gist_id}","starred_url":"https://api.github.com/users/codebytere/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codebytere/subscriptions","organizations_url":"https://api.github.com/users/codebytere/orgs","repos_url":"https://api.github.com/users/codebytere/repos","events_url":"https://api.github.com/users/codebytere/events{/privacy}","received_events_url":"https://api.github.com/users/codebytere/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/electron/electron/issues/18502/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/electron/electron/issues/18502/timeline","performed_via_github_app":null,"state_reason":"completed"}