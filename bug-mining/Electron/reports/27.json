{"url":"https://api.github.com/repos/electron/electron/issues/10051","repository_url":"https://api.github.com/repos/electron/electron","labels_url":"https://api.github.com/repos/electron/electron/issues/10051/labels{/name}","comments_url":"https://api.github.com/repos/electron/electron/issues/10051/comments","events_url":"https://api.github.com/repos/electron/electron/issues/10051/events","html_url":"https://github.com/electron/electron/issues/10051","id":243520018,"node_id":"MDU6SXNzdWUyNDM1MjAwMTg=","number":10051,"title":"Crash on app quit at atom::AtomCTDelegate::ClearCTExcludedHostsList","user":{"login":"juturu","id":11049886,"node_id":"MDQ6VXNlcjExMDQ5ODg2","avatar_url":"https://avatars.githubusercontent.com/u/11049886?v=4","gravatar_id":"","url":"https://api.github.com/users/juturu","html_url":"https://github.com/juturu","followers_url":"https://api.github.com/users/juturu/followers","following_url":"https://api.github.com/users/juturu/following{/other_user}","gists_url":"https://api.github.com/users/juturu/gists{/gist_id}","starred_url":"https://api.github.com/users/juturu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/juturu/subscriptions","organizations_url":"https://api.github.com/users/juturu/orgs","repos_url":"https://api.github.com/users/juturu/repos","events_url":"https://api.github.com/users/juturu/events{/privacy}","received_events_url":"https://api.github.com/users/juturu/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":520323169,"node_id":"MDU6TGFiZWw1MjAzMjMxNjk=","url":"https://api.github.com/repos/electron/electron/labels/bug%20:beetle:","name":"bug :beetle:","color":"fbca04","default":false,"description":""},{"id":612349168,"node_id":"MDU6TGFiZWw2MTIzNDkxNjg=","url":"https://api.github.com/repos/electron/electron/labels/version/1.7.x","name":"version/1.7.x","color":"bfdadc","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2017-07-17T20:38:28Z","updated_at":"2017-11-17T15:53:57Z","closed_at":"2017-11-17T15:53:57Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"* Electron version: 1.7.1\r\n* Operating system: Windows / Mac\r\n\r\n### Expected behavior\r\nno crash on quit\r\n\r\n### Actual behavior\r\nCrash on app quit\r\n\r\n```\r\nThread 23 Crashed:: Chrome_IOThread\r\n0   com.github.electron.framework \t0x000000010e3761f2 std::__1::__tree<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >, std::__1::less<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > >, std::__1::allocator<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > > >::destroy(std::__1::__tree_node<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >, void*>*) + 18 (__tree:1828)\r\n1   com.github.electron.framework \t0x000000010dac0047 std::__1::__tree<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >, std::__1::less<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > >, std::__1::allocator<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > > >::clear() + 23 (__tree:1831)\r\n2   com.github.electron.framework \t0x000000010dabffed atom::AtomCTDelegate::ClearCTExcludedHostsList() + 13 (atom_ct_delegate.cc:23)\r\n3   com.github.electron.framework \t0x000000010dabe69a atom::AtomCertVerifier::Verify(net::CertVerifier::RequestParams const&, net::CRLSet*, net::CertVerifyResult*, base::Callback<void (int), (base::internal::CopyMode)1, (base::internal::RepeatMode)1> const&, std::__1::unique_ptr<net::CertVerifier::Request, std::__1::default_delete<net::CertVerifier::Request> >*, net::NetLogWithSource const&) + 58 (atom_cert_verifier.cc:170)\r\n4   com.github.electron.framework \t0x000000010f5104fa net::SSLClientSocketImpl::DoVerifyCert(int) + 586 (ssl_client_socket_impl.cc:1273)\r\n5   com.github.electron.framework \t0x000000010f50e3a0 net::SSLClientSocketImpl::DoHandshakeLoop(int) + 160 (ssl_client_socket_impl.cc:1404)\r\n6   com.github.electron.framework \t0x000000010f50ffd5 net::SSLClientSocketImpl::OnHandshakeIOComplete(int) + 21 (ssl_client_socket_impl.cc:1370)\r\n7   com.github.electron.framework \t0x000000010f5192e3 net::TCPClientSocket::DidCompleteRead(base::Callback<void (int), (base::internal::CopyMode)1, (base::internal::RepeatMode)1> const&, int) + 115 (tcp_client_socket.cc:357)\r\n8   com.github.electron.framework \t0x000000010f51c09f net::TCPSocketPosix::ReadCompleted(scoped_refptr<net::IOBuffer> const&, base::Callback<void (int), (base::internal::CopyMode)1, (base::internal::RepeatMode)1> const&, int) + 31 (tcp_socket_posix.cc:590)\r\n9   com.github.electron.framework \t0x000000010f4d972f net::SocketPosix::ReadCompleted() + 207 (socket_posix.cc:465)\r\n10  com.github.electron.framework \t0x000000010f4d9626 net::SocketPosix::OnFileCanReadWithoutBlocking(int) + 310 (trace_event.h:1033)\r\n11  com.github.electron.framework \t0x000000010dc4c8b7 base::MessagePumpLibevent::OnLibeventNotification(int, short, void*) + 215 (message_pump_libevent.cc:341)\r\n12  com.github.electron.framework \t0x000000010dcb7e85 event_base_loop + 1205 (event.c:521)\r\n13  com.github.electron.framework \t0x000000010dc4cadf base::MessagePumpLibevent::Run(base::MessagePump::Delegate*) + 127 (message_pump_libevent.cc:224)\r\n14  com.github.electron.framework \t0x000000010dc498ee base::MessageLoop::RunHandler() + 94 (message_loop.cc:388)\r\n15  com.github.electron.framework \t0x000000010dc634f3 base::RunLoop::Run() + 115 (run_loop.cc:38)\r\n16  com.github.electron.framework \t0x000000010ded33d8 content::BrowserThreadImpl::IOThreadRun(base::RunLoop*) + 24 (browser_thread_impl.cc:278)\r\n17  com.github.electron.framework \t0x000000010ded3566 content::BrowserThreadImpl::Run(base::RunLoop*) + 294 (browser_thread_impl.cc:312)\r\n18  com.github.electron.framework \t0x000000010dc83c59 base::Thread::ThreadMain() + 393 (thread.cc:336)\r\n19  com.github.electron.framework \t0x000000010dc57a87 base::(anonymous namespace)::ThreadFunc(void*) + 87 (platform_thread_posix.cc:73)\r\n20  libsystem_pthread.dylib       \t0x00007fff8344c99d _pthread_body + 131\r\n21  libsystem_pthread.dylib       \t0x00007fff8344c91a _pthread_start + 168\r\n22  libsystem_pthread.dylib       \t0x00007fff8344a351 thread_start + 13\r\n```\r\n\r\n### How to reproduce\r\nNo consistent repro. May be happening after #7651\r\n\r\ncc: @kevinsawicki @deepak1556 ","closed_by":{"login":"jkleinsc","id":609052,"node_id":"MDQ6VXNlcjYwOTA1Mg==","avatar_url":"https://avatars.githubusercontent.com/u/609052?v=4","gravatar_id":"","url":"https://api.github.com/users/jkleinsc","html_url":"https://github.com/jkleinsc","followers_url":"https://api.github.com/users/jkleinsc/followers","following_url":"https://api.github.com/users/jkleinsc/following{/other_user}","gists_url":"https://api.github.com/users/jkleinsc/gists{/gist_id}","starred_url":"https://api.github.com/users/jkleinsc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jkleinsc/subscriptions","organizations_url":"https://api.github.com/users/jkleinsc/orgs","repos_url":"https://api.github.com/users/jkleinsc/repos","events_url":"https://api.github.com/users/jkleinsc/events{/privacy}","received_events_url":"https://api.github.com/users/jkleinsc/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/electron/electron/issues/10051/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/electron/electron/issues/10051/timeline","performed_via_github_app":null,"state_reason":"completed"}