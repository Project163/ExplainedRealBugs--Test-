{"url":"https://api.github.com/repos/electron/electron/issues/14035","repository_url":"https://api.github.com/repos/electron/electron","labels_url":"https://api.github.com/repos/electron/electron/issues/14035/labels{/name}","comments_url":"https://api.github.com/repos/electron/electron/issues/14035/comments","events_url":"https://api.github.com/repos/electron/electron/issues/14035/events","html_url":"https://github.com/electron/electron/issues/14035","id":349795916,"node_id":"MDU6SXNzdWUzNDk3OTU5MTY=","number":14035,"title":"Unable to call native addon's async function from iframe","user":{"login":"winrono","id":19147304,"node_id":"MDQ6VXNlcjE5MTQ3MzA0","avatar_url":"https://avatars.githubusercontent.com/u/19147304?v=4","gravatar_id":"","url":"https://api.github.com/users/winrono","html_url":"https://github.com/winrono","followers_url":"https://api.github.com/users/winrono/followers","following_url":"https://api.github.com/users/winrono/following{/other_user}","gists_url":"https://api.github.com/users/winrono/gists{/gist_id}","starred_url":"https://api.github.com/users/winrono/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/winrono/subscriptions","organizations_url":"https://api.github.com/users/winrono/orgs","repos_url":"https://api.github.com/users/winrono/repos","events_url":"https://api.github.com/users/winrono/events{/privacy}","received_events_url":"https://api.github.com/users/winrono/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":97403549,"node_id":"MDU6TGFiZWw5NzQwMzU0OQ==","url":"https://api.github.com/repos/electron/electron/labels/platform/windows","name":"platform/windows","color":"c7def8","default":false,"description":null},{"id":520323169,"node_id":"MDU6TGFiZWw1MjAzMjMxNjk=","url":"https://api.github.com/repos/electron/electron/labels/bug%20:beetle:","name":"bug :beetle:","color":"fbca04","default":false,"description":""},{"id":839475038,"node_id":"MDU6TGFiZWw4Mzk0NzUwMzg=","url":"https://api.github.com/repos/electron/electron/labels/2-0-x","name":"2-0-x","color":"ededed","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-08-12T08:47:18Z","updated_at":"2019-01-22T19:25:01Z","closed_at":"2019-01-22T19:25:01Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"* Electron Version: 2.0.7\r\n* Operating System (Platform and Version): Windows 10\r\n* Last known working Electron version: \r\n\r\n**Expected Behavior**\r\n\r\nI expect native addon's async functions to work in iframes\r\n\r\n**Actual behavior**\r\nIf to call native addon's async function from iframe DevTools will be disconnected, app will not respond until reload\r\n\r\n**To Reproduce**\r\nI created repository with minimalistic setup https://github.com/winrono/electron_async_issue (check readme.md for instructions how to run easily). It basically use example https://github.com/nodejs/nan/tree/master/examples/async_pi_estimate for simplicity. Please note that if to comment runAsync(); in app.html (iframe) and uncomment the same statement in index.html electron app will be able to print async function's result without any problems. Apart from that any syncronous code could be called from iframe without any issues. \r\n\r\n**Screenshots**\r\nHere is what happening if to call runAsync function from iframe:\r\n![image](https://user-images.githubusercontent.com/19147304/44000222-ea0858b2-9e24-11e8-91a4-21323d3100b0.png)\r\n\r\nFrom index.html:\r\n![image](https://user-images.githubusercontent.com/19147304/44000251-66045998-9e25-11e8-81e1-4567bc5a471b.png)\r\n\r\n","closed_by":{"login":"MarshallOfSound","id":6634592,"node_id":"MDQ6VXNlcjY2MzQ1OTI=","avatar_url":"https://avatars.githubusercontent.com/u/6634592?v=4","gravatar_id":"","url":"https://api.github.com/users/MarshallOfSound","html_url":"https://github.com/MarshallOfSound","followers_url":"https://api.github.com/users/MarshallOfSound/followers","following_url":"https://api.github.com/users/MarshallOfSound/following{/other_user}","gists_url":"https://api.github.com/users/MarshallOfSound/gists{/gist_id}","starred_url":"https://api.github.com/users/MarshallOfSound/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MarshallOfSound/subscriptions","organizations_url":"https://api.github.com/users/MarshallOfSound/orgs","repos_url":"https://api.github.com/users/MarshallOfSound/repos","events_url":"https://api.github.com/users/MarshallOfSound/events{/privacy}","received_events_url":"https://api.github.com/users/MarshallOfSound/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/electron/electron/issues/14035/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/electron/electron/issues/14035/timeline","performed_via_github_app":null,"state_reason":"completed"}