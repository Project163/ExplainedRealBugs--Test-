{"url":"https://api.github.com/repos/electron/electron/issues/17937","repository_url":"https://api.github.com/repos/electron/electron","labels_url":"https://api.github.com/repos/electron/electron/issues/17937/labels{/name}","comments_url":"https://api.github.com/repos/electron/electron/issues/17937/comments","events_url":"https://api.github.com/repos/electron/electron/issues/17937/events","html_url":"https://github.com/electron/electron/issues/17937","id":436461608,"node_id":"MDU6SXNzdWU0MzY0NjE2MDg=","number":17937,"title":"desktopCapturer.getSources with 'screen' causes binocular icon on lock screen","user":{"login":"acbuitrago","id":4340899,"node_id":"MDQ6VXNlcjQzNDA4OTk=","avatar_url":"https://avatars.githubusercontent.com/u/4340899?v=4","gravatar_id":"","url":"https://api.github.com/users/acbuitrago","html_url":"https://github.com/acbuitrago","followers_url":"https://api.github.com/users/acbuitrago/followers","following_url":"https://api.github.com/users/acbuitrago/following{/other_user}","gists_url":"https://api.github.com/users/acbuitrago/gists{/gist_id}","starred_url":"https://api.github.com/users/acbuitrago/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/acbuitrago/subscriptions","organizations_url":"https://api.github.com/users/acbuitrago/orgs","repos_url":"https://api.github.com/users/acbuitrago/repos","events_url":"https://api.github.com/users/acbuitrago/events{/privacy}","received_events_url":"https://api.github.com/users/acbuitrago/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":97403606,"node_id":"MDU6TGFiZWw5NzQwMzYwNg==","url":"https://api.github.com/repos/electron/electron/labels/platform/macOS","name":"platform/macOS","color":"c7def8","default":false,"description":null},{"id":520323169,"node_id":"MDU6TGFiZWw1MjAzMjMxNjk=","url":"https://api.github.com/repos/electron/electron/labels/bug%20:beetle:","name":"bug :beetle:","color":"fbca04","default":false,"description":""},{"id":1054948123,"node_id":"MDU6TGFiZWwxMDU0OTQ4MTIz","url":"https://api.github.com/repos/electron/electron/labels/4-2-x","name":"4-2-x","color":"ededed","default":false,"description":""},{"id":1263100839,"node_id":"MDU6TGFiZWwxMjYzMTAwODM5","url":"https://api.github.com/repos/electron/electron/labels/6-0-x","name":"6-0-x","color":"ededed","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2019-04-24T01:57:22Z","updated_at":"2019-09-17T16:48:32Z","closed_at":"2019-09-17T16:48:32Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Preflight Checklist\r\n<!-- Please ensure you've completed the following steps by replacing [ ] with [x]-->\r\n\r\n* [x] I have read the [Contributing Guidelines](https://github.com/electron/electron/blob/master/CONTRIBUTING.md) for this project.\r\n* [x] I agree to follow the [Code of Conduct](https://github.com/electron/electron/blob/master/CODE_OF_CONDUCT.md) that this project adheres to.\r\n* [x] I have searched the issue tracker for an issue that matches the one I want to file, without success.\r\n\r\n### Issue Details\r\n\r\n* **Electron Version:**\r\n  * 4.1.3\r\n* **Operating System:**\r\n  * macOS 10.14.4\r\n* **Last Known Working Electron version:**:\r\n  * None.\r\n\r\n### Expected Behavior\r\nA call to `desktopCapturer.getSources( { types: [ 'screen'] })` should not cause the OS to show the binoculars icon when the user locks the screen, this icon should only be shown when the screen is being recorded. \r\n\r\nAs far as I know this icon is used to show that the user is recording a screen. [Here](https://macreports.com/binoculars-icon-on-mac-what-does-that-mean/) is explained this icon.\r\n\r\n### Actual Behavior\r\nCalling `desktopCapturer.getSources( { types: [ 'screen'] })` causes the binoculars icon to be shown to the user when he locks the PC, even when the screen is not being recorded in any other way. The icon isn't shown when the PC is unlocked, only when the PC is locked, until the users closes the electron app that made the call.\r\n\r\nThis doesn't happen when `desktopCapturer.getSources({ types: 'window' })` is called. \r\n\r\n### To Reproduce\r\nClone this repository\r\n\r\n```\r\ngit clone https://github.com/electron/electron-quick-start\r\nnpm install\r\nnpm start\r\n```\r\nThen, in the `renderer.js` file, put:\r\n```\r\nconst { desktopCapturer } = require('electron');\r\n\r\ndesktopCapturer.getSources( { types: [ 'screen'] }, (error, sources) => {\r\n    if (error) throw error\r\n    for (let i = 0; i < sources.length; ++i) {\r\n      console.log('source: ' + sources[i].name); \r\n    }\r\n});\r\n```\r\nFinally, while keeping the app opened, lock your screen and you will notice on the login screen the binoculars icon, even though there aren't any apps recording the screen. This icon will be seen on your lock screen as long as you have the electron app opened.  \r\n\r\n### Screenshots\r\n<!-- If applicable, add screenshots to help explain your problem. -->\r\n<img width=\"1412\" alt=\"Screen Shot 2019-04-23 at 18 01 18\" src=\"https://user-images.githubusercontent.com/4340899/56621413-fac13300-65f1-11e9-8d8d-a27a53c3e8af.png\">\r\n","closed_by":{"login":"MarshallOfSound","id":6634592,"node_id":"MDQ6VXNlcjY2MzQ1OTI=","avatar_url":"https://avatars.githubusercontent.com/u/6634592?v=4","gravatar_id":"","url":"https://api.github.com/users/MarshallOfSound","html_url":"https://github.com/MarshallOfSound","followers_url":"https://api.github.com/users/MarshallOfSound/followers","following_url":"https://api.github.com/users/MarshallOfSound/following{/other_user}","gists_url":"https://api.github.com/users/MarshallOfSound/gists{/gist_id}","starred_url":"https://api.github.com/users/MarshallOfSound/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MarshallOfSound/subscriptions","organizations_url":"https://api.github.com/users/MarshallOfSound/orgs","repos_url":"https://api.github.com/users/MarshallOfSound/repos","events_url":"https://api.github.com/users/MarshallOfSound/events{/privacy}","received_events_url":"https://api.github.com/users/MarshallOfSound/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/electron/electron/issues/17937/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/electron/electron/issues/17937/timeline","performed_via_github_app":null,"state_reason":"completed"}