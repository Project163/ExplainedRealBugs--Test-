{"url":"https://api.github.com/repos/electron/electron/issues/1112","repository_url":"https://api.github.com/repos/electron/electron","labels_url":"https://api.github.com/repos/electron/electron/issues/1112/labels{/name}","comments_url":"https://api.github.com/repos/electron/electron/issues/1112/comments","events_url":"https://api.github.com/repos/electron/electron/issues/1112/events","html_url":"https://github.com/electron/electron/issues/1112","id":56997228,"node_id":"MDU6SXNzdWU1Njk5NzIyOA==","number":1112,"title":"Crash when BrowserWindow is garbaged collected","user":{"login":"coolwanglu","id":734614,"node_id":"MDQ6VXNlcjczNDYxNA==","avatar_url":"https://avatars.githubusercontent.com/u/734614?v=4","gravatar_id":"","url":"https://api.github.com/users/coolwanglu","html_url":"https://github.com/coolwanglu","followers_url":"https://api.github.com/users/coolwanglu/followers","following_url":"https://api.github.com/users/coolwanglu/following{/other_user}","gists_url":"https://api.github.com/users/coolwanglu/gists{/gist_id}","starred_url":"https://api.github.com/users/coolwanglu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coolwanglu/subscriptions","organizations_url":"https://api.github.com/users/coolwanglu/orgs","repos_url":"https://api.github.com/users/coolwanglu/repos","events_url":"https://api.github.com/users/coolwanglu/events{/privacy}","received_events_url":"https://api.github.com/users/coolwanglu/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":144752898,"node_id":"MDU6TGFiZWwxNDQ3NTI4OTg=","url":"https://api.github.com/repos/electron/electron/labels/crash%20:boom:","name":"crash :boom:","color":"A88EB9","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2015-02-09T07:23:17Z","updated_at":"2015-03-23T08:21:01Z","closed_at":"2015-03-23T08:21:01Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I'm trying to create a child process in the renderer process and communicate with it throught stdin/stdout.\nI'm able to receive messages, but it crashed automatically when I leave the app without doing anything.\n\nThe dump is attached below, I saw `IdleNotification` and `~Window` there, but I'm not sure what's going on.\n\nThe specific code I'm using is here: https://github.com/coolwanglu/neovim.as/blob/master/src/nvim/nvim.coffee#L16\n\nWhat could it be?\n\n```\nThread 0 Crashed:: CrBrowserMain  Dispatch queue: com.apple.main-thread\n0   libsystem_kernel.dylib          0x00007fff90f09866 __pthread_kill + 10\n1   libsystem_pthread.dylib         0x00007fff8cb7b35c pthread_kill + 92\n2   libsystem_c.dylib               0x00007fff8fdafb1a abort + 125\n3   com.github.AtomFramework        0x000000010bc87f62 node::MakeCallback(node::Environment*, v8::Handle<v8::Object>, v8::Handle<v8::String>, int, v8::Handle<v8::Value>*) + 91\n4   com.github.AtomFramework        0x000000010bc88029 node::MakeCallback(v8::Isolate*, v8::Handle<v8::Object>, char const*, int, v8::Handle<v8::Value>*) + 127\n5   com.github.AtomFramework        0x000000010bc31776 mate::EventEmitter::CallEmit(v8::Isolate*, base::BasicStringPiece<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > > const&, content::WebContents*, IPC::Message*, std::__1::vector<v8::Handle<v8::Value>, std::__1::allocator<v8::Handle<v8::Value> > >) + 372\n6   com.github.AtomFramework        0x000000010bc0f4c9 bool mate::EventEmitter::EmitWithSender<>(base::BasicStringPiece<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > > const&, content::WebContents*, IPC::Message*) + 137\n7   com.github.AtomFramework        0x000000010bc2befc non-virtual thunk to atom::api::Window::OnWindowClosed() + 48\n8   com.github.AtomFramework        0x000000010bc351c1 atom::NativeWindow::NotifyWindowClosed() + 87\n9   com.github.AtomFramework        0x000000010bc38ff2 -[AtomNSWindowDelegate windowWillClose:] + 25\n10  com.apple.CoreFoundation        0x00007fff8c7abe0c __CFNOTIFICATIONCENTER_IS_CALLING_OUT_TO_AN_OBSERVER__ + 12\n11  com.apple.CoreFoundation        0x00007fff8c69f82d _CFXNotificationPost + 2893\n12  com.apple.Foundation            0x00007fff8e737dda -[NSNotificationCenter postNotificationName:object:userInfo:] + 68\n13  com.apple.AppKit                0x00007fff8b7241ed __18-[NSWindow _close]_block_invoke + 179\n14  com.apple.AppKit                0x00007fff8b724100 -[NSWindow _close] + 370\n15  com.github.AtomFramework        0x000000010bc2bbf1 atom::api::Window::~Window() + 61\n16  com.github.AtomFramework        0x000000010bc2bc62 atom::api::Window::~Window() + 14\n17  libchromiumcontent.dylib        0x000000010dcab5fb 0x10c4b8000 + 25114107\n18  libchromiumcontent.dylib        0x000000010dcaa847 0x10c4b8000 + 25110599\n19  libchromiumcontent.dylib        0x000000010dcc7167 0x10c4b8000 + 25227623\n20  libchromiumcontent.dylib        0x000000010dcc6bdf 0x10c4b8000 + 25226207\n21  libchromiumcontent.dylib        0x000000010dcd099b 0x10c4b8000 + 25266587\n22  libchromiumcontent.dylib        0x000000010dcd0e1d 0x10c4b8000 + 25267741\n23  libchromiumcontent.dylib        0x000000010db72e5b v8::Isolate::IdleNotification(int) + 27\n24  libchromiumcontent.dylib        0x000000010c56e201 base::Timer::RunScheduledTask() + 129\n25  libchromiumcontent.dylib        0x000000010c4edd24 base::debug::TaskAnnotator::RunTask(char const*, char const*, base::PendingTask const&) + 244\n26  libchromiumcontent.dylib        0x000000010c52d408 base::MessageLoop::RunTask(base::PendingTask const&) + 552\n27  libchromiumcontent.dylib        0x000000010c52d5ef base::MessageLoop::DeferOrRunPendingTask(base::PendingTask const&) + 47\n28  libchromiumcontent.dylib        0x000000010c52de9c base::MessageLoop::DoDelayedWork(base::TimeTicks*) + 924\n29  libchromiumcontent.dylib        0x000000010c4d467d 0x10c4b8000 + 116349\n30  com.apple.CoreFoundation        0x00007fff8c70e5b1 __CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE0_PERFORM_FUNCTION__ + 17\n31  com.apple.CoreFoundation        0x00007fff8c6ffc62 __CFRunLoopDoSources0 + 242\n32  com.apple.CoreFoundation        0x00007fff8c6ff3ef __CFRunLoopRun + 831\n33  com.apple.CoreFoundation        0x00007fff8c6fee75 CFRunLoopRunSpecific + 309\n34  com.apple.HIToolbox             0x00007fff9566ba0d RunCurrentEventLoopInMode + 226\n35  com.apple.HIToolbox             0x00007fff9566b7b7 ReceiveNextEventCommon + 479\n36  com.apple.HIToolbox             0x00007fff9566b5bc _BlockUntilNextEventMatchingListInModeWithFilter + 65\n37  com.apple.AppKit                0x00007fff8b4b924e _DPSNextEvent + 1434\n38  com.apple.AppKit                0x00007fff8b4b889b -[NSApplication nextEventMatchingMask:untilDate:inMode:dequeue:] + 122\n39  com.apple.AppKit                0x00007fff8b4ac99c -[NSApplication run] + 553\n40  libchromiumcontent.dylib        0x000000010c4d4df1 0x10c4b8000 + 118257\n41  libchromiumcontent.dylib        0x000000010c4d44cc 0x10c4b8000 + 115916\n42  libchromiumcontent.dylib        0x000000010c5448f3 base::RunLoop::Run() + 99\n43  libchromiumcontent.dylib        0x000000010c5e5ff1 content::BrowserMainLoop::MainMessageLoopRun() + 113\n44  libchromiumcontent.dylib        0x000000010c5e5f55 content::BrowserMainLoop::RunMainMessageLoopParts() + 69\n45  libchromiumcontent.dylib        0x000000010c5e8552 0x10c4b8000 + 1246546\n46  libchromiumcontent.dylib        0x000000010c5e237f content::BrowserMain(content::MainFunctionParams const&) + 159\n47  libchromiumcontent.dylib        0x000000010c4c94c9 0x10c4b8000 + 70857\n48  libchromiumcontent.dylib        0x000000010c4c8ab6 content::ContentMain(content::ContentMainParams const&) + 54\n49  com.github.AtomFramework        0x000000010bc0b168 AtomMain + 72\n50  libdyld.dylib                   0x00007fff9128c5fd start + 1\n```\n","closed_by":{"login":"zcbenz","id":639601,"node_id":"MDQ6VXNlcjYzOTYwMQ==","avatar_url":"https://avatars.githubusercontent.com/u/639601?v=4","gravatar_id":"","url":"https://api.github.com/users/zcbenz","html_url":"https://github.com/zcbenz","followers_url":"https://api.github.com/users/zcbenz/followers","following_url":"https://api.github.com/users/zcbenz/following{/other_user}","gists_url":"https://api.github.com/users/zcbenz/gists{/gist_id}","starred_url":"https://api.github.com/users/zcbenz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zcbenz/subscriptions","organizations_url":"https://api.github.com/users/zcbenz/orgs","repos_url":"https://api.github.com/users/zcbenz/repos","events_url":"https://api.github.com/users/zcbenz/events{/privacy}","received_events_url":"https://api.github.com/users/zcbenz/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/electron/electron/issues/1112/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/electron/electron/issues/1112/timeline","performed_via_github_app":null,"state_reason":"completed"}