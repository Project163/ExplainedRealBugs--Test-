{"url":"https://api.github.com/repos/electron/electron/issues/32141","repository_url":"https://api.github.com/repos/electron/electron","labels_url":"https://api.github.com/repos/electron/electron/issues/32141/labels{/name}","comments_url":"https://api.github.com/repos/electron/electron/issues/32141/comments","events_url":"https://api.github.com/repos/electron/electron/issues/32141/events","html_url":"https://github.com/electron/electron/issues/32141","id":1075871740,"node_id":"I_kwDOAI8xS85AIH_8","number":32141,"title":"[Bug]: Register wrong command for  setAsDefaultProtocolClient","user":{"login":"Shubham-Kumar-2000","id":41825906,"node_id":"MDQ6VXNlcjQxODI1OTA2","avatar_url":"https://avatars.githubusercontent.com/u/41825906?v=4","gravatar_id":"","url":"https://api.github.com/users/Shubham-Kumar-2000","html_url":"https://github.com/Shubham-Kumar-2000","followers_url":"https://api.github.com/users/Shubham-Kumar-2000/followers","following_url":"https://api.github.com/users/Shubham-Kumar-2000/following{/other_user}","gists_url":"https://api.github.com/users/Shubham-Kumar-2000/gists{/gist_id}","starred_url":"https://api.github.com/users/Shubham-Kumar-2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Shubham-Kumar-2000/subscriptions","organizations_url":"https://api.github.com/users/Shubham-Kumar-2000/orgs","repos_url":"https://api.github.com/users/Shubham-Kumar-2000/repos","events_url":"https://api.github.com/users/Shubham-Kumar-2000/events{/privacy}","received_events_url":"https://api.github.com/users/Shubham-Kumar-2000/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":520323169,"node_id":"MDU6TGFiZWw1MjAzMjMxNjk=","url":"https://api.github.com/repos/electron/electron/labels/bug%20:beetle:","name":"bug :beetle:","color":"fbca04","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2021-12-09T18:25:21Z","updated_at":"2022-01-04T01:47:28Z","closed_at":"2022-01-04T01:47:28Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Preflight Checklist\n\n- [X] I have read the [Contributing Guidelines](https://github.com/electron/electron/blob/main/CONTRIBUTING.md) for this project.\n- [X] I agree to follow the [Code of Conduct](https://github.com/electron/electron/blob/main/CODE_OF_CONDUCT.md) that this project adheres to.\n- [X] I have searched the [issue tracker](https://www.github.com/electron/electron/issues) for a feature request that matches the one I want to file, without success.\n\n### Electron Version\n\n13.1.2\n\n### What operating system are you using?\n\nWindows\n\n### Operating System Version\n\nWindows 10 version 1709\n\n### What arch are you using?\n\nx64\n\n### Last Known Working Electron version\n\n_No response_\n\n### Expected Behavior\n\nWhile registering a default protocol :\r\n```js\r\napp.setAsDefaultProtocolClient('test', process.execPath, [path.resolve(process.argv[1])])\r\n```\r\nIf the `process.execPath` has space in it then it should register correct command.\r\n\r\nExample if a app is located at `D:\\demo space\\electron-demo` :\r\nthen the registered command should be \r\n```bash\r\n\"D:\\demo space\\electron-demo\\node_modules\\electron\\dist\\electron.exe\" \"D:\\demo space\\electron-demo\" \"%1\"\r\n```\r\n\n\n### Actual Behavior\n\nWhile registering a default protocol :\r\n```js\r\napp.setAsDefaultProtocolClient('test', process.execPath, [path.resolve(process.argv[1])])\r\n```\r\nIf the `process.execPath` has space in it then it registers wrong command.\r\n\r\nExample if a app is located at `D:\\demo space\\electron-demo` :\r\nthen the registered command is \r\n```bash\r\n\"D:\\harmonize-space\\electron-demo\\node_modules\\electron\\dist\\electron.exe\" D:\\demo space\\electron-demo \"%1\"\r\n```\r\n\r\nThus it raises a error `Error : Launching app \\n No app found at D:\\demo` .\n\n### Testcase Gist URL\n\n_No response_\n\n### Additional Information\n\nWant to work on this issue.\r\nIf possible Assign it to me.","closed_by":{"login":"zcbenz","id":639601,"node_id":"MDQ6VXNlcjYzOTYwMQ==","avatar_url":"https://avatars.githubusercontent.com/u/639601?v=4","gravatar_id":"","url":"https://api.github.com/users/zcbenz","html_url":"https://github.com/zcbenz","followers_url":"https://api.github.com/users/zcbenz/followers","following_url":"https://api.github.com/users/zcbenz/following{/other_user}","gists_url":"https://api.github.com/users/zcbenz/gists{/gist_id}","starred_url":"https://api.github.com/users/zcbenz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zcbenz/subscriptions","organizations_url":"https://api.github.com/users/zcbenz/orgs","repos_url":"https://api.github.com/users/zcbenz/repos","events_url":"https://api.github.com/users/zcbenz/events{/privacy}","received_events_url":"https://api.github.com/users/zcbenz/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/electron/electron/issues/32141/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/electron/electron/issues/32141/timeline","performed_via_github_app":null,"state_reason":"completed"}