[{"id":866846114,"node_id":"MDEyOkxhYmVsZWRFdmVudDg2Njg0NjExNA==","url":"https://api.github.com/repos/electron/electron/issues/events/866846114","actor":{"login":"kevinsawicki","id":671378,"node_id":"MDQ6VXNlcjY3MTM3OA==","avatar_url":"https://avatars.githubusercontent.com/u/671378?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinsawicki","html_url":"https://github.com/kevinsawicki","followers_url":"https://api.github.com/users/kevinsawicki/followers","following_url":"https://api.github.com/users/kevinsawicki/following{/other_user}","gists_url":"https://api.github.com/users/kevinsawicki/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinsawicki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinsawicki/subscriptions","organizations_url":"https://api.github.com/users/kevinsawicki/orgs","repos_url":"https://api.github.com/users/kevinsawicki/repos","events_url":"https://api.github.com/users/kevinsawicki/events{/privacy}","received_events_url":"https://api.github.com/users/kevinsawicki/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2016-11-21T16:46:12Z","label":{"name":"bug","color":"fc2929"},"performed_via_github_app":null},{"id":866846115,"node_id":"MDEyOkxhYmVsZWRFdmVudDg2Njg0NjExNQ==","url":"https://api.github.com/repos/electron/electron/issues/events/866846115","actor":{"login":"kevinsawicki","id":671378,"node_id":"MDQ6VXNlcjY3MTM3OA==","avatar_url":"https://avatars.githubusercontent.com/u/671378?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinsawicki","html_url":"https://github.com/kevinsawicki","followers_url":"https://api.github.com/users/kevinsawicki/followers","following_url":"https://api.github.com/users/kevinsawicki/following{/other_user}","gists_url":"https://api.github.com/users/kevinsawicki/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinsawicki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinsawicki/subscriptions","organizations_url":"https://api.github.com/users/kevinsawicki/orgs","repos_url":"https://api.github.com/users/kevinsawicki/repos","events_url":"https://api.github.com/users/kevinsawicki/events{/privacy}","received_events_url":"https://api.github.com/users/kevinsawicki/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2016-11-21T16:46:12Z","label":{"name":"clipboard","color":"fad8c7"},"performed_via_github_app":null},{"id":866846642,"node_id":"MDEyOkxhYmVsZWRFdmVudDg2Njg0NjY0Mg==","url":"https://api.github.com/repos/electron/electron/issues/events/866846642","actor":{"login":"kevinsawicki","id":671378,"node_id":"MDQ6VXNlcjY3MTM3OA==","avatar_url":"https://avatars.githubusercontent.com/u/671378?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinsawicki","html_url":"https://github.com/kevinsawicki","followers_url":"https://api.github.com/users/kevinsawicki/followers","following_url":"https://api.github.com/users/kevinsawicki/following{/other_user}","gists_url":"https://api.github.com/users/kevinsawicki/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinsawicki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinsawicki/subscriptions","organizations_url":"https://api.github.com/users/kevinsawicki/orgs","repos_url":"https://api.github.com/users/kevinsawicki/repos","events_url":"https://api.github.com/users/kevinsawicki/events{/privacy}","received_events_url":"https://api.github.com/users/kevinsawicki/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2016-11-21T16:46:27Z","label":{"name":"crash","color":"e11d21"},"performed_via_github_app":null},{"id":866920213,"node_id":"MDEyOkxhYmVsZWRFdmVudDg2NjkyMDIxMw==","url":"https://api.github.com/repos/electron/electron/issues/events/866920213","actor":{"login":"kevinsawicki","id":671378,"node_id":"MDQ6VXNlcjY3MTM3OA==","avatar_url":"https://avatars.githubusercontent.com/u/671378?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinsawicki","html_url":"https://github.com/kevinsawicki","followers_url":"https://api.github.com/users/kevinsawicki/followers","following_url":"https://api.github.com/users/kevinsawicki/following{/other_user}","gists_url":"https://api.github.com/users/kevinsawicki/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinsawicki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinsawicki/subscriptions","organizations_url":"https://api.github.com/users/kevinsawicki/orgs","repos_url":"https://api.github.com/users/kevinsawicki/repos","events_url":"https://api.github.com/users/kevinsawicki/events{/privacy}","received_events_url":"https://api.github.com/users/kevinsawicki/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2016-11-21T17:29:43Z","label":{"name":"windows","color":"c7def8"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/electron/electron/issues/comments/262027951","html_url":"https://github.com/electron/electron/issues/8017#issuecomment-262027951","issue_url":"https://api.github.com/repos/electron/electron/issues/8017","id":262027951,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MjAyNzk1MQ==","user":{"login":"kevinsawicki","id":671378,"node_id":"MDQ6VXNlcjY3MTM3OA==","avatar_url":"https://avatars.githubusercontent.com/u/671378?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinsawicki","html_url":"https://github.com/kevinsawicki","followers_url":"https://api.github.com/users/kevinsawicki/followers","following_url":"https://api.github.com/users/kevinsawicki/following{/other_user}","gists_url":"https://api.github.com/users/kevinsawicki/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinsawicki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinsawicki/subscriptions","organizations_url":"https://api.github.com/users/kevinsawicki/orgs","repos_url":"https://api.github.com/users/kevinsawicki/repos","events_url":"https://api.github.com/users/kevinsawicki/events{/privacy}","received_events_url":"https://api.github.com/users/kevinsawicki/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-21T18:40:45Z","updated_at":"2016-11-21T18:40:45Z","body":"Here is the stack trace for this crash:\r\n\r\n```\r\nmemcpy() Line 135\r\nui::ClipboardWin::WriteBitmap(const SkBitmap & bitmap) Line 799\r\nui::Clipboard::DispatchObject(ui::Clipboard::ObjectType type, const std::vector<std::vector<char,std::allocator<char> >,std::allocator<std::vector<char,std::allocator<char> > > > & params) Line 118\r\nui::ClipboardWin::WriteObjects(ui::ClipboardType type, const std::map<int,std::vector<std::vector<char,std::allocator<char> >,std::allocator<std::vector<char,std::allocator<char> > > >,std::less<int>,std::allocator<std::pair<int const ,std::vector<std::vector<char,std::allocator<char> >,std::allocator<std::vector<char,std::allocator<char> > > > > > > & objects) Line 718\r\nui::ScopedClipboardWriter::~ScopedClipboardWriter() Line 24\r\natom::api::Clipboard::WriteImage(const gfx::Image & image, mate::Arguments * args) Line 151\r\nmate::internal::Invoker<mate::internal::IndicesHolder<0,1>,gfx::Image const & __ptr64,mate::Arguments * __ptr64>::DispatchToCallback(base::Callback<void __cdecl(gfx::Image const &,mate::Arguments *),1> callback) Line 202\r\nmate::internal::Dispatcher<void __cdecl(gfx::Image const & __ptr64,mate::Arguments * __ptr64)>::DispatchToCallback(const v8::FunctionCallbackInfo<v8::Value> & info) Line 236\r\n```","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/electron/electron/issues/comments/262027951/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kevinsawicki","id":671378,"node_id":"MDQ6VXNlcjY3MTM3OA==","avatar_url":"https://avatars.githubusercontent.com/u/671378?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinsawicki","html_url":"https://github.com/kevinsawicki","followers_url":"https://api.github.com/users/kevinsawicki/followers","following_url":"https://api.github.com/users/kevinsawicki/following{/other_user}","gists_url":"https://api.github.com/users/kevinsawicki/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinsawicki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinsawicki/subscriptions","organizations_url":"https://api.github.com/users/kevinsawicki/orgs","repos_url":"https://api.github.com/users/kevinsawicki/repos","events_url":"https://api.github.com/users/kevinsawicki/events{/privacy}","received_events_url":"https://api.github.com/users/kevinsawicki/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1001329881,"node_id":"MDEyOkxhYmVsZWRFdmVudDEwMDEzMjk4ODE=","url":"https://api.github.com/repos/electron/electron/issues/events/1001329881","actor":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2017-03-15T17:27:57Z","label":{"name":"wontfix","color":"ededed"},"performed_via_github_app":null},{"id":1001386170,"node_id":"MDE0OlVubGFiZWxlZEV2ZW50MTAwMTM4NjE3MA==","url":"https://api.github.com/repos/electron/electron/issues/events/1001386170","actor":{"login":"zeke","id":2289,"node_id":"MDQ6VXNlcjIyODk=","avatar_url":"https://avatars.githubusercontent.com/u/2289?v=4","gravatar_id":"","url":"https://api.github.com/users/zeke","html_url":"https://github.com/zeke","followers_url":"https://api.github.com/users/zeke/followers","following_url":"https://api.github.com/users/zeke/following{/other_user}","gists_url":"https://api.github.com/users/zeke/gists{/gist_id}","starred_url":"https://api.github.com/users/zeke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zeke/subscriptions","organizations_url":"https://api.github.com/users/zeke/orgs","repos_url":"https://api.github.com/users/zeke/repos","events_url":"https://api.github.com/users/zeke/events{/privacy}","received_events_url":"https://api.github.com/users/zeke/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2017-03-15T17:59:37Z","label":{"name":"wontfix","color":"ededed"},"performed_via_github_app":null},{"id":1001386569,"node_id":"MDE0OlVubGFiZWxlZEV2ZW50MTAwMTM4NjU2OQ==","url":"https://api.github.com/repos/electron/electron/issues/events/1001386569","actor":{"login":"zeke","id":2289,"node_id":"MDQ6VXNlcjIyODk=","avatar_url":"https://avatars.githubusercontent.com/u/2289?v=4","gravatar_id":"","url":"https://api.github.com/users/zeke","html_url":"https://github.com/zeke","followers_url":"https://api.github.com/users/zeke/followers","following_url":"https://api.github.com/users/zeke/following{/other_user}","gists_url":"https://api.github.com/users/zeke/gists{/gist_id}","starred_url":"https://api.github.com/users/zeke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zeke/subscriptions","organizations_url":"https://api.github.com/users/zeke/orgs","repos_url":"https://api.github.com/users/zeke/repos","events_url":"https://api.github.com/users/zeke/events{/privacy}","received_events_url":"https://api.github.com/users/zeke/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2017-03-15T17:59:48Z","label":{"name":"wontfix","color":"ededed"},"performed_via_github_app":null},{"id":1001386860,"node_id":"MDE0OlVubGFiZWxlZEV2ZW50MTAwMTM4Njg2MA==","url":"https://api.github.com/repos/electron/electron/issues/events/1001386860","actor":{"login":"zeke","id":2289,"node_id":"MDQ6VXNlcjIyODk=","avatar_url":"https://avatars.githubusercontent.com/u/2289?v=4","gravatar_id":"","url":"https://api.github.com/users/zeke","html_url":"https://github.com/zeke","followers_url":"https://api.github.com/users/zeke/followers","following_url":"https://api.github.com/users/zeke/following{/other_user}","gists_url":"https://api.github.com/users/zeke/gists{/gist_id}","starred_url":"https://api.github.com/users/zeke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zeke/subscriptions","organizations_url":"https://api.github.com/users/zeke/orgs","repos_url":"https://api.github.com/users/zeke/repos","events_url":"https://api.github.com/users/zeke/events{/privacy}","received_events_url":"https://api.github.com/users/zeke/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2017-03-15T17:59:55Z","label":{"name":"wontfix","color":"ededed"},"performed_via_github_app":null},{"id":1001387112,"node_id":"MDE0OlVubGFiZWxlZEV2ZW50MTAwMTM4NzExMg==","url":"https://api.github.com/repos/electron/electron/issues/events/1001387112","actor":{"login":"zeke","id":2289,"node_id":"MDQ6VXNlcjIyODk=","avatar_url":"https://avatars.githubusercontent.com/u/2289?v=4","gravatar_id":"","url":"https://api.github.com/users/zeke","html_url":"https://github.com/zeke","followers_url":"https://api.github.com/users/zeke/followers","following_url":"https://api.github.com/users/zeke/following{/other_user}","gists_url":"https://api.github.com/users/zeke/gists{/gist_id}","starred_url":"https://api.github.com/users/zeke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zeke/subscriptions","organizations_url":"https://api.github.com/users/zeke/orgs","repos_url":"https://api.github.com/users/zeke/repos","events_url":"https://api.github.com/users/zeke/events{/privacy}","received_events_url":"https://api.github.com/users/zeke/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2017-03-15T18:00:02Z","label":{"name":"wontfix","color":"ededed"},"performed_via_github_app":null},{"actor":{"login":"KagamiChan","id":3816900,"node_id":"MDQ6VXNlcjM4MTY5MDA=","avatar_url":"https://avatars.githubusercontent.com/u/3816900?v=4","gravatar_id":"","url":"https://api.github.com/users/KagamiChan","html_url":"https://github.com/KagamiChan","followers_url":"https://api.github.com/users/KagamiChan/followers","following_url":"https://api.github.com/users/KagamiChan/following{/other_user}","gists_url":"https://api.github.com/users/KagamiChan/gists{/gist_id}","starred_url":"https://api.github.com/users/KagamiChan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KagamiChan/subscriptions","organizations_url":"https://api.github.com/users/KagamiChan/orgs","repos_url":"https://api.github.com/users/KagamiChan/repos","events_url":"https://api.github.com/users/KagamiChan/events{/privacy}","received_events_url":"https://api.github.com/users/KagamiChan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-02T12:28:05Z","updated_at":"2017-05-02T12:28:05Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/electron/electron/issues/9351","repository_url":"https://api.github.com/repos/electron/electron","labels_url":"https://api.github.com/repos/electron/electron/issues/9351/labels{/name}","comments_url":"https://api.github.com/repos/electron/electron/issues/9351/comments","events_url":"https://api.github.com/repos/electron/electron/issues/9351/events","html_url":"https://github.com/electron/electron/issues/9351","id":225679959,"node_id":"MDU6SXNzdWUyMjU2Nzk5NTk=","number":9351,"title":"Add image type to nativeImage.createFromBuffer","user":{"login":"KagamiChan","id":3816900,"node_id":"MDQ6VXNlcjM4MTY5MDA=","avatar_url":"https://avatars.githubusercontent.com/u/3816900?v=4","gravatar_id":"","url":"https://api.github.com/users/KagamiChan","html_url":"https://github.com/KagamiChan","followers_url":"https://api.github.com/users/KagamiChan/followers","following_url":"https://api.github.com/users/KagamiChan/following{/other_user}","gists_url":"https://api.github.com/users/KagamiChan/gists{/gist_id}","starred_url":"https://api.github.com/users/KagamiChan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KagamiChan/subscriptions","organizations_url":"https://api.github.com/users/KagamiChan/orgs","repos_url":"https://api.github.com/users/KagamiChan/repos","events_url":"https://api.github.com/users/KagamiChan/events{/privacy}","received_events_url":"https://api.github.com/users/KagamiChan/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":35575880,"node_id":"MDU6TGFiZWwzNTU3NTg4MA==","url":"https://api.github.com/repos/electron/electron/labels/enhancement%20:sparkles:","name":"enhancement :sparkles:","color":"84b6eb","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2017-05-02T12:28:05Z","updated_at":"2020-10-05T01:15:17Z","closed_at":"2020-10-05T01:15:17Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":9384267,"node_id":"MDEwOlJlcG9zaXRvcnk5Mzg0MjY3","name":"electron","full_name":"electron/electron","private":false,"owner":{"login":"electron","id":13409222,"node_id":"MDEyOk9yZ2FuaXphdGlvbjEzNDA5MjIy","avatar_url":"https://avatars.githubusercontent.com/u/13409222?v=4","gravatar_id":"","url":"https://api.github.com/users/electron","html_url":"https://github.com/electron","followers_url":"https://api.github.com/users/electron/followers","following_url":"https://api.github.com/users/electron/following{/other_user}","gists_url":"https://api.github.com/users/electron/gists{/gist_id}","starred_url":"https://api.github.com/users/electron/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/electron/subscriptions","organizations_url":"https://api.github.com/users/electron/orgs","repos_url":"https://api.github.com/users/electron/repos","events_url":"https://api.github.com/users/electron/events{/privacy}","received_events_url":"https://api.github.com/users/electron/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/electron/electron","description":":electron: Build cross-platform desktop apps with JavaScript, HTML, and CSS","fork":false,"url":"https://api.github.com/repos/electron/electron","forks_url":"https://api.github.com/repos/electron/electron/forks","keys_url":"https://api.github.com/repos/electron/electron/keys{/key_id}","collaborators_url":"https://api.github.com/repos/electron/electron/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/electron/electron/teams","hooks_url":"https://api.github.com/repos/electron/electron/hooks","issue_events_url":"https://api.github.com/repos/electron/electron/issues/events{/number}","events_url":"https://api.github.com/repos/electron/electron/events","assignees_url":"https://api.github.com/repos/electron/electron/assignees{/user}","branches_url":"https://api.github.com/repos/electron/electron/branches{/branch}","tags_url":"https://api.github.com/repos/electron/electron/tags","blobs_url":"https://api.github.com/repos/electron/electron/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/electron/electron/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/electron/electron/git/refs{/sha}","trees_url":"https://api.github.com/repos/electron/electron/git/trees{/sha}","statuses_url":"https://api.github.com/repos/electron/electron/statuses/{sha}","languages_url":"https://api.github.com/repos/electron/electron/languages","stargazers_url":"https://api.github.com/repos/electron/electron/stargazers","contributors_url":"https://api.github.com/repos/electron/electron/contributors","subscribers_url":"https://api.github.com/repos/electron/electron/subscribers","subscription_url":"https://api.github.com/repos/electron/electron/subscription","commits_url":"https://api.github.com/repos/electron/electron/commits{/sha}","git_commits_url":"https://api.github.com/repos/electron/electron/git/commits{/sha}","comments_url":"https://api.github.com/repos/electron/electron/comments{/number}","issue_comment_url":"https://api.github.com/repos/electron/electron/issues/comments{/number}","contents_url":"https://api.github.com/repos/electron/electron/contents/{+path}","compare_url":"https://api.github.com/repos/electron/electron/compare/{base}...{head}","merges_url":"https://api.github.com/repos/electron/electron/merges","archive_url":"https://api.github.com/repos/electron/electron/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/electron/electron/downloads","issues_url":"https://api.github.com/repos/electron/electron/issues{/number}","pulls_url":"https://api.github.com/repos/electron/electron/pulls{/number}","milestones_url":"https://api.github.com/repos/electron/electron/milestones{/number}","notifications_url":"https://api.github.com/repos/electron/electron/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/electron/electron/labels{/name}","releases_url":"https://api.github.com/repos/electron/electron/releases{/id}","deployments_url":"https://api.github.com/repos/electron/electron/deployments","created_at":"2013-04-12T01:47:36Z","updated_at":"2025-12-12T22:27:51Z","pushed_at":"2025-12-12T23:46:08Z","git_url":"git://github.com/electron/electron.git","ssh_url":"git@github.com:electron/electron.git","clone_url":"https://github.com/electron/electron.git","svn_url":"https://github.com/electron/electron","homepage":"https://electronjs.org","size":185954,"stargazers_count":119361,"watchers_count":119361,"language":"C++","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":16786,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":880,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["c-plus-plus","chrome","css","electron","html","javascript","nodejs","v8","works-with-codespaces"],"visibility":"public","forks":16786,"open_issues":880,"watchers":119361,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"<!--\r\nThanks for opening an issue! A few things to keep in mind:\r\n\r\n- The issue tracker is only for bugs and feature requests.\r\n- Before reporting a bug, please try reproducing your issue against\r\n  the latest version of Electron.\r\n- If you need general advice, join our Slack: http://atom-slack.herokuapp.com\r\n-->\r\n\r\n* Electron version: 1.4.16 / 1.6.6 \r\n* Operating system: macOS\r\n\r\n### Expected behavior\r\n\r\n`toBitmap` method returns proper buffer for `nativeImage` created by cropping an existing `nativeImage`\r\n\r\n<!-- What do you think should happen? -->\r\n\r\n### Actual behavior\r\nThe returned buffer's length is not correct, and `createBuffer` from it results in wrong image\r\n\r\n<!-- What actually happens? -->\r\n\r\n### How to reproduce\r\n\r\nThe repo to reproduce is https://github.com/KagamiChan/electron-quick-start/tree/nativeimage-crop (branch `nativeimage-crop`). The renderer script reads the lenna picture, crops it and reconstructs the cropped part using `toBitmap` and `createFromBuffer`:\r\n\r\n```js\r\nconst { nativeImage } = require('electron')\r\nconst { resolve } = require('path')\r\nconst { writeFile } = require('fs')\r\n\r\nconst image = nativeImage.createFromPath(resolve(__dirname, './lena_std.png'))\r\nconst { width, height } = image.getSize()\r\nconst bufferLength = image.toBitmap().length\r\nconsole.log('original image', width, height, bufferLength, width * height * 4)\r\n\r\nconst crop = image.crop({x: 20, y: 20, width: 220, height: 330})\r\nconst { width:cropWidth, height:cropHeight } = crop.getSize()\r\nconst cropLength = crop.toBitmap().length\r\nconst _cropLength = crop.getBitmap().length\r\nconsole.log('cropped image', cropWidth, cropHeight, cropLength, _cropLength, cropWidth * cropHeight * 4)\r\n\r\nwriteFile(resolve(__dirname, './crop.png'), crop.toPNG(), e => {if (e) console.error(e)})\r\n\r\nconst buffer = crop.toBitmap()\r\nconst crop2 = nativeImage.createFromBuffer(buffer, {\r\n  width: cropWidth,\r\n  height: cropHeight,\r\n})\r\nconst cropLength2 = crop2.toBitmap().length\r\nconst _cropLength2 = crop2.getBitmap().length\r\nconsole.log('cropped and restored image', cropWidth, cropHeight, cropLength2, _cropLength2, cropWidth * cropHeight * 4)\r\n\r\nconst pngBuffer = crop2.toPNG()\r\nwriteFile(resolve(__dirname, './crop2.png'), pngBuffer, e => {if (e) console.error(e)})\r\n```\r\n\r\nthe console log:\r\n```\r\noriginal image 512 512 1048576 1048576\r\ncropped image 220 330 674672 674672 290400\r\ncropped and restored image 220 330 290400 290400 290400\r\n```\r\n\r\nObservations:\r\n- the nativeImage created from lenna picture gives a buffer length that equals to `width * height * 4`\r\n- the cropped nativeImage object returns a buffer with much larger size, since a node buffer's length is the memory allocated, this could happen\r\n- however, the reconstructed nativeImage object's content is not what we expected\r\n\r\ncrop.png (what we expect)\r\n![crop](https://cloud.githubusercontent.com/assets/3816900/25617416/ccb851b0-2f74-11e7-8b5e-51e8beed33df.png)\r\n\r\ncrop2.png (the reconstructed)\r\n![crop2](https://cloud.githubusercontent.com/assets/3816900/25617420/d0fc8232-2f74-11e7-87cc-40a8d59b8a47.png)\r\n\r\nIn my opinion `toBitmap` method is most suspicious but `crop` is another possibility because there's another issue (#8017) related to it\r\n\r\n<!-- \r\n\r\nYour best chance of getting this bug looked at quickly is to provide a REPOSITORY that can be cloned and run.\r\n\r\nYou can fork https://github.com/electron/electron-quick-start and include a link to the branch with your changes.\r\n\r\nIf you provide a URL, please list the commands required to clone/setup/run your repo e.g.\r\n\r\n  $ git clone $YOUR_URL -b $BRANCH\r\n  $ npm install\r\n  $ npm start || electron .\r\n\r\n-->\r\n","reactions":{"url":"https://api.github.com/repos/electron/electron/issues/9351/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/electron/electron/issues/9351/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":1244605023,"node_id":"MDExOkNsb3NlZEV2ZW50MTI0NDYwNTAyMw==","url":"https://api.github.com/repos/electron/electron/issues/events/1244605023","actor":{"login":"zcbenz","id":639601,"node_id":"MDQ6VXNlcjYzOTYwMQ==","avatar_url":"https://avatars.githubusercontent.com/u/639601?v=4","gravatar_id":"","url":"https://api.github.com/users/zcbenz","html_url":"https://github.com/zcbenz","followers_url":"https://api.github.com/users/zcbenz/followers","following_url":"https://api.github.com/users/zcbenz/following{/other_user}","gists_url":"https://api.github.com/users/zcbenz/gists{/gist_id}","starred_url":"https://api.github.com/users/zcbenz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zcbenz/subscriptions","organizations_url":"https://api.github.com/users/zcbenz/orgs","repos_url":"https://api.github.com/users/zcbenz/repos","events_url":"https://api.github.com/users/zcbenz/events{/privacy}","received_events_url":"https://api.github.com/users/zcbenz/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"5f2dd2ef6c39cf96abdbd1d6f57d15d4662779c5","commit_url":"https://api.github.com/repos/electron/electron/commits/5f2dd2ef6c39cf96abdbd1d6f57d15d4662779c5","created_at":"2017-09-12T06:02:51Z","state_reason":null,"performed_via_github_app":null},{"id":1244605025,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDEyNDQ2MDUwMjU=","url":"https://api.github.com/repos/electron/electron/issues/events/1244605025","actor":{"login":"zcbenz","id":639601,"node_id":"MDQ6VXNlcjYzOTYwMQ==","avatar_url":"https://avatars.githubusercontent.com/u/639601?v=4","gravatar_id":"","url":"https://api.github.com/users/zcbenz","html_url":"https://github.com/zcbenz","followers_url":"https://api.github.com/users/zcbenz/followers","following_url":"https://api.github.com/users/zcbenz/following{/other_user}","gists_url":"https://api.github.com/users/zcbenz/gists{/gist_id}","starred_url":"https://api.github.com/users/zcbenz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zcbenz/subscriptions","organizations_url":"https://api.github.com/users/zcbenz/orgs","repos_url":"https://api.github.com/users/zcbenz/repos","events_url":"https://api.github.com/users/zcbenz/events{/privacy}","received_events_url":"https://api.github.com/users/zcbenz/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"894bcdf7498c412e5e0ad34ddf42771872fcba5e","commit_url":"https://api.github.com/repos/electron/electron/commits/894bcdf7498c412e5e0ad34ddf42771872fcba5e","created_at":"2017-09-12T06:02:51Z","performed_via_github_app":null}]