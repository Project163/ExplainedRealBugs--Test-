<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 17:43:07 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CSV-121] IllegalArgumentException thrown when the header contains duplicate names when the column names are empty.</title>
                <link>https://issues.apache.org/jira/browse/CSV-121</link>
                <project id="12313222" key="CSV">Commons CSV</project>
                    <description>&lt;p&gt;When having a header like a,,c,d,, an IllegalArgumentException(&quot;The header contains duplicate names: &quot; +Arrays.toString(header) is thrown because empty header names are treated as a header with name. I sended in a pullrequest at github: &lt;a href=&quot;https://github.com/apache/commons-csv/pull/2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-csv/pull/2&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12720431">CSV-121</key>
            <summary>IllegalArgumentException thrown when the header contains duplicate names when the column names are empty.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="tuxBurner">Sebastian Hardt</reporter>
                        <labels>
                    </labels>
                <created>Tue, 10 Jun 2014 19:44:56 +0000</created>
                <updated>Thu, 14 Aug 2014 20:06:21 +0000</updated>
                            <resolved>Thu, 12 Jun 2014 15:39:57 +0000</resolved>
                                                    <fixVersion>1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14026903" author="garydgregory" created="Tue, 10 Jun 2014 19:52:09 +0000"  >&lt;p&gt;When does it make sense to have a mix of named and unnamed columns? IOW, what is your user story?&lt;/p&gt;</comment>
                            <comment id="14028603" author="sebb@apache.org" created="Wed, 11 Jun 2014 23:53:16 +0000"  >&lt;p&gt;Two comments:&lt;br/&gt;
1) the patch in the pull request includes lots of spurious changes. Even if the change is agreed, the patch cannot be used as it stands&lt;/p&gt;

&lt;p&gt;2) The patch ignores columns with no names; I would have thought a more suitable fix would be to report IAE for an empty column name. In other words, the current behaviour is correct, but the IAE message is a bit confusing and could be changed.&lt;/p&gt;</comment>
                            <comment id="14028625" author="ebourg" created="Thu, 12 Jun 2014 00:10:04 +0000"  >&lt;p&gt;You would throw an IAE even if the header contains only one empty column name? That sounds a bit restrictive to me.&lt;/p&gt;</comment>
                            <comment id="14028636" author="sebb@apache.org" created="Thu, 12 Jun 2014 00:16:52 +0000"  >&lt;p&gt;What is the use case for a missing column name?&lt;br/&gt;
Either one provides names for all the columns, or none.&lt;/p&gt;</comment>
                            <comment id="14028642" author="ebourg" created="Thu, 12 Jun 2014 00:22:11 +0000"  >&lt;p&gt;I don&apos;t know if there is a use case, but turning a harmless case (one empty column name) into an error doesn&apos;t seem right.&lt;/p&gt;</comment>
                            <comment id="14028648" author="sebb@apache.org" created="Thu, 12 Jun 2014 00:27:28 +0000"  >&lt;p&gt;Is a missing column name really harmless?&lt;/p&gt;</comment>
                            <comment id="14028719" author="ggregory" created="Thu, 12 Jun 2014 01:48:23 +0000"  >&lt;p&gt;Playing devil&apos;s advocate here. The only case where I have seen empty column names is when looking at certain SQL result sets where a column value is the result of a computation for example, SELECT 1+COLUMNX FROM SOMETABLE. In this case, this result has one column but no column name. In SQL you can usually assign a label to a column but you do not have to. Therefore, if your CSV file is the result of a database export, it is quite possible to end up with empty column names mixed with real column names.&lt;/p&gt;</comment>
                            <comment id="14028925" author="tuxburner" created="Thu, 12 Jun 2014 08:05:55 +0000"  >&lt;p&gt;I use the libary in a project where users can upload a csv, to import data into the system.&lt;br/&gt;
They have a lot of csv like this, so this is a problem which exists in the real world. &lt;br/&gt;
I  can change the patch, so this behaviour  can be configured by a flag in the csvparser.&lt;/p&gt;</comment>
                            <comment id="14029100" author="garydgregory" created="Thu, 12 Jun 2014 12:27:46 +0000"  >&lt;p&gt;A &quot;allowBlankColumnNames&quot; flag?&lt;/p&gt;</comment>
                            <comment id="14029120" author="ebourg" created="Thu, 12 Jun 2014 12:59:45 +0000"  >&lt;p&gt;Or simply disable the error when duplicate column names are found. Being able to parse malformed or ambiguous input is a plus.&lt;/p&gt;</comment>
                            <comment id="14029272" author="garydgregory" created="Thu, 12 Jun 2014 15:39:32 +0000"  >&lt;p&gt;I Added the format setting &lt;tt&gt;ignoreEmptyHeaders&lt;/tt&gt;, which defaults to false to keep the IAE as the default behavior.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;commit -m &quot;[CSV-121] Exception that the header contains duplicate names when the column names are empty. Added the setting ignoreEmptyHeaders, defaults to false to keep the IAE as the default behavior.&quot; C:/vcs/svn/apache/commons/trunks-proper/csv/src/test/java/org/apache/commons/csv/CSVParserTest.java C:/vcs/svn/apache/commons/trunks-proper/csv/src/main/java/org/apache/commons/csv/CSVFormat.java C:/vcs/svn/apache/commons/trunks-proper/csv/src/main/java/org/apache/commons/csv/CSVParser.java C:/vcs/svn/apache/commons/trunks-proper/csv/src/changes/changes.xml
    Sending        C:/vcs/svn/apache/commons/trunks-proper/csv/src/changes/changes.xml
    Sending        C:/vcs/svn/apache/commons/trunks-proper/csv/src/main/java/org/apache/commons/csv/CSVFormat.java
    Sending        C:/vcs/svn/apache/commons/trunks-proper/csv/src/main/java/org/apache/commons/csv/CSVParser.java
    Sending        C:/vcs/svn/apache/commons/trunks-proper/csv/src/test/java/org/apache/commons/csv/CSVParserTest.java
    Transmitting file data ...
    Committed revision 1602206.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>398630</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 23 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1wmnj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>398755</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>