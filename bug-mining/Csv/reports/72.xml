<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 17:43:29 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CSV-203] withNullString value is printed without quotes when QuoteMode.ALL is specified; add QuoteMode.ALL_NON_NULL</title>
                <link>https://issues.apache.org/jira/browse/CSV-203</link>
                <project id="12313222" key="CSV">Commons CSV</project>
                    <description>&lt;p&gt;When setting QuoteMode.ALL is set we expect all values to be quoted, even those set as a default. This works in Commons 1.2 but doesn&apos;t in 1.4.&lt;/p&gt;

&lt;p&gt;Consider the following program:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.commons.csv.QuoteMode;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.commons.csv.CSVFormat;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.commons.csv.CSVPrinter;

&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;CommonsCsvIsSlightlyBroken {
    
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void main(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] args) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
        CSVFormat format = CSVFormat.EXCEL
            .withNullString(&lt;span class=&quot;code-quote&quot;&gt;&quot;N/A&quot;&lt;/span&gt;)
            .withIgnoreSurroundingSpaces(&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;)
            .withQuoteMode(QuoteMode.ALL);
        CSVPrinter printer = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; CSVPrinter(&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out, format);
        printer.printRecord(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;[] { &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;Hello&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;World&quot;&lt;/span&gt; });
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;For 1.2 we get quoted output:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;richard@kichemaru:~/$ java -cp ~/.m2/repository/org/apache/commons/commons-csv/1.2/commons-csv-1.2.jar:. CommonsCsvIsSlightlyBroken
&lt;span class=&quot;code-quote&quot;&gt;&quot;N/A&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;Hello&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;N/A&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;World&quot;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;When run with 1.4 we get unquoted output for default fields:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;richard@kichemaru:~/$ java -cp ~/.m2/repository/org/apache/commons/commons-csv/1.4/commons-csv-1.4.jar:. CommonsCsvIsSlightlyBroken
N/A,&lt;span class=&quot;code-quote&quot;&gt;&quot;Hello&quot;&lt;/span&gt;,N/A,&lt;span class=&quot;code-quote&quot;&gt;&quot;World&quot;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13022526">CSV-203</key>
            <summary>withNullString value is printed without quotes when QuoteMode.ALL is specified; add QuoteMode.ALL_NON_NULL</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="zcacrgw">Richard Wheeldon</reporter>
                        <labels>
                            <label>regression</label>
                    </labels>
                <created>Tue, 22 Nov 2016 15:48:51 +0000</created>
                <updated>Sun, 3 Sep 2017 05:51:30 +0000</updated>
                            <resolved>Mon, 27 Mar 2017 19:04:28 +0000</resolved>
                                    <version>1.3</version>
                    <version>1.4</version>
                                    <fixVersion>1.5</fixVersion>
                                    <component>Printer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="15687105" author="zcacrgw" created="Tue, 22 Nov 2016 15:58:23 +0000"  >&lt;p&gt;Also broken in 1.3&lt;/p&gt;</comment>
                            <comment id="15687619" author="britter" created="Tue, 22 Nov 2016 19:19:06 +0000"  >&lt;p&gt;Very nice wording &quot;CommonsCsvIsSlightlyBroken&quot; - makes me want to fix that right away for you &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Are you up for providing a patch?&lt;/p&gt;</comment>
                            <comment id="15687964" author="garydgregory" created="Tue, 22 Nov 2016 21:32:37 +0000"  >&lt;p&gt;Right up the alley of a &quot;ImNotDeadYet&quot;! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15689644" author="zcacrgw" created="Wed, 23 Nov 2016 10:09:51 +0000"  >&lt;p&gt;In principle, yes. I&apos;ll take a look at what&apos;s involved and let you know.&lt;/p&gt;</comment>
                            <comment id="15689714" author="britter" created="Wed, 23 Nov 2016 10:39:15 +0000"  >&lt;p&gt;Great! Did you know, that it is possible to submit GitHub PRs? Just in case you like that more: &lt;a href=&quot;https://github.com/apache/commons-csv&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-csv&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15728106" author="nexus7tha" created="Wed, 7 Dec 2016 08:24:38 +0000"  >&lt;p&gt;The change was introduced when fixing &lt;a href=&quot;https://issues.apache.org/jira/browse/CSV-168&quot; title=&quot;CsvFormat.nullString should not be escaped&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CSV-168&quot;&gt;&lt;del&gt;CSV-168&lt;/del&gt;&lt;/a&gt; (CsvFormat.nullString should not be escaped)&lt;br/&gt;
commit ID: f8b80e83417c3c7eeed1282118f64fa0e85c4787&lt;/p&gt;</comment>
                            <comment id="15732639" author="garydgregory" created="Thu, 8 Dec 2016 16:23:49 +0000"  >&lt;p&gt;Patches welcome! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15734727" author="nexus7tha" created="Fri, 9 Dec 2016 08:51:28 +0000"  >&lt;p&gt;I don&apos;t think this issue should be fixed because &lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;It is a common practice to not quote the NULL values (if a value is quoted, it is the real value, not the NULL value)&lt;/li&gt;
	&lt;li&gt;nullString can be configured to include the quoted value if it is really needed&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;More info:&lt;/p&gt;

&lt;p&gt;    1. MySQL doc (&lt;a href=&quot;http://dev.mysql.com/doc/refman/5.7/en/load-data.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://dev.mysql.com/doc/refman/5.7/en/load-data.html&lt;/a&gt;)&lt;/p&gt;
    &lt;blockquote&gt;&lt;p&gt;If FIELDS ENCLOSED BY is not empty, a field containing the literal word NULL as its value is read as a NULL value. This differs from the word NULL enclosed within FIELDS ENCLOSED BY characters, which is read as the string &apos;NULL&apos;.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;    2. PostgreSQL doc  (&lt;a href=&quot;https://www.postgresql.org/docs/9.2/static/sql-copy.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.postgresql.org/docs/9.2/static/sql-copy.html&lt;/a&gt;)&lt;/p&gt;
     &lt;blockquote&gt;&lt;p&gt;Forces quoting to be used for all non-NULL values in each specified column. NULL output is never quoted. If * is specified, non-NULL values will be quoted in all columns. This option is allowed only in COPY TO, and only when using CSV format.&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="15734742" author="nexus7tha" created="Fri, 9 Dec 2016 08:58:50 +0000"  >&lt;p&gt;Added link to &lt;a href=&quot;https://issues.apache.org/jira/browse/CSV-93&quot; title=&quot;Allow the handling of NULL values&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CSV-93&quot;&gt;&lt;del&gt;CSV-93&lt;/del&gt;&lt;/a&gt; which is suggesting same idea about representing NULL values&lt;/p&gt;</comment>
                            <comment id="15931720" author="kparoth" created="Sun, 19 Mar 2017 14:44:39 +0000"  >&lt;p&gt;My Pull-Request: &lt;a href=&quot;https://github.com/apache/commons-csv/pull/17&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-csv/pull/17&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15943848" author="garydgregory" created="Mon, 27 Mar 2017 19:04:28 +0000"  >&lt;p&gt;In Git master. Please verify and close.&lt;/p&gt;</comment>
                            <comment id="15943861" author="garydgregory" created="Mon, 27 Mar 2017 19:09:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nexus7tha&quot; class=&quot;user-hover&quot; rel=&quot;nexus7tha&quot;&gt;nexus7tha&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WRT to MySQL and PostgreSQL, we just need to make sure that our presets for these two are correct.&lt;/p&gt;

&lt;p&gt;Gary&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12600636">CSV-93</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13059493">CSV-207</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 33 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i36my7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>