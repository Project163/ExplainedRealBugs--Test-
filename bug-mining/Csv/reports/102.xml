<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 17:43:53 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CSV-148] Add test cases for withIgnoreSurroundingSpaces() and withTrim() #70</title>
                <link>https://issues.apache.org/jira/browse/CSV-148</link>
                <project id="12313222" key="CSV">Commons CSV</project>
                    <description>&lt;p&gt;It seems that &lt;tt&gt;CSVFormat&lt;/tt&gt;&apos;s property &lt;tt&gt;ignoreSurroundingSpaces&lt;/tt&gt; is not taken into consideration while printing out values using &lt;tt&gt;CSVPrinter&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;Given:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(
	CSVFormat.DEFAULT
			.withIgnoreSurroundingSpaces(&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;)
			.format(&quot;&quot;,
				&lt;span class=&quot;code-quote&quot;&gt;&quot; &quot;&lt;/span&gt;,
				&lt;span class=&quot;code-quote&quot;&gt;&quot; Single space on the left&quot;&lt;/span&gt;,
				&lt;span class=&quot;code-quote&quot;&gt;&quot;Single space on the right &quot;&lt;/span&gt;,
				&lt;span class=&quot;code-quote&quot;&gt;&quot; Single spaces on both sides &quot;&lt;/span&gt;,
				&lt;span class=&quot;code-quote&quot;&gt;&quot;   Multiple spaces on the left&quot;&lt;/span&gt;,
				&lt;span class=&quot;code-quote&quot;&gt;&quot;Multiple spaces on the right    &quot;&lt;/span&gt;,
				&lt;span class=&quot;code-quote&quot;&gt;&quot;  Multiple spaces on both sides     &quot;&lt;/span&gt;)
);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Actual result:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-quote&quot;&gt;&quot;&quot;,&quot;&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;,&quot;&lt;/span&gt; Single space on the left&lt;span class=&quot;code-quote&quot;&gt;&quot;,&quot;&lt;/span&gt;Single space on the right &lt;span class=&quot;code-quote&quot;&gt;&quot;,&quot;&lt;/span&gt; Single spaces on both sides &lt;span class=&quot;code-quote&quot;&gt;&quot;,&quot;&lt;/span&gt;   Multiple spaces on the left&lt;span class=&quot;code-quote&quot;&gt;&quot;,&quot;&lt;/span&gt;Multiple spaces on the right    &lt;span class=&quot;code-quote&quot;&gt;&quot;,&quot;&lt;/span&gt;  Multiple spaces on both sides     &quot;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Expected result:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-quote&quot;&gt;&quot;&quot;,&quot;&lt;/span&gt;&lt;span class=&quot;code-quote&quot;&gt;&quot;,&quot;&lt;/span&gt;Single space on the left&lt;span class=&quot;code-quote&quot;&gt;&quot;,&quot;&lt;/span&gt;Single space on the right&lt;span class=&quot;code-quote&quot;&gt;&quot;,&quot;&lt;/span&gt;Single spaces on both sides&lt;span class=&quot;code-quote&quot;&gt;&quot;,&quot;&lt;/span&gt;Multiple spaces on the left&lt;span class=&quot;code-quote&quot;&gt;&quot;,&quot;&lt;/span&gt;Multiple spaces on the right&lt;span class=&quot;code-quote&quot;&gt;&quot;,&quot;&lt;/span&gt;Multiple spaces on both sides&quot;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;JDK 1.7&lt;/p&gt;</environment>
        <key id="12768427">CSV-148</key>
            <summary>Add test cases for withIgnoreSurroundingSpaces() and withTrim() #70</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cpio">Piotr Ciruk</reporter>
                        <labels>
                    </labels>
                <created>Mon, 19 Jan 2015 11:57:11 +0000</created>
                <updated>Sat, 3 Jul 2021 18:45:39 +0000</updated>
                            <resolved>Sat, 3 Jul 2021 18:45:39 +0000</resolved>
                                    <version>1.1</version>
                                    <fixVersion>1.9.0</fixVersion>
                                    <component>Printer</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>9</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="3000">50m</timespent>
                                <comments>
                            <comment id="14282442" author="britter" created="Mon, 19 Jan 2015 12:03:02 +0000"  >&lt;p&gt;Patches welcome &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14307694" author="nbischof" created="Thu, 5 Feb 2015 18:20:51 +0000"  >&lt;p&gt;I prepared a patch.&lt;br/&gt;
How can I submit?&lt;/p&gt;

&lt;p&gt;base is:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;trunk&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;URL: http://svn.apache.org/repos/asf/commons/proper/csv/trunk
Repository Root: http://svn.apache.org/repos/asf
Repository UUID: 13f79535-47bb-0310-9956-ffa450edef68
Revision: 1657615
Node Kind: directory
Schedule: normal
Last Changed Author: britter
Last Changed Rev: 1651287
Last Changed Date: 2015-01-13 08:05:25 +0100 (Tue, 13 Jan 2015)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14307741" author="garydgregory" created="Thu, 5 Feb 2015 18:44:40 +0000"  >&lt;p&gt;Attach your patch (with unit tests) to this Jira issue.&lt;/p&gt;</comment>
                            <comment id="14309688" author="nbischof" created="Fri, 6 Feb 2015 19:17:02 +0000"  >&lt;p&gt;Here is the patch with test case.&lt;br/&gt;
To use your example in the test method I had to use &lt;tt&gt;CSVFormat.DEFAULT.withQuoteMode(QuoteMode.ALL)...&lt;/tt&gt; to get it green, since &lt;tt&gt;QuoteMode.MINIMAL&lt;/tt&gt; is the default.&lt;/p&gt;

&lt;p&gt;Please review.&lt;/p&gt;</comment>
                            <comment id="14321887" author="britter" created="Sun, 15 Feb 2015 09:24:25 +0000"  >&lt;p&gt;Setting this to Review patch.&lt;/p&gt;</comment>
                            <comment id="14996946" author="mercynary" created="Mon, 9 Nov 2015 17:28:11 +0000"  >&lt;p&gt;It&apos;s also ignored at parsing time.&lt;/p&gt;</comment>
                            <comment id="15243781" author="pratiyush" created="Fri, 15 Apr 2016 22:54:32 +0000"  >
&lt;p&gt;Better way:&lt;br/&gt;
if(format.getIgnoreSurroundingSpaces())&lt;/p&gt;
{
+                strValue = strValue.trim();
+            }else{
                 strValue = value.toString();
            }&lt;br/&gt;
&lt;br/&gt;
Rather than comparing twice&lt;br/&gt;
======&lt;br/&gt;
 strValue = value.toString();&lt;br/&gt;
+            if(format.getIgnoreSurroundingSpaces()){+                strValue = strValue.trim();+            }</comment>
                            <comment id="15243791" author="pratiyush" created="Fri, 15 Apr 2016 23:01:33 +0000"  >&lt;p&gt;But Still it fails in particular scenario.&lt;/p&gt;

&lt;p&gt;SYSO (CSVFormat.DEFAULT.withIgnoreSurroundingSpaces(true).format(&quot;&quot;,&quot;&quot;));&lt;/p&gt;

&lt;p&gt;Actual Output: &quot;&quot;,&lt;br/&gt;
Expected Output : &quot;&quot;,&quot;&quot;&lt;/p&gt;</comment>
                            <comment id="15245014" author="garydgregory" created="Mon, 18 Apr 2016 00:50:18 +0000"  >&lt;p&gt;Well, a failing patch is no good &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;/p&gt;</comment>
                            <comment id="15307795" author="bond_" created="Tue, 31 May 2016 14:26:44 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pratiyush&quot; class=&quot;user-hover&quot; rel=&quot;pratiyush&quot;&gt;pratiyush&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=garydgregory&quot; class=&quot;user-hover&quot; rel=&quot;garydgregory&quot;&gt;garydgregory&lt;/a&gt; Isn&apos;t this the same as withTrim(true) ?&lt;/p&gt;</comment>
                            <comment id="17053939" author="guoping1" created="Sat, 7 Mar 2020 08:14:34 +0000"  >&lt;p&gt;just replace&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
.withIgnoreSurroundingSpaces(&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt; to &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
.withTrim()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;the testunit could past . so why dou we need a patch?&lt;/p&gt;</comment>
                            <comment id="17134695" author="guoping1" created="Sat, 13 Jun 2020 08:52:31 +0000"  >&lt;p&gt;This is a problem of use, not a bug.&lt;/p&gt;

&lt;p&gt;I added test cases to illustrate the difference between withIgnoreSurroundingSpace() and withTrim() in PR #70&lt;/p&gt;

&lt;p&gt;This should be resolved.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12799031" name="commons-csv_CSV-148.patch" size="587" author="pratiyush" created="Fri, 15 Apr 2016 22:54:32 +0000"/>
                            <attachment id="12697093" name="commons-csv_CSV-148.patch" size="2048" author="nbischof" created="Fri, 6 Feb 2015 19:17:02 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 22 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i24irr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>