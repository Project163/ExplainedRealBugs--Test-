diff --git a/externs/window.js b/externs/window.js
index e1a69f751..ef075986b 100644
--- a/externs/window.js
+++ b/externs/window.js
@@ -22,7 +22,7 @@
  */
 
 // Window properties
-// Only common properties are here.  Others such as open() and setTimeout()
+// Only common properties are here.  Others such as open()
 // should be used with an explicit Window object.
 
 /**
@@ -144,6 +144,7 @@ function prompt(x, opt_value) {}
  * @param {number} delay
  * @param {*} var_args
  * @return {number}
+ * @see https://developer.mozilla.org/en/DOM/window.setInterval
  */
 function setInterval(callback, delay, var_args) {}
 
@@ -152,5 +153,6 @@ function setInterval(callback, delay, var_args) {}
  * @param {number} delay
  * @param {*} var_args
  * @return {number}
+ * @see https://developer.mozilla.org/en/DOM/window.setTimeout
  */
 function setTimeout(callback, delay, var_args) {}
diff --git a/lib/google_common_deploy.jar b/lib/google_common_deploy.jar
index dfaed3a51..df5cb1d96 100755
Binary files a/lib/google_common_deploy.jar and b/lib/google_common_deploy.jar differ
diff --git a/src/com/google/javascript/jscomp/CoalesceVariableNames.java b/src/com/google/javascript/jscomp/CoalesceVariableNames.java
index 0ff0b5772..abb36674f 100644
--- a/src/com/google/javascript/jscomp/CoalesceVariableNames.java
+++ b/src/com/google/javascript/jscomp/CoalesceVariableNames.java
@@ -16,7 +16,9 @@
 
 package com.google.javascript.jscomp;
 
+import com.google.common.base.Join;
 import com.google.common.collect.Lists;
+import com.google.common.collect.Sets;
 import com.google.javascript.jscomp.ControlFlowGraph.AbstractCfgNodeTraversalCallback;
 import com.google.javascript.jscomp.ControlFlowGraph.Branch;
 import com.google.javascript.jscomp.DataFlowAnalysis.FlowState;
@@ -25,11 +27,11 @@ import com.google.javascript.jscomp.NodeTraversal.AbstractPostOrderCallback;
 import com.google.javascript.jscomp.NodeTraversal.ScopedCallback;
 import com.google.javascript.jscomp.Scope.Var;
 import com.google.javascript.jscomp.graph.GraphColoring;
-import com.google.javascript.jscomp.graph.LinkedUndirectedGraph;
 import com.google.javascript.jscomp.graph.GraphNode;
+import com.google.javascript.jscomp.graph.LinkedUndirectedGraph;
+import com.google.javascript.jscomp.graph.UndiGraph;
 import com.google.javascript.jscomp.graph.DiGraph.DiGraphNode;
 import com.google.javascript.jscomp.graph.GraphColoring.GreedyGraphColoring;
-import com.google.javascript.jscomp.graph.UndiGraph;
 import com.google.javascript.rhino.Node;
 import com.google.javascript.rhino.Token;
 
@@ -60,10 +62,8 @@ class CoalesceVariableNames extends AbstractPostOrderCallback implements
     CompilerPass, ScopedCallback {
 
   private final AbstractCompiler compiler;
-  private final Deque<GraphColoring<Var, ?>> colorings;
-
-  /** Logs all name assignments */
-  private StringBuilder coalescedLog;
+  private final Deque<GraphColoring<Var, Void>> colorings;
+  private final boolean usePseudoNames;
 
   private static final Comparator<Var> coloringTieBreaker =
       new Comparator<Var>() {
@@ -72,19 +72,19 @@ class CoalesceVariableNames extends AbstractPostOrderCallback implements
     }
   };
 
-  CoalesceVariableNames(AbstractCompiler compiler) {
+  /**
+   * @param usePseudoNames For debug purposes, when merging variable foo and bar
+   * to foo, rename both variable to foo_bar.
+   */
+  CoalesceVariableNames(AbstractCompiler compiler, boolean usePseudoNames) {
     this.compiler = compiler;
     colorings = Lists.newLinkedList();
-    coalescedLog = new StringBuilder();
+    this.usePseudoNames = usePseudoNames;
   }
 
   @Override
   public void process(Node externs, Node root) {
     NodeTraversal.traverse(compiler, root, this);
-
-    // Lastly, write the report to the debug log.
-    compiler.addToDebugLog("JS vars coalesced:\n" + coalescedLog.toString());
-    coalescedLog = new StringBuilder();
   }
 
   @Override
@@ -107,7 +107,7 @@ class CoalesceVariableNames extends AbstractPostOrderCallback implements
         computeVariableNamesInterferenceGraph(
             t, cfg, liveness.getEscapedLocals());
 
-    GraphColoring<Var, ?> coloring =
+    GraphColoring<Var, Void> coloring =
         new GreedyGraphColoring<Var, Void>(interferenceGraph,
             coloringTieBreaker);
 
@@ -137,24 +137,54 @@ class CoalesceVariableNames extends AbstractPostOrderCallback implements
       return;
     }
     Var coalescedVar = colorings.peek().getPartitionSuperNode(var);
-    if (vNode.getValue().equals(coalescedVar)) {
-      // The coalesced name is itself, nothing to do.
-      return;
-    }
+    
+    if (!usePseudoNames) {
+      if (vNode.getValue().equals(coalescedVar)) {
+        // The coalesced name is itself, nothing to do.
+        return;
+      }
 
-    if (var.getNameNode() == n) {
-      coalescedLog.append(n.getString()).append(" => ")
-          .append(coalescedVar.name).append(" in ")
-          .append(t.getSourceName()).append(':')
-          .append(n.getLineno()).append('\n');
-    }
+      // Rename.
+      n.setString(coalescedVar.name);
+      compiler.reportCodeChange();
 
-    // Rename.
-    n.setString(coalescedVar.name);
-    compiler.reportCodeChange();
+      if (NodeUtil.isVar(parent)) {
+        removeVarDeclaration(n);
+      }
+    } else {
+      // This code block is slow but since usePseudoName is for debugging,
+      // we should not sacrifice performance for non-debugging compilation to
+      // make this fast.
+      String pseudoName = null;
+      Set<String> allMergedNames = Sets.newTreeSet();
+      for (Iterator<Var> i = t.getScope().getVars(); i.hasNext();) {
+        Var iVar = i.next();
+        
+        // Look for all the variables that can be merged (in the graph by now)
+        // and it is merged with the current coalscedVar.
+        if (colorings.peek().getGraph().getNode(iVar) != null &&
+            coalescedVar.equals(colorings.peek().getPartitionSuperNode(iVar))) {
+          allMergedNames.add(iVar.name);
+        }
+      }
+      
+      // Keep its original name.
+      if (allMergedNames.size() == 1) {
+        return;
+      }
+      
+      pseudoName = Join.join("_", allMergedNames);
+      
+      while (t.getScope().isDeclared(pseudoName, true)) {
+        pseudoName += "$";
+      }
+      
+      n.setString(pseudoName);
+      compiler.reportCodeChange();
 
-    if (NodeUtil.isVar(parent)) {
-      removeVarDeclaration(n);
+      if (!vNode.getValue().equals(coalescedVar) && NodeUtil.isVar(parent)) {
+        removeVarDeclaration(n);
+      }
     }
   }
 
diff --git a/src/com/google/javascript/jscomp/DefaultPassConfig.java b/src/com/google/javascript/jscomp/DefaultPassConfig.java
index 88a023fee..00dd1ebbf 100644
--- a/src/com/google/javascript/jscomp/DefaultPassConfig.java
+++ b/src/com/google/javascript/jscomp/DefaultPassConfig.java
@@ -1397,7 +1397,7 @@ public class DefaultPassConfig extends PassConfig {
       new PassFactory("coalesceVariableNames", true) {
     @Override
     protected CompilerPass createInternal(AbstractCompiler compiler) {
-      return new CoalesceVariableNames(compiler);
+      return new CoalesceVariableNames(compiler, options.generatePseudoNames);
     }
   };
 
diff --git a/src/com/google/javascript/jscomp/FoldConstants.java b/src/com/google/javascript/jscomp/FoldConstants.java
index d7bd5d5d6..63dc6efd2 100644
--- a/src/com/google/javascript/jscomp/FoldConstants.java
+++ b/src/com/google/javascript/jscomp/FoldConstants.java
@@ -1556,7 +1556,8 @@ class FoldConstants extends AbstractPostOrderCallback
     if (left.getType() == Token.ARRAYLIT) {
 
       if (right.getType() != Token.NUMBER) {
-        error(t, INVALID_GETELEM_INDEX_ERROR, right);
+        // Sometimes people like to use complex expressions to index into
+        // arrays, or strings to index into array methods.
         return;
       }
 
diff --git a/test/com/google/javascript/jscomp/CoalesceVariableNamesTest.java b/test/com/google/javascript/jscomp/CoalesceVariableNamesTest.java
index 14ef0e685..b6d6e50d8 100644
--- a/test/com/google/javascript/jscomp/CoalesceVariableNamesTest.java
+++ b/test/com/google/javascript/jscomp/CoalesceVariableNamesTest.java
@@ -27,12 +27,24 @@ public class CoalesceVariableNamesTest extends CompilerTestCase {
   // The spacing in this file is not exactly standard but it greatly helps
   // picking out which variable names are merged.
 
+  private boolean usePseudoName = false;
+  
+  @Override
+  protected int getNumRepetitions() {
+   return 1;
+  }  
+  
+  @Override
+  public void setUp() {
+    usePseudoName = false;
+  }
+  
   @Override
   public CompilerPass getProcessor(final Compiler compiler) {
     return new CompilerPass() {
       public void process(Node externs, Node js) {
         NodeTraversal.traverse(compiler, js,
-            new CoalesceVariableNames(compiler));
+            new CoalesceVariableNames(compiler, usePseudoName));
       }
     };
   }
@@ -329,6 +341,31 @@ public class CoalesceVariableNamesTest extends CompilerTestCase {
         "   this.load();");
   }
 
+  public void testUsePseduoNames() {
+    usePseudoName = true;
+    inFunction("var x   = 0; print(x  ); var   y = 1; print(  y)",
+               "var x_y = 0; print(x_y);     x_y = 1; print(x_y)");
+    
+    inFunction("var x_y = 1; var x   = 0; print(x  ); var     y = 1;" + 
+               "print(  y); print(x_y);",
+
+               "var x_y = 1; var x_y$ = 0; print(x_y$);     x_y$ = 1;" + "" +
+               "print(x_y$); print(x_y);");
+    
+    inFunction("var x_y = 1; function f() {" +
+               "var x    = 0; print(x  ); var y = 1; print( y);" +
+               "print(x_y);}",
+
+               "var x_y = 1; function f() {" +
+               "var x_y$ = 0; print(x_y$); x_y$ = 1; print(x_y$);" +
+               "print(x_y);}");
+    
+    inFunction("var x   = 0; print(x  ); var   y = 1; print(  y); " +
+               "var closure_var; function bar() { print(closure_var); }",
+               "var x_y = 0; print(x_y);     x_y = 1; print(x_y); " +
+               "var closure_var; function bar() { print(closure_var); }");
+  }
+  
   private void inFunction(String src) {
     inFunction(src, src);
   }
diff --git a/test/com/google/javascript/jscomp/FoldConstantsTest.java b/test/com/google/javascript/jscomp/FoldConstantsTest.java
index 196f54c28..c5544a6dc 100644
--- a/test/com/google/javascript/jscomp/FoldConstantsTest.java
+++ b/test/com/google/javascript/jscomp/FoldConstantsTest.java
@@ -739,7 +739,7 @@ public class FoldConstantsTest extends CompilerTestCase {
   public void testFoldGetElem() {
     fold("x = [10, 20][0]", "x = 10");
     fold("x = [10, 20][1]", "x = 20");
-    fold("x = [10, 20]['abc']", "", FoldConstants.INVALID_GETELEM_INDEX_ERROR);
+    fold("x = [10, 20][0.5]", "", FoldConstants.INVALID_GETELEM_INDEX_ERROR);
     fold("x = [10, 20][-1]",    "", FoldConstants.INDEX_OUT_OF_BOUNDS_ERROR);
     fold("x = [10, 20][2]",     "", FoldConstants.INDEX_OUT_OF_BOUNDS_ERROR);
   }
