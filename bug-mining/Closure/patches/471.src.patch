diff --git a/src/com/google/javascript/jscomp/AngularPass.java b/src/com/google/javascript/jscomp/AngularPass.java
index ca7d580b7..b600b1a10 100644
--- a/src/com/google/javascript/jscomp/AngularPass.java
+++ b/src/com/google/javascript/jscomp/AngularPass.java
@@ -271,11 +271,7 @@ class AngularPass extends AbstractPostOrderCallback implements CompilerPass {
             name = NodeUtil.getName(classNode);
           }
           fn = n.getFirstChild();
-          if (classNode.getParent().isAssign() || classNode.getParent().isName()) {
-            injectAfter = classNode.getGrandparent();
-          } else {
-            injectAfter = classNode;
-          }
+          injectAfter = NodeUtil.getEnclosingStatement(classNode);
         }
         break;
       default:
diff --git a/test/com/google/javascript/jscomp/AngularPassTest.java b/test/com/google/javascript/jscomp/AngularPassTest.java
index 26205e922..31cda1c09 100644
--- a/test/com/google/javascript/jscomp/AngularPassTest.java
+++ b/test/com/google/javascript/jscomp/AngularPassTest.java
@@ -525,4 +525,27 @@ public final class AngularPassTest extends CompilerTestCase {
             "/** @public */ fn['$inject'] = ['a', 'b'];",
             "});"));
   }
+
+  @Test
+  public void testNameDeclarationAndAssign() {
+    test(
+        lines(
+            "let A = A_1 = class A {",
+            "  /**",
+            "   * @ngInject",
+            "   * @param {?} foo",
+            "   */",
+            "  constructor(foo) {}",
+            "};"),
+        lines(
+            "let A = A_1 = class A {",
+            "  /**",
+            "   * @ngInject",
+            "   * @param {?} foo",
+            "   */",
+            "  constructor(foo) {}",
+            "};",
+            "/** @public */",
+            "A_1[\"$inject\"] = [\"foo\"];"));
+  }
 }
