diff --git a/src/com/google/javascript/jscomp/RewriteCallerCodeLocation.java b/src/com/google/javascript/jscomp/RewriteCallerCodeLocation.java
index 4cba64e45..6644c57bf 100644
--- a/src/com/google/javascript/jscomp/RewriteCallerCodeLocation.java
+++ b/src/com/google/javascript/jscomp/RewriteCallerCodeLocation.java
@@ -37,7 +37,7 @@ import java.util.Objects;
  *
  * <p>i.e. `signal(0, goog.callerLocationIdInternalDoNotCallOrElse(path/to/file.ts:lineno:charno))`
  */
-class RewriteCallerCodeLocation implements CompilerPass {
+public final class RewriteCallerCodeLocation implements CompilerPass {
 
   static final DiagnosticType JSC_CALLER_LOCATION_POSITION_ERROR =
       DiagnosticType.error(
@@ -61,7 +61,7 @@ class RewriteCallerCodeLocation implements CompilerPass {
           "Do not use goog.callerLocation in an anonymous functions. Functions that use"
               + " goog.callerLocation should be named.");
 
-  private static final QualifiedName GOOG_CALLER_LOCATION_QUALIFIED_NAME =
+  public static final QualifiedName GOOG_CALLER_LOCATION_QUALIFIED_NAME =
       QualifiedName.of("goog.callerLocation");
 
   private final AbstractCompiler compiler;
@@ -84,9 +84,17 @@ class RewriteCallerCodeLocation implements CompilerPass {
 
   @Override
   public void process(Node externs, Node root) {
-    NodeTraversal.traverse(compiler, root, new FindCallerLocationFunctions());
+    // Find all functions that have goog.callerLocation as a default parameter. We want to traverse
+    // the root node as well as the externs because the function that contains `goog.callerLocation`
+    // parameter could be an
+    // .i.js file in the externs node subtree
+    NodeTraversal.traverse(compiler, compiler.getRoot(), new FindCallerLocationFunctions());
     if (!callerLocationFunctionNames.isEmpty()) {
-      NodeTraversal.traverse(compiler, root, new RewriteCallerLocationFunctionCalls());
+      // Rewrite call-sites of functions that have goog.callerLocation as a default parameter. We
+      // want to traverse the root node as well as the externs to ensure the scope of the call-site
+      // is the same scope as the function with the `goog.callerLocation` parameter.
+      NodeTraversal.traverse(
+          compiler, compiler.getRoot(), new RewriteCallerLocationFunctionCalls());
     }
   }
 
@@ -250,7 +258,9 @@ class RewriteCallerCodeLocation implements CompilerPass {
 
       Var callerLocationFunction = functionVarAndPosition.getFunctionVar();
       Var calleeFunction = t.getScope().getVar(moduleContentsName);
-      if (!Objects.equals(calleeFunction, callerLocationFunction)) {
+      if (callerLocationFunction == null
+          || calleeFunction == null
+          || !Objects.equals(callerLocationFunction.getNameNode(), calleeFunction.getNameNode())) {
         return;
       }
 
diff --git a/src/com/google/javascript/jscomp/ijs/ConvertToTypedInterface.java b/src/com/google/javascript/jscomp/ijs/ConvertToTypedInterface.java
index 6bed981ae..4b2835e93 100644
--- a/src/com/google/javascript/jscomp/ijs/ConvertToTypedInterface.java
+++ b/src/com/google/javascript/jscomp/ijs/ConvertToTypedInterface.java
@@ -27,6 +27,7 @@ import com.google.javascript.jscomp.DiagnosticType;
 import com.google.javascript.jscomp.JSError;
 import com.google.javascript.jscomp.NodeTraversal;
 import com.google.javascript.jscomp.NodeUtil;
+import com.google.javascript.jscomp.RewriteCallerCodeLocation;
 import com.google.javascript.jscomp.Scope;
 import com.google.javascript.jscomp.Var;
 import com.google.javascript.rhino.IR;
@@ -553,6 +554,11 @@ public class ConvertToTypedInterface implements CompilerPass {
       for (Node arg = paramList.getFirstChild(); arg != null; arg = arg.getNext()) {
         if (arg.isDefaultValue()) {
           Node rhs = arg.getLastChild();
+          if (rhs.isCall()
+              && RewriteCallerCodeLocation.GOOG_CALLER_LOCATION_QUALIFIED_NAME.matches(
+                  rhs.getFirstChild())) {
+            continue;
+          }
           rhs.replaceWith(NodeUtil.newUndefinedNode(rhs));
           compiler.reportChangeToEnclosingScope(arg);
         }
diff --git a/test/com/google/javascript/jscomp/RewriteCallerCodeLocationTest.java b/test/com/google/javascript/jscomp/RewriteCallerCodeLocationTest.java
index e45fc9f8c..b3f3d81f8 100644
--- a/test/com/google/javascript/jscomp/RewriteCallerCodeLocationTest.java
+++ b/test/com/google/javascript/jscomp/RewriteCallerCodeLocationTest.java
@@ -139,9 +139,9 @@ public final class RewriteCallerCodeLocationTest extends CompilerTestCase {
         const [foo, setFoo] = signal(0);
         """,
         """
-function signal(val, here = goog.callerLocation()) {}
-const [foo, setFoo] = signal(0, goog.callerLocationIdInternalDoNotCallOrElse('testcode:2:22'));
-""");
+        function signal(val, here = goog.callerLocation()) {}
+        const [foo, setFoo] = signal(0, goog.callerLocationIdInternalDoNotCallOrElse('testcode:2:22'));
+        """);
   }
 
   @Test
@@ -152,9 +152,9 @@ const [foo, setFoo] = signal(0, goog.callerLocationIdInternalDoNotCallOrElse('te
         const {foo, setFoo} = signal(0);
         """,
         """
-function signal(val, here = goog.callerLocation()) {}
-const {foo, setFoo} = signal(0, goog.callerLocationIdInternalDoNotCallOrElse('testcode:2:22'));
-""");
+        function signal(val, here = goog.callerLocation()) {}
+        const {foo, setFoo} = signal(0, goog.callerLocationIdInternalDoNotCallOrElse('testcode:2:22'));
+        """);
   }
 
   @Test
@@ -165,9 +165,9 @@ const {foo, setFoo} = signal(0, goog.callerLocationIdInternalDoNotCallOrElse('te
         const obj = {prop: signal(0)};
         """,
         """
-function signal(val, here = goog.callerLocation()) {}
-const obj = {prop: signal(0, goog.callerLocationIdInternalDoNotCallOrElse('testcode:2:19'))};
-""");
+        function signal(val, here = goog.callerLocation()) {}
+        const obj = {prop: signal(0, goog.callerLocationIdInternalDoNotCallOrElse('testcode:2:19'))};
+        """);
   }
 
   @Test
@@ -178,9 +178,9 @@ const obj = {prop: signal(0, goog.callerLocationIdInternalDoNotCallOrElse('testc
         const maybeSignal = Math.random() ? signal(0) : null;
         """,
         """
-function signal(val, here = goog.callerLocation()) {}
-const maybeSignal = Math.random() ? signal(0, goog.callerLocationIdInternalDoNotCallOrElse('testcode:2:36')) : null;
-""");
+        function signal(val, here = goog.callerLocation()) {}
+        const maybeSignal = Math.random() ? signal(0, goog.callerLocationIdInternalDoNotCallOrElse('testcode:2:36')) : null;
+        """);
   }
 
   @Test
@@ -191,9 +191,9 @@ const maybeSignal = Math.random() ? signal(0, goog.callerLocationIdInternalDoNot
         const intermediateFunction = (() => signal(0))();
         """,
         """
-function signal(val, here = goog.callerLocation()) {}
-const intermediateFunction = (() => signal(0, goog.callerLocationIdInternalDoNotCallOrElse('testcode:2:36')))();
-""");
+        function signal(val, here = goog.callerLocation()) {}
+        const intermediateFunction = (() => signal(0, goog.callerLocationIdInternalDoNotCallOrElse('testcode:2:36')))();
+        """);
   }
 
   @Test
@@ -204,9 +204,9 @@ const intermediateFunction = (() => signal(0, goog.callerLocationIdInternalDoNot
         const signalArray = [signal(0), signal(1)];
         """,
         """
-function signal(val, here = goog.callerLocation()) {}
-const signalArray = [signal(0, goog.callerLocationIdInternalDoNotCallOrElse('testcode:2:21')), signal(1, goog.callerLocationIdInternalDoNotCallOrElse('testcode:2:32'))];
-""");
+        function signal(val, here = goog.callerLocation()) {}
+        const signalArray = [signal(0, goog.callerLocationIdInternalDoNotCallOrElse('testcode:2:21')), signal(1, goog.callerLocationIdInternalDoNotCallOrElse('testcode:2:32'))];
+        """);
   }
 
   @Test
@@ -418,12 +418,12 @@ const signalArray = [signal(0, goog.callerLocationIdInternalDoNotCallOrElse('tes
         (0,module$exports$main.signal)(0);
         """,
         """
-function module$contents$main_signal(val, here = goog.callerLocation()) {
-  return val;
-}
-module$exports$main.signal = module$contents$main_signal;
-(0,module$exports$main.signal)(0, goog.callerLocationIdInternalDoNotCallOrElse('testcode:7:0'));
-""");
+        function module$contents$main_signal(val, here = goog.callerLocation()) {
+          return val;
+        }
+        module$exports$main.signal = module$contents$main_signal;
+        (0,module$exports$main.signal)(0, goog.callerLocationIdInternalDoNotCallOrElse('testcode:7:0'));
+        """);
   }
 
   @Test
@@ -466,4 +466,21 @@ module$exports$main.signal = module$contents$main_signal;
         signal();
         """);
   }
+
+  @Test
+  public void testFunctionWithCallerLocationParameterInExterns() {
+    test(
+        externs(
+            """
+            /**
+             * @fileoverview
+             * @typeSummary
+             * @externs
+             */
+            var goog = {};
+            function signal(x = goog.callerLocation()) {};
+            """),
+        srcs("signal();"),
+        expected("signal(goog.callerLocationIdInternalDoNotCallOrElse('testcode:1:0'));"));
+  }
 }
diff --git a/test/com/google/javascript/jscomp/ijs/ConvertToTypedInterfaceTest.java b/test/com/google/javascript/jscomp/ijs/ConvertToTypedInterfaceTest.java
index da0c07466..7a64a7b65 100644
--- a/test/com/google/javascript/jscomp/ijs/ConvertToTypedInterfaceTest.java
+++ b/test/com/google/javascript/jscomp/ijs/ConvertToTypedInterfaceTest.java
@@ -1350,6 +1350,14 @@ public final class ConvertToTypedInterfaceTest extends CompilerTestCase {
     test("function f(x = window.foobar()) {}", "function f(x = void 0) {}");
   }
 
+  @Test
+  public void testGoogCallerLocationDefaultValueIsPreserved() {
+    testSame("function f(a = goog.callerLocation()) {}");
+    test(
+        "function f(a = 1, b = goog.callerLocation()) {}",
+        "function f(a = void 0, b = goog.callerLocation()) {}");
+  }
+
   @Test
   public void testConstJsdocPropagationForNames_defaultValue() {
     test(
