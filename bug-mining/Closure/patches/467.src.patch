diff --git a/src/com/google/javascript/jscomp/serialization/ScriptNodeDeserializer.java b/src/com/google/javascript/jscomp/serialization/ScriptNodeDeserializer.java
index 17546abc7..3fd1d61c6 100644
--- a/src/com/google/javascript/jscomp/serialization/ScriptNodeDeserializer.java
+++ b/src/com/google/javascript/jscomp/serialization/ScriptNodeDeserializer.java
@@ -228,13 +228,14 @@ public final class ScriptNodeDeserializer {
         case ASSIGN_COALESCE:
           this.addScriptFeature(Feature.LOGICAL_ASSIGNMENT);
           return;
-        case FOR:
-          if (node.isForOf()) {
-            this.addScriptFeature(Feature.FOR_OF);
-          } else if (node.isForAwaitOf()) {
-            this.addScriptFeature(Feature.FOR_AWAIT_OF);
-          }
+
+        case FOR_OF:
+          this.addScriptFeature(Feature.FOR_OF);
           return;
+        case FOR_AWAIT_OF:
+          this.addScriptFeature(Feature.FOR_AWAIT_OF);
+          return;
+
         case IMPORT:
         case EXPORT:
           this.addScriptFeature(Feature.MODULES);
diff --git a/test/com/google/javascript/jscomp/serialization/SerializeAndDeserializeAstTest.java b/test/com/google/javascript/jscomp/serialization/SerializeAndDeserializeAstTest.java
index 3c6762904..94979dbc0 100644
--- a/test/com/google/javascript/jscomp/serialization/SerializeAndDeserializeAstTest.java
+++ b/test/com/google/javascript/jscomp/serialization/SerializeAndDeserializeAstTest.java
@@ -160,6 +160,16 @@ public final class SerializeAndDeserializeAstTest extends CompilerTestCase {
     testSame("for (let x = 0; x < 10; ++x);");
   }
 
+  @Test
+  public void testForOfLoop() {
+    testSame("for (let elem of []);");
+  }
+
+  @Test
+  public void testForAwaitOfLoop() {
+    testSame("async function f() { for await (let elem of []); }");
+  }
+
   @Test
   public void testConstructorJsdoc() {
     testSame("/** @constructor */ function Foo() {}");
