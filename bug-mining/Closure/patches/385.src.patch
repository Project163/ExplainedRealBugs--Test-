diff --git a/src/com/google/javascript/jscomp/InlineVariables.java b/src/com/google/javascript/jscomp/InlineVariables.java
index c0da523f4..ae4cbb58e 100644
--- a/src/com/google/javascript/jscomp/InlineVariables.java
+++ b/src/com/google/javascript/jscomp/InlineVariables.java
@@ -178,7 +178,8 @@ class InlineVariables implements CompilerPass {
               referenceInfo.isAssignedOnceInLifetime()) {
             Reference init = referenceInfo.getInitializingReference();
             Node value = init.getAssignedValue();
-            if (value != null && value.isName()) {
+            if (value != null && value.isName()
+                && !value.getString().equals(v.getName())) {
               aliasCandidates.put(value, new AliasCandidate(v, referenceInfo));
             }
           }
diff --git a/test/com/google/javascript/jscomp/InlineVariablesTest.java b/test/com/google/javascript/jscomp/InlineVariablesTest.java
index 8b476023a..4248b70ce 100644
--- a/test/com/google/javascript/jscomp/InlineVariablesTest.java
+++ b/test/com/google/javascript/jscomp/InlineVariablesTest.java
@@ -1152,4 +1152,11 @@ public final class InlineVariablesTest extends CompilerTestCase {
         "window.foo = new Widget();" +
         "window.bar = search;");
   }
+
+  // Test respect for scopes and blocks
+  public void testIssue1177() {
+    testSame("function x_64(){var x_7;for(;;);var x_68=x_7=x_7;}");
+    testSame("function x_64(){var x_7;for(;;);var x_68=x_7=x_7++;}");
+    testSame("function x_64(){var x_7;for(;;);var x_68=x_7=x_7*2;}");
+  }
 }
