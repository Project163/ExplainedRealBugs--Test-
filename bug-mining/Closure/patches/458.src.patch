diff --git a/src/com/google/javascript/rhino/testing/Asserts.java b/src/com/google/javascript/rhino/testing/Asserts.java
index 6661a0fa9..6a4259dbb 100644
--- a/src/com/google/javascript/rhino/testing/Asserts.java
+++ b/src/com/google/javascript/rhino/testing/Asserts.java
@@ -112,4 +112,25 @@ public class Asserts {
     Assert.assertTrue(b.canCastTo(b));
     Assert.assertTrue(b.canCastTo(a));
   }
+
+  /**
+   * Assert that the given function throws a particular throwable. This method is inspired by a
+   * similar API in JUnit 4.13, but the compiler is currently pinned on 4.12, which doesn't include
+   * it.
+   */
+  public static void assertThrows(
+      Class<? extends Throwable> exceptionClass, ThrowingRunnable runnable) {
+    try {
+      runnable.run();
+      assertWithMessage("Did not get expected exception: %s", exceptionClass).fail();
+    } catch (Throwable expectedException) {
+      assertThat(expectedException).isInstanceOf(exceptionClass);
+    }
+  }
+
+  /** Functional interface for use with {@link #assertThrows}. */
+  @FunctionalInterface
+  public static interface ThrowingRunnable {
+    void run() throws Throwable;
+  }
 }
diff --git a/test/com/google/javascript/jscomp/GlobalNamespaceTest.java b/test/com/google/javascript/jscomp/GlobalNamespaceTest.java
index 200cabab6..678b9a87f 100644
--- a/test/com/google/javascript/jscomp/GlobalNamespaceTest.java
+++ b/test/com/google/javascript/jscomp/GlobalNamespaceTest.java
@@ -18,8 +18,8 @@ package com.google.javascript.jscomp;
 
 import static com.google.common.base.Preconditions.checkState;
 import static com.google.common.truth.Truth.assertThat;
-import static com.google.common.truth.Truth.assertWithMessage;
 import static com.google.javascript.jscomp.CompilerTypeTestCase.lines;
+import static com.google.javascript.rhino.testing.Asserts.assertThrows;
 import static com.google.javascript.rhino.testing.NodeSubject.assertNode;
 import static com.google.javascript.rhino.testing.TypeSubject.assertType;
 
@@ -51,16 +51,6 @@ public final class GlobalNamespaceTest {
 
   @Nullable private Compiler lastCompiler = null;
 
-  // TODO(b/124228379): We should be using assertThrows from JUnit4.
-  private static void assertThrows(Object exceptionClass, Runnable runnable) {
-    try {
-      runnable.run();
-      assertWithMessage("Did not get expected exception: %s", exceptionClass).fail();
-    } catch (Exception expectedException) {
-      // expected
-    }
-  }
-
   @Test
   public void firstGlobalAssignmentIsConsideredDeclaration() {
     Name n = Name.createForTesting("a");
diff --git a/test/com/google/javascript/jscomp/TypeCheckTest.java b/test/com/google/javascript/jscomp/TypeCheckTest.java
index e727d321d..1662b3912 100644
--- a/test/com/google/javascript/jscomp/TypeCheckTest.java
+++ b/test/com/google/javascript/jscomp/TypeCheckTest.java
@@ -23,6 +23,7 @@ import static com.google.javascript.jscomp.ScopeSubject.assertScope;
 import static com.google.javascript.jscomp.TypeCheck.INSTANTIATE_ABSTRACT_CLASS;
 import static com.google.javascript.jscomp.TypeCheck.STRICT_INEXISTENT_PROPERTY;
 import static com.google.javascript.jscomp.parsing.JsDocInfoParser.BAD_TYPE_WIKI_LINK;
+import static com.google.javascript.rhino.testing.Asserts.assertThrows;
 import static com.google.javascript.rhino.testing.NodeSubject.assertNode;
 import static com.google.javascript.rhino.testing.TypeSubject.assertType;
 
@@ -23079,6 +23080,28 @@ public final class TypeCheckTest extends TypeCheckTestCase {
             "required: null"));
   }
 
+  @Test
+  public void testCyclicUnionTypedefs() {
+    // TODO(b/112964849): This case should not throw anything.
+    assertThrows(
+        StackOverflowError.class,
+        () -> {
+          testTypes(
+              lines(
+                  "/** @typedef {Foo|string} */",
+                  "var Bar;",
+                  "/** @typedef {Bar|number} */",
+                  "var Foo;",
+                  "var /** Foo */ foo;",
+                  "var /** null */ x = foo;",
+                  ""),
+              lines(
+                  "initializing variable", //
+                  "found   : (number|string)",
+                  "required: null"));
+        });
+  }
+
   private void testClosureTypes(String js, String description) {
     testClosureTypesMultipleWarnings(js,
         description == null ? null : ImmutableList.of(description));
