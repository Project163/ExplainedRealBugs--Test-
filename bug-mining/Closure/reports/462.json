{"id":1,"status":"Verified","summary":"crash on recursive function?","labels":["Type-Defect","Priority-Medium"],"stars":15,"commentCount":7,"comments":[{"id":0,"commenterId":-6098463528315836415,"content":"\u003cb\u003eWhat steps will reproduce the problem?\u003c/b\u003e\n\r\nAt http://closure-compiler.appspot.com, enter the code\r\n---\r\nvar walk_the_DOM \u003d function walk(node, aFunction) {\r\n    walk(node, aFunction);\r\n};\r\nvar getElementsByAttribute \u003d function(anAttribute, value) {\r\n    walk_the_DOM();\r\n};\r\nvar theAttributes \u003d getElementsByAttribute(\u0027src\u0027);\r\nfor(value in theAttributes) {\r\n    document.writeln(value);\r\n}\r\n\r\nThe compiler will crash with an exception on the walk() call.\r\n\r\n23: java.lang.RuntimeException: INTERNAL COMPILER ERROR.\r\nPlease report this problem.\r\nConflicting externs name: {SyntheticVarsDeclar}\r\n  Node: Input_0:2:4\r\n    walk(node, aFunction);\r\n  Parent: Input_0:2:8\r\n    walk(node, aFunction);\r\n\r\n\r\nThere are two separate problems here:\r\n1) is that the compiler is trying to synthesize a variable during sanity \r\nchecking.\r\n2) is that the compiler is trying to synthesize a variable there at all.","timestamp":1257451153,"attachments":[]},{"id":1,"commenterId":-7699928860083865744,"content":"","timestamp":1257451605,"attachments":[]},{"id":2,"commenterId":-2915759501416555437,"content":"I get this same error when attempting to compile the latest jQuery nightly (see the\r\nattached error dump). The code in question, from the source:\r\n\r\n\t\tdiv.attachEvent(\"onclick\", function click(){\r\n\t\t\t// Cloning a node shouldn\u0027t copy over any\r\n\t\t\t// bound event handlers (IE does this)\r\n\t\t\tjQuery.support.noCloneEvent \u003d false;\r\n\t\t\tdiv.detachEvent(\"onclick\", click);\r\n\t\t});\r\n","timestamp":1257467393,"attachments":[]},{"id":3,"commenterId":-2915759501416555437,"content":"Oops, forgot to attach the error dump.","timestamp":1257467437,"attachments":[{"id":-3599048099251126126,"fileName":"closure-compiler-error.txt","fileSize":8194}]},{"id":4,"commenterId":-5060162230523776870,"content":"","timestamp":1257480666,"attachments":[]},{"id":5,"commenterId":-5060162230523776870,"content":"Pending integration","timestamp":1257536800,"attachments":[]},{"id":6,"commenterId":-5060162230523776870,"content":"","timestamp":1257573989,"attachments":[]}]}