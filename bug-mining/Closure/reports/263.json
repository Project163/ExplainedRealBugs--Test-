{"id":890,"status":"Fixed","summary":"Move contrib/externs/json.js to default externs","labels":["Type-Defect","Priority-Medium"],"stars":0,"commentCount":10,"comments":[{"id":0,"commenterId":717754360314887377,"content":"JSON is part of ES5. We should have something like the following in externs/es5.js:\r\n\r\nvar JSON \u003d {};\r\n\r\n/**\r\n * @param {string} jsonStr The string to parse.\r\n * @param {(function(string, *) : *)\u003d} opt_reviver\r\n * @return {*} The JSON object.\r\n * @throws {Error}\r\n * @nosideeffects\r\n */\r\nJSON.parse \u003d function(jsonStr, opt_reviver) {};\r\n\r\n/**\r\n * @param {*} jsonObj Input object.\r\n * @param {(Array.\u0026lt;string\u0026gt;|(function(string, *) : *)|null)\u003d} opt_replacer\r\n * @param {(number|string)\u003d} opt_space\r\n * @return {string} JSON string which represents jsonObj.\r\n * @throws {Error}\r\n * @nosideeffects\r\n */\r\nJSON.stringify \u003d function(jsonObj, opt_replacer, opt_space) {};","timestamp":1357574856,"attachments":[]},{"id":1,"commenterId":8173196008570380122,"content":"It\u0027s currently defined as a property of the window object.\r\nhttps://code.google.com/p/closure-compiler/source/search?q\u003dJSON.stringify\u0026origq\u003dJSON.stringify\u0026btnG\u003dSearch+Trunk","timestamp":1357578767,"attachments":[]},{"id":2,"commenterId":717754360314887377,"content":"Yeah, I should have searched for \"file:externs/ JSON\". Still this is not correct. JSON is an ES5 global and not related to HTML5. It was very confusing to see references to toJSON in externs/es5.js but not JSON.","timestamp":1357580642,"attachments":[]},{"id":3,"commenterId":-5060162230523776870,"content":"https://code.google.com/p/closure-compiler/source/browse/trunk/contrib/externs/json.js","timestamp":1357583552,"attachments":[]},{"id":4,"commenterId":717754360314887377,"content":"Like I said in the initial report. This code should be moved over to externs/es5.js","timestamp":1357584050,"attachments":[]},{"id":5,"commenterId":717754360314887377,"content":"Sorry for making this so confusing. The title of this bug should have been \"externs/es5.js is missing JSON\"\r\n","timestamp":1357584131,"attachments":[]},{"id":6,"commenterId":8173196008570380122,"content":"I\u0027m in favor of this for what it is worth.","timestamp":1357587639,"attachments":[]},{"id":7,"commenterId":-5060162230523776870,"content":"As I recall, it is separate for backward compatibility with legacy JSON implementations.","timestamp":1357752251,"attachments":[]},{"id":8,"commenterId":717754360314887377,"content":"Legacy JSON polyfills should not use externs/es5.js since they are using es3.\r\n","timestamp":1357754184,"attachments":[]},{"id":9,"commenterId":-8769171937076622550,"content":"This issue was closed by revision 0e57fadbad43.","timestamp":1361570341,"attachments":[]}]}