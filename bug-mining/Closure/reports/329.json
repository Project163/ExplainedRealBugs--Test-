{"id":1183,"status":"Fixed","summary":"goog.abstractMethod prevents cross-module code motion","labels":["Type-Defect","Priority-Medium"],"stars":0,"commentCount":3,"comments":[{"id":0,"commenterId":-7699928860083865744,"content":"Create 2 modules:\r\n\r\nModule 1:\r\nvar nullMethod \u003d function () {}\r\nwindow.nullMethod \u003d nullMethod\r\n\r\n/** @constructor */\r\nvar Class \u003d function () {\r\n}\r\nClass.prototype.x \u003d nullMethod\r\n\r\nModule 2:\r\nnew Class();\r\n\r\nexpected result:\r\ncross-module code motion should move Class into module 2.\r\n\r\nactual result:\r\nClass stays in module 1. If I change nullMethod to a function literal, the issue goes away.\r\n\r\nThe problem is that the compiler conservatively assumes that the variable may change, and so won\u0027t move the class.","timestamp":1387469024,"attachments":[]},{"id":1,"commenterId":-7699928860083865744,"content":"posted a fix here:\r\nhttp://codereview.appspot.com/55020044/","timestamp":1391062886,"attachments":[]},{"id":2,"commenterId":-7699928860083865744,"content":"This issue was closed by revision 5ce23442b57d.","timestamp":1391098849,"attachments":[]}]}