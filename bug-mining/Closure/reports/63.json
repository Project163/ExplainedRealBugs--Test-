{"id":259,"status":"Fixed","summary":"Nested constructor emits warning \"attempted re-definition of type\"","labels":["Type-Defect","Priority-Medium"],"stars":1,"commentCount":4,"comments":[{"id":0,"commenterId":-1243799424994853444,"content":"\u003cb\u003eWhat steps will reproduce the problem?\u003c/b\u003e\n1. Visit http://closure-compiler.appspot.com/home\r\n2. Compile this:\r\n\r\n// \u003d\u003dClosureCompiler\u003d\u003d\r\n// @compilation_level ADVANCED_OPTIMIZATIONS\r\n// @output_file_name default.js\r\n// \u003d\u003d/ClosureCompiler\u003d\u003d\r\n\r\n/** @constructor */\r\nvar Clock \u003d function() {\r\n  /** @constructor */\r\n  this.Date \u003d function() {};\r\n};\r\n\r\n\u003cb\u003eWhat is the expected output? What do you see instead?\u003c/b\u003e\n\r\nI expected no warnings.  Instead, I see:\r\n\r\nJSC_TYPE_REDEFINITION: attempted re-definition of type this.Date found : function (this:this.Date): undefined expected: function (this:this.Date): ? at line 4 character 20\r\nthis.Date \u003d function() {};\r\n^\r\n\r\n\u003cb\u003ePlease provide any additional information below.\u003c/b\u003e\n\r\nI think a few months ago this worked fine, with no warnings emitted.  I don\u0027t know when it changed.","timestamp":1286103828,"attachments":[]},{"id":1,"commenterId":-1243799424994853444,"content":"Sorry about the formatting; this is the warning:\r\n\r\nJSC_TYPE_REDEFINITION: attempted re-definition of type this.Date\r\nfound   : function (this:this.Date): undefined\r\nexpected: function (this:this.Date): ? at line 4 character 20\r\nthis.Date \u003d function() {};\r\n                    ^","timestamp":1286103927,"attachments":[]},{"id":2,"commenterId":-7699928860083865744,"content":"thanks for the report. i\u0027ll take a look.","timestamp":1286284745,"attachments":[]},{"id":3,"commenterId":-7699928860083865744,"content":"","timestamp":1289506326,"attachments":[]}]}