{"id":1204,"status":"Fixed","summary":"Unnecessary warnings for constructors defined inside goog.scope","labels":["Type-Defect","Priority-Medium"],"stars":0,"commentCount":4,"comments":[{"id":0,"commenterId":-2761451945267698014,"content":"\u003cb\u003eWhat version of the product are you using? On what operating system?\u003c/b\u003e\nClosure Compiler (http://code.google.com/closure/compiler)\r\nVersion: v20140110\r\nBuilt on: 2014/01/14 16:25\r\n\r\nDebian GNU/Linux Xfce\r\n\r\n\u003cb\u003ePlease provide any additional information below.\u003c/b\u003e\nFirst, try compiling the following program with ADVANCED_OPTIMIZATIONS:\r\n\r\n(function () {\r\n  /**\r\n   * @constructor\r\n   */\r\n  function Foo(x, y) {\r\n    this.x \u003d x\r\n    this.y \u003d y\r\n  }\r\n\r\n  console.log(new Foo(x, y))\r\n})()\r\n\r\nThis works as expected. Now, try compiling this program:\r\n\r\ngoog.scope(function () {\r\n  /**\r\n   * @constructor\r\n   */\r\n  function Foo(x, y) {\r\n    this.x \u003d x\r\n    this.y \u003d y\r\n  }\r\n\r\n  console.log(new Foo(x, y))\r\n})\r\n\r\nThis produces the same result, *except* the compiler emits warnings about \u0026quot;dangerous use of this in static method\u0026quot;.\r\n\r\nTo suppress these warnings, you must wrap the inside of goog.scope in another function, which is ridiculous:\r\n\r\ngoog.scope(function () {\r\n  (function () {\r\n    /**\r\n     * @constructor\r\n     */\r\n    function Foo(x, y) {\r\n      this.x \u003d x\r\n      this.y \u003d y\r\n    }\r\n\r\n    console.log(new Foo(x, y))\r\n  })()\r\n})","timestamp":1390524558,"attachments":[]},{"id":1,"commenterId":-7699928860083865744,"content":"thanks for the report. I posted a fix here:\r\nhttps://codereview.appspot.com/56470044/","timestamp":1390542489,"attachments":[]},{"id":2,"commenterId":-7699928860083865744,"content":"This issue was closed by revision d1aab437e2a2.","timestamp":1390580913,"attachments":[]},{"id":3,"commenterId":-2761451945267698014,"content":"Thank you very much.","timestamp":1390587417,"attachments":[]}]}