{"id":1007,"status":"Fixed","summary":"No output file should be produced upon error","labels":["Type-Defect","Priority-Low"],"stars":0,"commentCount":8,"comments":[{"id":0,"commenterId":-4114200149851845556,"content":"\u003cb\u003eWhat steps will reproduce the problem?\u003c/b\u003e\n1. Create a js source file with error(s), such as file \u0026quot;foo.js\u0026quot; containing *\u0026quot;x.f(); \r\n2. Compile it with option --js_output_file, e.g.\r\njava -jar compiler.jar --js_output_file foo2.js foo.js\r\n\r\n\u003cb\u003eWhat is the expected output? What do you see instead?\u003c/b\u003e\n\r\nAn error message is displayed, which is correct.\r\nFile foo2.js should not be created, or it should be deleted by closure-compiler.\r\nA file foo2.js is created, which can cause problems with make (if make is used to compile a project, the file foo2.js won\u0027t be rebuilt when make is run a second time, so the whole build may succeed without any further error from closure-compiler)\r\n\r\n\u003cb\u003eWhat version of the product are you using? On what operating system?\u003c/b\u003e\n\r\nversionClosure Compiler (http://code.google.com/closure/compiler)\r\nVersion: exported\r\nBuilt on: 2013/04/11 11:30\r\n\r\nOS X 10.6.8\r\n\r\n\u003cb\u003ePlease provide any additional information below.\u003c/b\u003e\n\r\nSame problem with more minor errors thrown with options \u0026quot;--compilation_level ADVANCED_OPTIMIZATIONS --warning_level VERBOSE\u0026quot;","timestamp":1369497152,"attachments":[]},{"id":1,"commenterId":-5060162230523776870,"content":"wouldn\u0027t the inputs have to change to correct underlying problem? And then wouldn\u0027t the output need to be rebuild?\r\n\r\n","timestamp":1371677843,"attachments":[]},{"id":2,"commenterId":-4114200149851845556,"content":"To correct the underlying problem, yes, the input should be changed. But if for any reason you don\u0027t change it before building it a 2nd time (e.g. there are other bugs to fix first, or you\u0027re interrupted and forget about it, or you start vi, forget the line number, exit vi and rebuild the project to try to see the error message again), the build looks successful because make won\u0027t run closure-compiler again.","timestamp":1371679397,"attachments":[]},{"id":3,"commenterId":-7699928860083865744,"content":"I posted a code review request for this here:\r\nhttps://codereview.appspot.com/13828046/","timestamp":1379915194,"attachments":[]},{"id":4,"commenterId":-7699928860083865744,"content":"This issue was closed by revision 37880c308608.","timestamp":1379974682,"attachments":[]},{"id":5,"commenterId":-8769171937076622550,"content":"This issue was closed by revision a555e3fdbd56.","timestamp":1380067021,"attachments":[]},{"id":6,"commenterId":-7699928860083865744,"content":"This issue was closed by revision 37880c308608.","timestamp":1381947635,"attachments":[]},{"id":7,"commenterId":-8769171937076622550,"content":"This issue was closed by revision a555e3fdbd56.","timestamp":1381947636,"attachments":[]}]}