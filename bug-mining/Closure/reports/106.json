{"id":380,"status":"Fixed","summary":"JSDoc Type Info Assigned to Wrong Node","labels":["Type-Defect","Priority-Medium"],"stars":2,"commentCount":2,"comments":[{"id":0,"commenterId":2220700227557109852,"content":"https://groups.google.com/forum/?fromgroups#!topic/closure-compiler-discuss/5t9spWPx2Q0\r\n\r\n\u003cb\u003eWhat steps will reproduce the problem?\u003c/b\u003e\nCompiling a file named type_check.js with the contents:\r\n\r\nvar list \u003d /** @type {!Array.\u0026lt;string\u0026gt;} */ [\u0027Hello, \u0027, \u0027how \u0027, \u0027are \u0027, \u0027you\u0027];\r\nlist.push(\u0027?\u0027);\r\n\r\ndocument.getElementById(\u0027node\u0027).innerHTML \u003d list.toString();\r\n\r\nusing the command:\r\n\r\njava -jar compiler.jar --compilation_level\u003dADVANCED_OPTIMIZATIONS --warning_level\u003dVERBOSE --jscomp_error\u003dcheckTypes  --js\u003dtype_check.js\r\n\r\nResults in:\r\n\r\ntype_check.js:4: ERROR - assignment to property innerHTML of HTMLElement\r\nfound   : string\r\nrequired: Array\r\n\r\n\u003cb\u003eWhat is the expected output? What do you see instead?\u003c/b\u003e\n\r\nI would expect a warning or error that I have a mal-formed type-cast (missing parentheses) or for the compiler to apply the type info to an adjacent node.\r\n\r\nInstead, it picks the next assignment in the code (at least, I\u0027m guessing that\u0027s what is happening).\r\n\r\n\r\n\u003cb\u003eWhat version of the product are you using? On what operating system?\u003c/b\u003e\nHead on Mac OS X, Java 1.6_22","timestamp":1300217700,"attachments":[]},{"id":1,"commenterId":-7699928860083865744,"content":"This issue was closed by revision r1037.","timestamp":1303919429,"attachments":[]}]}