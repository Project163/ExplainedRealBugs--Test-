{"id":272,"status":"Fixed","summary":"SVN checkout + ant + compile doesn\u0027t work because of junked-up externs.zip","labels":["Type-Defect","Priority-Medium"],"stars":1,"commentCount":6,"comments":[{"id":0,"commenterId":-1335269470060513449,"content":"It seems that one can\u0027t SVN checkout and compile Closure Compiler and expect to use it without first having deleted the _svn or .svn directory that gets created in the externs directory. If that directory isn\u0027t deleted, you\u0027ll see the exception below when trying to compile code.\r\n\r\njava.lang.IllegalStateException: Externs zip must match our hard-coded list of externs.\r\n        at com.google.common.base.Preconditions.checkState(Preconditions.java:145)\r\n        at com.google.javascript.jscomp.CommandLineRunner.getDefaultExterns(Unknown Source)\r\n\r\nThe reason for this is because the externs.zip resource is pulling in all the subversion garbage in the subdirectories of each folder that are created on checkout.\r\n\r\nThe attached patch changes the ant build so that only .js files are included in the zip file instead of every file in that directory.","timestamp":1288287540,"attachments":[{"id":6609582513987486623,"fileName":"externs-zip-only-js.patch","fileSize":1086}]},{"id":1,"commenterId":-5060162230523776870,"content":"Care to start a code review on http://codereview.appspot.com/ ?","timestamp":1288301046,"attachments":[]},{"id":2,"commenterId":-1335269470060513449,"content":"http://codereview.appspot.com/2724042/","timestamp":1288301976,"attachments":[]},{"id":3,"commenterId":-7699928860083865744,"content":"just for my education, shouldn\u0027t all implementations of Ant ignore \".svn\" because it\u0027s a hidden directory? what creates an _svn directory?","timestamp":1288360587,"attachments":[]},{"id":4,"commenterId":-1335269470060513449,"content":"TortoiseSVN in Windows has an option to use _svn instead of .svn. I forgot until now that I had turned on that option because older versions of Visual Studio were choking when opening projects that had a .svn directory in them.","timestamp":1288369055,"attachments":[]},{"id":5,"commenterId":-7699928860083865744,"content":"This issue was closed by revision r523.","timestamp":1288392160,"attachments":[]}]}