{"id":133,"status":"Fixed","summary":"@const tag not resulting in warning when used on object property","labels":["Type-Defect","Priority-Medium"],"stars":3,"commentCount":4,"comments":[{"id":0,"commenterId":202870935842919541,"content":"\u003cb\u003eWhat steps will reproduce the problem?\u003c/b\u003e\n\r\nFollowing is the javascript:\r\n\r\ngoog.provide(\u0027test\u0027);\r\n\r\n/**\r\n * @type {number}\r\n * @const\r\n */\r\ntest.A \u003d 911;\r\n\r\ntest.runtest \u003d function()\r\n{\r\n\ttest.A \u003d 999;\r\n\treturn test.A;\r\n};\r\n\r\ngoog.exportSymbol(\u0027runtest\u0027, test.runtest);\r\n\r\nCompiled with following command:\r\n\r\ncalcdeps.py: Compiling with the following command: java -jar ../closure-\r\ncompiler/build/compiler.jar --js ../closure-library/closure/goog/base.js -\r\n-js test_jsdoc.js --compilation_level\u003dADVANCED_OPTIMIZATIONS --\r\nwarning_level\u003dVERBOSE\r\n\r\n\r\n\u003cb\u003eWhat is the expected output? What do you see instead?\u003c/b\u003e\n\r\nI expected to see compiler warning due to changing value of const.\r\n\r\nNo warnings/errors produced. Compiled javascript shows value of const (b) \r\nbeing changed.\r\n\r\nvar a\u003dthis;var b\u003d911;var c\u003dfunction(){return \r\nb\u003d999},d\u003d\u0026quot;runtest\u0026quot;.split(\u0026quot;.\u0026quot;),e\u003da;!(d[0]in \r\ne)\u0026amp;\u0026amp;e.execScript\u0026amp;\u0026amp;e.execScript(\u0026quot;var \u0026quot;+d[0]);for(var \r\nf;d.length\u0026amp;\u0026amp;(f\u003dd.shift());)if(!d.length\u0026amp;\u0026amp;c!\u003d\u003dundefined)e[f]\u003dc;else e\u003de[f]?\r\ne[f]:(e[f]\u003d{});\r\n\r\n\u003cb\u003eWhat version of the product are you using? On what operating system?\u003c/b\u003e\n\r\nSVN version 153. OSX.\r\n\r\n\u003cb\u003ePlease provide any additional information below.\u003c/b\u003e\n","timestamp":1269611017,"attachments":[]},{"id":1,"commenterId":1948758734812428220,"content":"@const for property is not that well supported / tested. I think currently its done in \r\ninline constant. A  fix would be move that test to CheckAccessControl where @private \r\ncheck logic resides.\r\n\r\nIt should be pretty simple. I would really encourage anyone wanting to play with code \r\nbase to take a stab at it.","timestamp":1269638049,"attachments":[]},{"id":2,"commenterId":-7699928860083865744,"content":"yeah, the checks for @const variables were written years and years ago--before anyone \r\nthought it would be possible to do const-checking on properties--and no one\u0027s revisited \r\nit since then.","timestamp":1269653884,"attachments":[]},{"id":3,"commenterId":1328304962299559429,"content":"This issue was closed by revision r800.","timestamp":1298233223,"attachments":[]}]}