{"id":915,"status":"Fixed","summary":"closure compiler crash in simple mode, invalid code removal in whitespace mode.","labels":["Type-Defect","Priority-Medium"],"stars":0,"commentCount":10,"comments":[{"id":0,"commenterId":-2490840111844240137,"content":"I passed the content of the attached file into the closure compiler http://closure-compiler.appspot.com/home, and it crashed.\r\n\r\nIn whitespace only mode, it doesn\u0027t show that it crashed, but it doesn\u0027t give any script back as a result (which is wrong, because my code should give an alert).\r\n\r\nBy the way, to generate the javascript that causes the crash, I used this script (you can use max to vary the nesting depth):\r\nmax\u003d250;depth\u003d0;func\u003d\u0026quot;{alert(depth);}\u0026quot;;for(i\u003d0;i\u0026lt;max;i++)func\u003d\u0026quot;{depth++;return function()\u0026quot;+func+\u0026quot;();}\u0026quot;;exec\u003d\u0026quot;(\u0026quot;+new Function(func)+\u0026quot;)()\u0026quot;;\r\n\r\n\r\nIn simple and advanced mode, I usually get the exception below.\r\n\r\n23: java.lang.IllegalStateException\r\n\tat com.google.common.base.Preconditions.checkState(Preconditions.java:135)\r\n\tat com.google.javascript.jscomp.NodeUtil.tryMergeBlock(NodeUtil.java:1854)\r\n\tat com.google.javascript.jscomp.PeepholeRemoveDeadCode.tryOptimizeBlock(PeepholeRemoveDeadCode.java:532)\r\n\tat com.google.javascript.jscomp.PeepholeRemoveDeadCode.optimizeSubtree(PeepholeRemoveDeadCode.java:51)\r\n\tat com.google.javascript.jscomp.PeepholeOptimizationsPass.visit(PeepholeOptimizationsPass.java:180)\r\n\tat com.google.javascript.jscomp.PeepholeOptimizationsPass.traverse(PeepholeOptimizationsPass.java:131)\r\n\tat com.google.javascript.jscomp.PeepholeOptimizationsPass.traverse(PeepholeOptimizationsPass.java:127)\r\n\tat com.google.javascript.jscomp.PeepholeOptimizationsPass.process(PeepholeOptimizationsPass.java:108)\r\n\tat com.google.javascript.jscomp.PhaseOptimizer$PassFactoryDelegate.processInternal(PhaseOptimizer.java:303)\r\n\tat com.google.javascript.jscomp.PhaseOptimizer$NamedPass.process(PhaseOptimizer.java:279)\r\n\tat com.google.javascript.jscomp.PhaseOptimizer$LoopInternal.process(PhaseOptimizer.java:366)\r\n\tat com.google.javascript.jscomp.PhaseOptimizer.process(PhaseOptimizer.java:191)\r\n\tat com.google.javascript.jscomp.Compiler.optimize(Compiler.java:1894)\r\n\tat com.google.javascript.jscomp.Compiler.compileInternal(Compiler.java:741)\r\n\tat com.google.javascript.jscomp.Compiler.access$000(Compiler.java:85)\r\n\tat com.google.javascript.jscomp.Compiler$2.call(Compiler.java:637)\r\n\tat com.google.javascript.jscomp.Compiler$2.call(Compiler.java:634)\r\n\tat com.google.javascript.jscomp.Compiler.runInCompilerThread(Compiler.java:694)\r\n\tat com.google.javascript.jscomp.Compiler.compile(Compiler.java:634)\r\n\tat com.google.javascript.jscomp.Compiler.compile(Compiler.java:590)\r\n\tat com.google.javascript.jscomp.webservice.backend.CompilerInvokerImpl.compile(CompilerInvokerImpl.java:47)\r\n\tat com.google.javascript.jscomp.webservice.backend.ServerController.executeRequest(ServerController.java:177)\r\n\tat com.google.javascript.jscomp.webservice.backend.CompilationRequestHandler.serviceParsedRequest(CompilationRequestHandler.java:180)\r\n\tat com.google.javascript.jscomp.webservice.backend.CompilationRequestHandler.service(CompilationRequestHandler.java:162)\r\n\tat com.google.javascript.jscomp.webservice.frontend.CompilationServlet.doPost(CompilationServlet.java:83)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:637)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\r\n\tat org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)\r\n\tat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1166)\r\n\tat com.google.apphosting.utils.servlet.ParseBlobUploadFilter.doFilter(ParseBlobUploadFilter.java:102)\r\n\tat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\r\n\tat com.google.apphosting.runtime.jetty.SaveSessionFilter.doFilter(SaveSessionFilter.java:35)\r\n\tat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\r\n\tat com.google.apphosting.utils.servlet.TransactionCleanupFilter.doFilter(TransactionCleanupFilter.java:43)\r\n\tat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\r\n\tat org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:388)\r\n\tat org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\r\n\tat org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)\r\n\tat org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)\r\n\tat org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:418)\r\n\tat com.google.apphosting.runtime.jetty.AppVersionHandlerMap.handle(AppVersionHandlerMap.java:266)\r\n\tat org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\r\n\tat org.mortbay.jetty.Server.handle(Server.java:326)\r\n\tat org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)\r\n\tat org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:923)\r\n\tat com.google.apphosting.runtime.jetty.RpcRequestParser.parseAvailable(RpcRequestParser.java:76)\r\n\tat org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)\r\n\tat com.google.apphosting.runtime.jetty.JettyServletEngineAdapter.serviceRequest(JettyServletEngineAdapter.java:146)\r\n\tat com.google.apphosting.runtime.JavaRuntime$RequestRunnable.run(JavaRuntime.java:447)\r\n\tat com.google.tracing.TraceContext$TraceContextRunnable.runInContext(TraceContext.java:454)\r\n\tat com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:461)\r\n\tat com.google.tracing.TraceContext.runInContext(TraceContext.java:703)\r\n\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:338)\r\n\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:330)\r\n\tat com.google.tracing.TraceContext$TraceContextRunnable.run(TraceContext.java:458)\r\n\tat com.google.apphosting.runtime.ThreadGroupPool$PoolEntry.run(ThreadGroupPool.java:251)\r\n\tat java.lang.Thread.run(Thread.java:679)\r\n\r\nOriginal Post Data: \r\noutput_format\u003djson\u0026amp;output_info\u003dcompiled_code\u0026amp;output_info\u003dwarnings\u0026amp;output_info\u003derrors\u0026amp;output_info\u003dstatistics\u0026amp;compilation_level\u003dSIMPLE_OPTIMIZATIONS\u0026amp;warning_level\u003ddefault\u0026amp;formatting\u003dpretty_print\u0026amp;formatting\u003dprint_input_delimiter\u0026amp;output_file_name\u003ddefault.js\u0026amp;js_code\u003d(function%20anonymous()%20%7B%20%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Bdepth%2B%2B%3Breturn%20function()%7Balert(depth)%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D()%3B%7D%20%7D)()\r\n","timestamp":1360454588,"attachments":[{"id":9150000000,"fileName":"nesting.js","fileSize":7718}]},{"id":1,"commenterId":-5060162230523776870,"content":"","timestamp":1360782395,"attachments":[]},{"id":2,"commenterId":-5060162230523776870,"content":"Thanks for the report.","timestamp":1360782417,"attachments":[]},{"id":3,"commenterId":1948758734812428220,"content":"Hehe. Interesting. Seems like this is hitting more than one bug.\r\n\r\nJust looking at tryOptimizeBlock\r\n\r\n      case Token.SCRIPT:\r\n      case Token.BLOCK:\r\n        return tryOptimizeBlock(subtree);\r\n\r\nWhich would cause it to crash because the subtree can be a script.\r\n\r\nThe web service probably creates the whole AST with script nodes a bit different than the commandline compiler.","timestamp":1360790466,"attachments":[]},{"id":4,"commenterId":-2490840111844240137,"content":"I know, because I hit some, arguably, edge cases I didn\u0027t want to make too much of it :-)\r\n\r\nIf you are researching the compiler crash, it may (or may not) be of interest that the script I use to generate the JavaScript, crashes if max gets a too high number as well. At first this value appears to be a constant value in Chrome, but when I tried on the same machine later, it crashed at a different number... (first time it was 549, second time on a different day, it was 475). Lowest value I got in any browser was in Opera on 256.\r\n\r\nI currently run Chrome version 24.0.1312.57 m on Windows 7 64 bit. Both tests where on this machine, but I do not know if Chrome has updated since the previous test. ","timestamp":1360792704,"attachments":[]},{"id":5,"commenterId":-2490840111844240137,"content":"Just for information:\r\nThe origin of this defect is, that a colleague asked me, out of interest, what the maximum nesting depth was for functions in JavaScript. I didn\u0027t know, so I choose the thorough approach to find out :-)\r\n\r\nAnd of course, when I hit errors, I have the tendency to notify the author...","timestamp":1360792947,"attachments":[]},{"id":6,"commenterId":-5060162230523776870,"content":"great to know it isn\u0027t blocking you.","timestamp":1360793335,"attachments":[]},{"id":7,"commenterId":-5060162230523776870,"content":"The problem here is that the Rhino parser is throwing an exception (rather than reporting an error) and the compiler is eating it and producing an empty file.  I have a fix pending.","timestamp":1360803437,"attachments":[]},{"id":8,"commenterId":6584577181617400053,"content":"Thanks john.","timestamp":1360803824,"attachments":[]},{"id":9,"commenterId":-8769171937076622550,"content":"This issue was closed by revision b2866728fe81.","timestamp":1361320335,"attachments":[]}]}