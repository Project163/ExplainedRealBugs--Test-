{"id":874,"status":"Fixed","summary":"Advanced optimization removes nested code","labels":["Type-Defect","Priority-Medium"],"stars":0,"commentCount":7,"comments":[{"id":0,"commenterId":-9085129171325676038,"content":"\u003cb\u003eWhat steps will reproduce the problem?\u003c/b\u003e\n1. Compile this code:\r\n\r\n// \u003d\u003dClosureCompiler\u003d\u003d\r\n// @output_file_name default.js\r\n// @compilation_level ADVANCED_OPTIMIZATIONS\r\n// @formatting pretty_print\r\n// \u003d\u003d/ClosureCompiler\u003d\u003d\r\nvar ImageEditor;\r\n(function (ImageEditor) {\r\n    (function (View) {\r\n        View.defaultLeftPaneWidth \u003d 200;\r\n        var Editor \u003d (function () {\r\n            function Editor(a, b) {\r\n                return a + b;\r\n            }\r\n            return Editor;\r\n        })();\r\n        View.Editor \u003d Editor;        \r\n    })(ImageEditor.View || (ImageEditor.View \u003d {}));\r\n    var View \u003d ImageEditor.View;\r\n})(ImageEditor || (ImageEditor \u003d {}));\r\nwindow[\u0026quot;ImageEditor\u0026quot;][\u0027View\u0027][\u0026quot;Editor\u0026quot;] \u003d ImageEditor.View.Editor;\r\n\r\n\r\n\u003cb\u003eWhat is the expected output? What do you see instead?\u003c/b\u003e\nExpected output:\r\nvar a, b \u003d a || (a \u003d {});\r\n(b.a || (b.a \u003d {})).b \u003d function(c, d) {\r\n  return c + d\r\n};\r\nwindow.ImageEditor.View.Editor \u003d a.a.b;\r\n\r\n\r\nCurrent output:\r\nvar a, b \u003d a || (a \u003d {});\r\nb.a || (b.a \u003d {});\r\nwindow.ImageEditor.View.Editor \u003d a.a.b;\r\n\r\n\r\n\u003cb\u003eWhat version of the product are you using? On what operating system?\u003c/b\u003e\nBuilt at r2388\r\n\r\n\u003cb\u003ePlease provide any additional information below.\u003c/b\u003e","timestamp":1355409964,"attachments":[]},{"id":1,"commenterId":-5060162230523776870,"content":"Issue 875 has been merged into this issue.","timestamp":1355436741,"attachments":[]},{"id":2,"commenterId":-5060162230523776870,"content":"","timestamp":1355436755,"attachments":[]},{"id":3,"commenterId":-5060162230523776870,"content":"Thanks for the report","timestamp":1355436787,"attachments":[]},{"id":4,"commenterId":-7699928860083865744,"content":"@john -- did you start working on this?","timestamp":1355789066,"attachments":[]},{"id":5,"commenterId":-5060162230523776870,"content":"no, I dug out a out CL of mine but I didn\u0027t like it.  I haven\u0027t started anything else.","timestamp":1355798517,"attachments":[]},{"id":6,"commenterId":1328304962299559429,"content":"This issue was closed by revision r2429.","timestamp":1357264843,"attachments":[]}]}