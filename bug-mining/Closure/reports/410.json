{"id":1128,"status":"Duplicate","summary":"! is not respected on a template type with a parameterized subclass","labels":["Type-Defect","Priority-Medium"],"stars":0,"commentCount":2,"comments":[{"id":0,"commenterId":-5840843288128391281,"content":"\u003cb\u003eWhat steps will reproduce the problem?\u003c/b\u003e\n1. Compile the attached js file with type checking.  I used the following: \r\njava -jar compiler.jar --warning_level\u003dVERBOSE --js\u003dsnippet.js --closure_entry_point\u003dsnippet --js\u003dclosure/goog/base.js --js_output_file\u003dout.js       \r\n\r\n\u003cb\u003eWhat is the expected output? What do you see instead?\u003c/b\u003e\nOutput: \r\nsnippet.js:32: WARNING - actual parameter 1 of requiresNonNull does not match formal parameter\r\nfound   : (Object|null)\r\nrequired: Object\r\n  requiresNonNull(nonNullable);  //nonNullable is !Object, should be no error, is error\r\n                  ^\r\n\r\nsnippet.js:35: WARNING - actual parameter 1 of requiresNonNull does not match formal parameter\r\nfound   : (Object|null)\r\nrequired: Object\r\n  requiresNonNull(nullable);  //nullable is Object|null, should be and is error\r\n                  ^\r\n\r\nLine 35 is correctly identified as an error, but line 32 should not be an error.\r\n\r\n\u003cb\u003eWhat version of the product are you using? On what operating system?\u003c/b\u003e\nv20131014, Ubuntu 12.04 and others\r\n\r\n\u003cb\u003ePlease provide any additional information below.\u003c/b\u003e\nWhen BadChild extends ParentObject.\u0026lt;Object\u0026gt;, (new BadChild()).doThing should take {!Object} as its first argument, and {Object} as its second.  The type checker believes that nonNullable in that case is (Object|null), despite the type declaration of its parent requiring non-null.\r\n\r\nGoodChild extends ParentObject.\u0026lt;!Object\u0026gt;, which silences our compiler warnings with redundant !s, and prevents us from taking the second argument of doThing as null.","timestamp":1383076102,"attachments":[{"id":11280000000,"fileName":"snippet.js","fileSize":1211}]},{"id":1,"commenterId":-5060162230523776870,"content":"","timestamp":1383091304,"attachments":[]}]}