{"id":999,"status":"Fixed","summary":"Optional argument in CanvasRenderingContext2D","labels":["Type-Defect","Priority-Medium"],"stars":0,"commentCount":5,"comments":[{"id":0,"commenterId":-4114200149851845556,"content":"\u003cb\u003eWhat steps will reproduce the problem?\u003c/b\u003e\n1. Create the following test file \u0026quot;test.js\u0026quot;:\r\n\r\n/** @param {CanvasRenderingContext2D} ctx */\r\nvar f \u003d function (ctx) {\r\n\tctx.arc(1, 2, 3, 4, 5);\r\n};\r\n\r\n2. Compile it with\r\n\r\njava -jar compiler.jar --warning_level VERBOSE test.js\r\n\r\n\u003cb\u003eWhat is the expected output? What do you see instead?\u003c/b\u003e\n\r\nNo warning expected (the output itself is correct). Warning displayed:\r\n\r\ntest.js:3: WARNING - Function CanvasRenderingContext2D.prototype.arc: called with 5 argument(s). Function requires at least 6 argument(s) and no more than 6 argument(s).\r\n\tctx.arc(1, 2, 3, 4, 5);\r\n\t^\r\n\r\n0 error(s), 1 warning(s), 100,0% typed\r\nvar f\u003dfunction(a){a.arc(1,2,3,4,5)};\r\n\r\n\u003cb\u003eWhat version of the product are you using? On what operating system?\u003c/b\u003e\n\r\nClosure Compiler (http://code.google.com/closure/compiler)\r\nVersion: exported\r\nBuilt on: 2013/04/11 11:30\r\n\r\nMac OS 10.6.8\r\n\r\n\u003cb\u003ePlease provide any additional information below.\u003c/b\u003e\n\r\nReference document for HTML5 canvas, at http://www.w3.org/TR/2dcontext2/ , shows that the 6th argument of arc (\u0026quot;anticlockwise\u0026quot;) is optional. In closure-compiler file externs/html5.js, line 265 should read \u0026quot;@param {boolean\u003d} anticlockwise\u0026quot; instead of \u0026quot;@param {boolean} anticlockwise\u0026quot;.\r\n\r\nThere are similar issues with other optional arguments, such as with function CanvasRenderingContext2D.prototype.fill; search \u0026quot;optional\u0026quot; in the W3 reference document.","timestamp":1369130757,"attachments":[]},{"id":1,"commenterId":-5060162230523776870,"content":"Can you provide a patch?","timestamp":1369153295,"attachments":[]},{"id":2,"commenterId":-8769171937076622550,"content":"Issue 1003 has been merged into this issue.","timestamp":1369949386,"attachments":[]},{"id":3,"commenterId":-8769171937076622550,"content":"This issue was closed by revision 6ada994d101c.","timestamp":1370306833,"attachments":[]},{"id":4,"commenterId":-8769171937076622550,"content":"This issue was closed by revision 1288c2aa78ef.","timestamp":1370306834,"attachments":[]}]}