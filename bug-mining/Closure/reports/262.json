{"id":922,"status":"Fixed","summary":"Sourcemap generation with ant","labels":["Type-Defect","Priority-Medium","Patch"],"stars":0,"commentCount":6,"comments":[{"id":0,"commenterId":5944659191404626328,"content":"\u003cb\u003eWhat steps will reproduce the problem?\u003c/b\u003e\n1. run ant task with following configuration:\r\n  \u0026lt;jscomp compilationLevel\u003d\u0026quot;simple\u0026quot; output\u003d\u0026quot;./combined.js\u0026quot;\u0026gt;\r\n    \u0026lt;sources dir\u003d\u0026quot;./\u0026quot;\u0026gt;\r\n      \u0026lt;file name\u003d\u0026quot;test1.js\u0026quot;/\u0026gt;\r\n      \u0026lt;file name\u003d\u0026quot;test2.js\u0026quot;/\u0026gt;\r\n    \u0026lt;/sources\u0026gt;\r\n  \u0026lt;/jscomp\u0026gt;\r\n\r\n  whereas jscomp is the ant task-definition that calls the CompileTask.\r\n\r\n\u003cb\u003eWhat is the expected output? What do you see instead?\u003c/b\u003e\ncombined.js that includes minified and combined contents of test1.js and test2.js. There is no way to tell the ant task to generate source-map.\r\n\r\nThe patch I made makes this possible. Here is a sample configuration from an ant xml-file:\r\n  \u0026lt;jscomp compilationLevel\u003d\u0026quot;simple\u0026quot; output\u003d\u0026quot;./combined.js\u0026quot; sourceMapOutputFile\u003d\u0026quot;./combined.js.map\u0026quot; sourceMapFormat\u003d\u0026quot;V3\u0026quot;\u0026gt;\r\n    \u0026lt;sources dir\u003d\u0026quot;./\u0026quot;\u0026gt;\r\n      \u0026lt;file name\u003d\u0026quot;test1.js\u0026quot;/\u0026gt;\r\n      \u0026lt;file name\u003d\u0026quot;test2.js\u0026quot;/\u0026gt;\r\n    \u0026lt;/sources\u0026gt;\r\n  \u0026lt;/jscomp\u0026gt;\r\n\r\nThe patched CompileTask saves the sourcemap to the specified file and also generates a comment in combined.js that points to the sourcemap file (combined.js.map in this case).","timestamp":1361374205,"attachments":[{"id":9220000000,"fileName":"CompileTask.java","fileSize":19259}]},{"id":1,"commenterId":-5060162230523776870,"content":"Thanks for the patch.  Can you provide a CLA as per http://code.google.com/p/closure-compiler/wiki/Contributors ?","timestamp":1361460523,"attachments":[]},{"id":2,"commenterId":-5060162230523776870,"content":"","timestamp":1361460542,"attachments":[]},{"id":3,"commenterId":5944659191404626328,"content":"I thought, I already have one, since I have a gmail account. But anyway, I have just submitted a new one over the following link:\r\nhttp://code.google.com/legal/individual-cla-v1.0.html","timestamp":1361463930,"attachments":[]},{"id":4,"commenterId":-5060162230523776870,"content":"Thanks, I\u0027ll take a look.","timestamp":1361465995,"attachments":[]},{"id":5,"commenterId":-8769171937076622550,"content":"This issue was closed by revision e93aa3e15049.","timestamp":1361570341,"attachments":[]}]}