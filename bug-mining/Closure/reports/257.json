{"id":856,"status":"Fixed","summary":"Add google chart tools / visualization API externs file in contrib/externs","labels":["Type-Defect","Priority-Low"],"stars":0,"commentCount":20,"comments":[{"id":0,"commenterId":-5067252003069689473,"content":"The externs file to be used with the chart tools JS API is not bundled with the closure compiler.\r\n\r\nWould it be possible to add this file into the contirb/externs folder ?\r\n\r\nI have found the following posts about this subject:\r\n- https://groups.google.com/forum/#!topic/google-visualization-api/_XQqVd39zOU/discussion\r\n- https://groups.google.com/d/topic/closure-compiler-discuss/LWKMENZLVrs/discussion\r\n\r\nThe file is available here: http://www.google.com/uds/modules/gviz/gviz-api.js\r\n\r\nSo it could be as simple as adding the revision number to the filename and bundling those with the compiler.\r\n\r\nThanks for your help ","timestamp":1352386926,"attachments":[]},{"id":1,"commenterId":-5067252003069689473,"content":"FYI The file linked (gviz-api.js) is uncomplete and produces a lot of warnings (i.e. \"WARNING - Function google.visualization.DataTable.prototype.addColumn: called with 2 argument(s). Function requires at least 3 argument(s) and no more than 3 argument(s).\")","timestamp":1353013585,"attachments":[]},{"id":2,"commenterId":8173196008570380122,"content":"That file looks old and out-of-date. It also is very incomplete containing minimal type information.\r\n\r\nUnless there is an internal Google version, this file needs a maintainer/contributor to do the initial work for it to be included.","timestamp":1353070604,"attachments":[]},{"id":3,"commenterId":-5067252003069689473,"content":"Are extern files generally generated from (google internal) source code or maintained separately ?\r\nSome work has been done if you look at the reference doc (https://developers.google.com/chart/interactive/docs/reference) but it\u0027s hard to know if this is auto or manually generated.","timestamp":1353073014,"attachments":[]},{"id":4,"commenterId":8173196008570380122,"content":"It\u0027s a combination. The maps externs are auto-generated from source, but several of the other google apis are user contributed.","timestamp":1353107889,"attachments":[]},{"id":5,"commenterId":-5067252003069689473,"content":"I have created a better version of the file.\r\n\r\nStill it is not perfect has it lacks some @typedef but it is far better and could be a good starting point.\r\n\r\nWhat do you think ?\r\n\r\nhttps://github.com/vicb/VisuGps3/blob/master/src/vgps3/plugins/chart/externs/google_viz_api_v1.0.js","timestamp":1353260769,"attachments":[{"id":8560005000,"fileName":"google_viz_api_v1.0.js","fileSize":45162}]},{"id":6,"commenterId":8173196008570380122,"content":"That does look much better. Do you have a CLA on file? https://code.google.com/p/closure-compiler/source/browse/trunk/CONTRIBUTORS\r\n\r\nIf so, I\u0027ll review this and we can include it.","timestamp":1353334461,"attachments":[]},{"id":7,"commenterId":-5067252003069689473,"content":"Thanks for your help !\r\n\r\nI have just requested a CLA with the email adress used on this bug tracker.\r\n\r\nI have fixed a few issue on github so please use the link rather than the file attached in my previous comment.\r\n\r\n","timestamp":1353335221,"attachments":[]},{"id":8,"commenterId":8173196008570380122,"content":"Nick: Can you verify the CLA?","timestamp":1353335933,"attachments":[]},{"id":9,"commenterId":-7699928860083865744,"content":"CLA looks fine to me.","timestamp":1353351263,"attachments":[]},{"id":10,"commenterId":8173196008570380122,"content":"Code review: https://codereview.appspot.com/6846077","timestamp":1353356634,"attachments":[]},{"id":11,"commenterId":-7699928860083865744,"content":"let me check quick if i can find a good reviewer. if i can\u0027t, i\u0027ll review it.","timestamp":1353359916,"attachments":[]},{"id":12,"commenterId":-7699928860083865744,"content":"ah, i see chad is already taking care of it. The visualizations people said that\u0027s fine.","timestamp":1353366245,"attachments":[]},{"id":13,"commenterId":4900124685298865070,"content":"Comment deleted","timestamp":1353372380,"attachments":[]},{"id":14,"commenterId":4900124685298865070,"content":"Sorry if there\u0027s a more pertinent place to ask this question, but I haven\u0027t found a better one...is there a gvis.js (or gsvis-impl.js or similar) available?  I assume the reason for making this extern file available is so that the chart/visualization tools can be compiled with an application (and avoid additional downloads to display a chart) and so that closure won\u0027t obfuscate/minify the API to the tools; however, I haven\u0027t been able to find one.  Thanks in advance.","timestamp":1353372559,"attachments":[]},{"id":15,"commenterId":8173196008570380122,"content":"This extern will allow developers to compile code that uses visualization library methods. However the file is simply empty definitions. The main libraries must still be loaded with the Google JSAPI loader.","timestamp":1353374298,"attachments":[]},{"id":16,"commenterId":-5067252003069689473,"content":"Here is a patch file generated after having integrated the review comments.\r\n\r\nThe file is available at https://raw.github.com/vicb/VisuGps3/master/src/vgps3/plugins/chart/externs/google_viz_api_v1.0.js\r\n\r\nThanks for your help,\r\nVictor","timestamp":1353408078,"attachments":[{"id":8560016000,"fileName":"externs.patch","fileSize":52864}]},{"id":17,"commenterId":-5060162230523776870,"content":"Chad were you able to take another look?","timestamp":1356124313,"attachments":[]},{"id":18,"commenterId":8173196008570380122,"content":"Yes. The annotations looked fine. I got sidetracked by being out sick and the holidays. The only thing left to do was a quick check with a basic sample. I\u0027ll see if I can get that done this afternoon.","timestamp":1357161784,"attachments":[]},{"id":19,"commenterId":8173196008570380122,"content":"This issue was closed by r2438.","timestamp":1357581434,"attachments":[]}]}