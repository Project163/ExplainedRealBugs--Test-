{"id":949,"status":"Duplicate","summary":"Lack of cyrillic charset windows-1251 Google Closure Compiler REST API support for input \u0026 output.","labels":["Type-Defect","Priority-Medium","Restrict-AddIssueComment-Nobody"],"stars":0,"commentCount":9,"comments":[{"id":0,"commenterId":-1138727189654221113,"content":"\u003cb\u003eWhat steps will reproduce the problem?\u003c/b\u003e\n1. Create *.js file with charset windows-1251 and cyrillic symbols in it (ex. \u0026quot;Да здравствует этот прекрасный мир!\u0026quot;);\r\n2. Add it as a source url to google compiler ( REST API ) with request parameter \u0026quot;..\u0026amp;charset\u003dwindows-1251\u0026amp;..\u0026quot;;\r\n3. Try to compile.\r\n\r\n\u003cb\u003eWhat is the expected output? What do you see instead?\u003c/b\u003e\nJS part\u0027ll be compiled with success, except cyrillic symbols, which will be outputs as \u0026quot;\\ufffd\\ufffd \\ufffd\\ufffd\\ufffd\\ufffd\\ufffd\\ufffd\\ufffd\\ufffd\\ufffd\\ufffd\\ufffd \\ufffd\\ufffd\\ufffd\\ufffd \\ufffd\\ufffd\\ufffd\\ufffd\\ufffd\\ufffd\\ufffd\\ufffd\\ufffd\\ufffd \\ufffd\\ufffd\\ufffd!\u0026quot;\r\n\r\n\u003cb\u003eWhat version of the product are you using? On what operating system?\u003c/b\u003e\nThe latest version of REST API, using Google Chrome on Windows.\r\n\r\n\u003cb\u003ePlease provide any additional information below.\u003c/b\u003e","timestamp":1363620046,"attachments":[]},{"id":1,"commenterId":-5060162230523776870,"content":"How are you encoding your POST?","timestamp":1363884560,"attachments":[]},{"id":2,"commenterId":-1138727189654221113,"content":"Javascript file has windows-1251 encoding. POST request has charset\u003dwindows-1251 as a get parameter also. But cyrillic symbols encodes like unknown.","timestamp":1363891007,"attachments":[]},{"id":3,"commenterId":6454800031398885070,"content":"I asking about the encoding of the post itself.","timestamp":1363896462,"attachments":[]},{"id":4,"commenterId":-1138727189654221113,"content":"There is no encoding for the POST itself.","timestamp":1363938928,"attachments":[]},{"id":5,"commenterId":-5060162230523776870,"content":"You need to verify that you are encoding your POST correct and setting an appropriate charset with a header like:\r\n\r\nContent-Type: application/x-www-form-urlencoded ; charset\u003dUTF-8","timestamp":1363984163,"attachments":[]},{"id":6,"commenterId":-1138727189654221113,"content":"I\u0027ve just set request header to:\r\nContent-Type: application/x-www-form-urlencoded; charset\u003dwindows-1251\r\n\r\nSpecify charset parameter in request string next way:\r\n\"?compilation_level\u003dSIMPLE_OPTIMIZATIONS\u0026output_format\u003djson\u0026output_info\u003dcompiled_code\u0026output_info\u003dwarnings\u0026output_info\u003derrors\u0026charset\u003dWindows-1251\u0026code_url\u003dpath_to_file\"\r\n\r\nParameters string values encoded with encodeURIComponenets and names with encodeURI.\r\n\r\nBut the output format still UTF-8.","timestamp":1364291953,"attachments":[]},{"id":7,"commenterId":-8769171937076622550,"content":"Issue tracking has been migrated to github. Please make any further comments on this issue through https://github.com/google/closure-compiler/issues","timestamp":1398969110,"attachments":[]},{"id":8,"commenterId":-8769171937076622550,"content":"","timestamp":1398969252,"attachments":[]}]}