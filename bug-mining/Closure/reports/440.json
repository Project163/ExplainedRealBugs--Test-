{"id":46,"status":"Invalid","summary":"Optimization on if parameter with boolean assignment","labels":["Type-Defect","Priority-Medium"],"stars":1,"commentCount":5,"comments":[{"id":0,"commenterId":1512880270243093237,"content":"The code:\r\n\r\nfunction hello(name) {\r\n  var i \u003d true;\r\n  if ( i \u003d false ){\r\n     alert(\u0027Hello\u0027);\r\n  }\r\n}\r\n\r\nsince the if statement will always be false it could be optimized","timestamp":1258412766,"attachments":[]},{"id":1,"commenterId":-5060162230523776870,"content":"Thanks for the report, but I\u0027ve been unable to reproduce the problem. I\u0027m closing \r\nthis for now, if you have another example, where it fails we can reopen it.\r\n\r\nThe webservice produces:\r\n\r\n\"function hello(a){a\u003dtrue};\" even in simple mode.\r\n\r\nHere is the script that I used:\r\n\r\n// \u003d\u003dClosureCompiler\u003d\u003d\r\n// @compilation_level SIMPLE_OPTIMIZATIONS\r\n// @output_file_name default.js\r\n// \u003d\u003d/ClosureCompiler\u003d\u003d\r\n\r\nfunction hello(name) {\r\n  var i \u003d true;\r\n  if ( i \u003d false ){\r\n     alert(\u0027Hello\u0027);\r\n  }\r\n}","timestamp":1258414010,"attachments":[]},{"id":2,"commenterId":1512880270243093237,"content":"I try it again, and found that the statement \"function hello(a){a\u003dtrue};\" cannot be\r\nvalid. Where does it comes the \"a \u003d true\" ? In the unoptimized code, the parameter\r\n\"name\" is never read anywhere, and in the statement, the parameter \"a\" is used in \"a\r\n\u003d true\".\r\n\r\n","timestamp":1258414734,"attachments":[]},{"id":3,"commenterId":1512880270243093237,"content":"Another think that I found is that, if I use the same code:\r\n\r\n// \u003d\u003dClosureCompiler\u003d\u003d\r\n// @compilation_level SIMPLE_OPTIMIZATIONS\r\n// @output_file_name default.js\r\n// \u003d\u003d/ClosureCompiler\u003d\u003d\r\n\r\nfunction hello(name) {\r\n  var i \u003d true;\r\n  if ( i \u003d false ){\r\n     alert(\u0027Hello\u0027);\r\n  }\r\n}\r\n\r\n// calling the function\r\nhello(\"tetris\");\r\n\r\nin this case the function is empty and does nothing, can it be removed ?\r\n\r\n","timestamp":1258415014,"attachments":[]},{"id":4,"commenterId":-5060162230523776870,"content":"Not is simple mode.  You need to use advanced optimization if you are willing to have \r\nthe compiler change the global namespace.","timestamp":1258415291,"attachments":[]}]}