{"id":597,"status":"Duplicate","summary":"named function expression shadowed via var declaration breaks code","labels":["Type-Defect","Priority-Medium"],"stars":0,"commentCount":3,"comments":[{"id":0,"commenterId":-3576705947190548040,"content":"\u003cb\u003eWhat steps will reproduce the problem?\u003c/b\u003e\n1. create a variable with same function expression name but different value\r\n2. try to operate as expected with that variable\r\n3. see code breaking for no reason\r\n\r\nvar o \u003d {\r\n    draw: function draw() {\r\n        var draw \u003d [];\r\n        return draw.push(123);\r\n    }\r\n};\r\n\r\n// compiles into\r\nvar o\u003d{draw:function draw(){draw\u003d[];return draw.push(123)}};\r\n// problem is in draw\u003d[]\r\n\r\n\u003cb\u003eWhat is the expected output? What do you see instead?\u003c/b\u003e\nexpected output is 1\r\nI see an error since function draw has no method push\r\nThe fact a variable has same function expression name means the function expression name could be removed from its inner scope since var sameName will shadow it in any case.\r\n\r\n\r\n\u003cb\u003eWhat version of the product are you using? On what operating system?\u003c/b\u003e\nit does not matter, the output is wrong\r\n\r\n\r\n\u003cb\u003ePlease provide any additional information below.\u003c/b\u003e\nFunction declarations do not have this problem.\r\nWhenever this is a good technique or not, there is a logic problem with the parser when function expression name is shadowed.\r\n\r\nSame happens within a closure:\r\nthis.o \u003d (function(){\r\n    return {\r\n    draw: function draw() {\r\n            var draw \u003d [];\r\n            return draw.push(123);\r\n        }\r\n    };\r\n}());\r\n\r\nBest Regards","timestamp":1321462383,"attachments":[]},{"id":1,"commenterId":-7699928860083865744,"content":"thanks for the report!\r\n\r\n","timestamp":1321463130,"attachments":[]},{"id":2,"commenterId":-3576705947190548040,"content":"Hi Nicholas, I swear I have searched before creating this but I guess comments are not part of the search ( I looked for function expression name shadowed ). Thanks for the merge","timestamp":1321465979,"attachments":[]}]}